<?php


// pages/file-manager.html

FileManager::$SOURCE['pages/file-manager.html'] = "Cgo8P3BocCAKICAkYmFzZSA9ICRfU0VSVkVSWyJTQ1JJUFRfVVJJIl07CiAgJGJhc2UgPSBzdWJzdHIoJGJhc2UsIDAsIHN0cnBvcygkYmFzZSwiL2ZvbGRlciIpKSAuICIvIjsKPz4KPGJhc2UgaHJlZj0iPD89ICRiYXNlID8+cGFnZXMvIiB0YXJnZXQ9Il9ibGFuayI+Cgo8bWV0YSBjaGFyc2V0PSJ1dGY4Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgo8c2NyaXB0IHNyYz0iRmlsZU1hbmFnZXIuanM/dj08Pz0gYmluMmhleChyYW5kb21fYnl0ZXMoMjApKSA/PiI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJJY29ucy5qcz92PTw/PSBiaW4yaGV4KHJhbmRvbV9ieXRlcygyMCkpID8+Ij48L3NjcmlwdD4KPHNjcmlwdCBzcmM9IlByb2dyZXNzQmFyLmpzP3Y9PD89IGJpbjJoZXgocmFuZG9tX2J5dGVzKDIwKSkgPz4iPjwvc2NyaXB0PgoKCjx0aXRsZT4vPC90aXRsZT4KCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iTW9kYWxWaWV3LmNzcz92PTw/PSBiaW4yaGV4KHJhbmRvbV9ieXRlcygyMCkpID8+Ij4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJQcm9ncmVzc0Jhci5jc3M/dj08Pz0gYmluMmhleChyYW5kb21fYnl0ZXMoMjApKSA/PiI+Cgo8bGluayB0eXBlPSJpbWFnZS94LWljb24iIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVdWdElpQm9aV2xuYUhROUlqRmxiU0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpUGcwS0lDQThjR0YwYUNCbWFXeHNQU0lqWmpFNVpETTNJaUJrUFNKTk1URWdOV010TVM0Mk1qa2dNQzB5TGpNd05TMHhMakExT0MwMExUTm9MVGQyTWpCb01qUjJMVEUzYUMweE0zb2lQand2Y0dGMGFENE5Dand2YzNablBnPT0iPgoKPHNjcmlwdD4KcGF0aCA9ICI8Pz0gIGFkZHNsYXNoZXMoJF9HRVRbJ3BhdGgnXSkgPz4iOwpiYXNlID0gIjw/PSAgYWRkc2xhc2hlcygkYmFzZSkgPz4iOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXsKICBGaWxlTWFuYWdlci5vcHRpb25zLnNlcnZlciA9IGJhc2UgOwoKCiAgZmlsZU1hbmFnZXIgPSBGaWxlTWFuYWdlci5TZWxlY3QoewogICAgdHlwZSA6ICJleHBsb3JlIiwKICAgIHBhdGggOiBwYXRoLAogICAgY2xvc2VCdXR0b24gOiBmYWxzZSwKICAgIC8vdGhlbWU6ICJkYXJrIiwKICAgIHRpdGxlOiAiTWFzdGVyIiwKICAgIGhpZGVUaHVtYm5haWxGb2xkZXI6IGZhbHNlCiAgfSkKCgogIGZpbGVNYW5hZ2VyLm9uKCJkaXIiLHBhdGg9PnsgICAKICAgIGxldCBsaW5rICA9IGJhc2UgKyAiZm9sZGVyIiArIHBhdGg7CiAgICBsZXQgdGl0bGUgPSBwYXRoCiAgICBoaXN0b3J5LnB1c2hTdGF0ZSh7IHBhdGg6IHBhdGggfSwgdGl0bGUsIGxpbmsgKTsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInRpdGxlIikuaW5uZXJIVE1MID0gcGF0aAoKICAgIGxldCB0ZXh0ID0gcGF0aC5zcGxpdCgiLyIpLnBvcCgpLnN1YnN0cigwLDIpCiAgICBsZXQgY29sb3IgPSBsb2NhbFN0b3JhZ2VbImZpbGUtbWFuYWdlci1jb2xvciIrZmlsZU1hbmFnZXIucGF0aF0KICAgIGlmKCFjb2xvciB8fCBjb2xvcj09Im51bGwiKSBjb2xvcj0iI2U1YTE0ZCIKICAgIAogICAgbGV0IGludmVyc2UgPSAiYmxhY2siOwogICAgaWYoIFsicmdiKDU1LCAxMjQsIDI0NSkiLCJyZ2IoMTAzLCA1OCwgMTgzKSIsInJnYigyNTUsIDc4LCAyMzUpIiwicmdiKDI0NCwgNjcsIDU0KSJdLmluZGV4T2YoY29sb3IpID4gLTEgKXsKICAgICAgaW52ZXJzZSA9ICJ3aGl0ZSIKICAgIH0KCiAgICBsZXQgZmlsZV9zdmcgPSBgPHN2ZyBzdHlsZT0id2lkdGg6MWVtO2hlaWdodDoxZW07IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTIyIDI0aC0yMHYtMjRoMTRsNiA2djE4em0tNy0yM3oiIHN0eWxlPSIiPjwvcGF0aD48L3N2Zz5gCgogICAgbGV0IHN2ZyA9IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iJHtjb2xvcn0iIGQ9Ik0xMSA1Yy0xLjYyOSAwLTIuMzA1LTEuMDU4LTQtM2gtN3YyMGgyNHYtMTdoLTEzeiI+PC9wYXRoPjx0ZXh0IHg9IjEyIiB5PSIxOCIgY2xhc3M9ImhlYXZ5IiBmaWxsPSIke2ludmVyc2V9IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiAgc3R5bGU9ImZvbnQ6IGJvbGQgMTZweCBtb25vc3BhY2U7Ij4ke3RleHR9PC90ZXh0Pjwvc3ZnPmAKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tyZWw9InNob3J0Y3V0IGljb24iXScpLmhyZWYgPSAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiICsgd2luZG93LmJ0b2Eoc3ZnKTsKICAKICB9KQoKCiAgCiAgZmlsZU1hbmFnZXIub24oImZpbGUiLGRhdGE9PnsgICAKICAgIGxldCBwYXRoID0gZGF0YS5wYXRoLGNvbG9yID0gZGF0YS5jb2xvcjsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInRpdGxlIikuaW5uZXJIVE1MID0gcGF0aAogICAgbGV0IHRleHQgPSBwYXRoLnNwbGl0KCIvIikucG9wKCkuc3Vic3RyKDAsMikKICAgIAogICAgLy9jb2xvciA9ICIjREREIgogICAgLy9pbnZlcnNlID0gImJsYWNrIgogICAgaW52ZXJzZSA9ICJ3aGl0ZSIKCiAgICBsZXQgc3ZnID0gYDxzdmcgc3R5bGU9IndpZHRoOjFlbTtoZWlnaHQ6MWVtOyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iJHtjb2xvcn0iIGQ9Ik0yMiAyNGgtMjB2LTI0aDE0bDYgNnYxOHptLTctMjN6IiBzdHlsZT0iIj48L3BhdGg+PHRleHQgeD0iMTIiIHk9IjIwIiBjbGFzcz0iaGVhdnkiIGZpbGw9IiR7aW52ZXJzZX0iIHRleHQtYW5jaG9yPSJtaWRkbGUiICBzdHlsZT0iZm9udDogYm9sZCAxNnB4IG1vbm9zcGFjZTsiPiR7dGV4dH08L3RleHQ+PC9zdmc+YAogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3JlbD0ic2hvcnRjdXQgaWNvbiJdJykuaHJlZiA9ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIgKyB3aW5kb3cuYnRvYShzdmcpOwogIAogIH0pCiAgCn0pCgo8L3NjcmlwdD4=";

// pages/FileManager.js

FileManager::$SOURCE['pages/FileManager.js'] = "KGZ1bmN0aW9uKCl7DQoNCg0KICB2YXIgZG9jdW1lbnRlciA9IGRvY3VtZW50ZXIgfHwge307DQoNCiAgZG9jdW1lbnRlci5tb2RhbCA9IGZ1bmN0aW9uKHRleHQ9IiIpew0KICAgIGNvbnN0IHJlbmRlciA9IGZ1bmN0aW9uKGh0bWwpew0KICAgICAgdmFyIG1pbWUgPSBodG1sLmluZGV4T2YoInhtbG5zPSIpID09IC0xID8gInRleHQvaHRtbCIgOiAiaW1hZ2Uvc3ZnK3htbCI7ICAgDQogICAgICB2YXIgcGFyc2VkPSByZW5kZXIucGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sLCBtaW1lKTsNCiAgICAgIHJldHVybiBtaW1lPT0idGV4dC9odG1sIiA/IHBhcnNlZC5ib2R5LmZpcnN0Q2hpbGQgOiBwYXJzZWQuZmlyc3RDaGlsZDsNCiAgICB9DQogICAgcmVuZGVyLnBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsNCiAgICBsZXQgcGFyZW50ID0gcmVuZGVyKCI8ZGl2IHN0eWxlPSdwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kOiM4ODg4O3otaW5kZXg6MjA7YmFja2Ryb3AtZmlsdGVyOmJsdXIoMnB4KTt6LWluZGV4OjEwMDAxOycgZG9jdW1lbnRlci1tb2RhbD48ZGl2IGRvY3VtZW50ZXItbW9kYWwtY29udGVudCBzdHlsZT0nbWFyZ2luOiAyZW0gYXV0bztwb3NpdGlvbjogcmVsYXRpdmU7YmFja2dyb3VuZDogdmFyKC0td2ViLWVkaXRhYmxlLWJhY2tncm91bmQsI0ZGRik7Ym9yZGVyLXJhZGl1czogMWVtO21heC13aWR0aDogY2FsYygxMDAlIC0gNGVtKTttYXgtaGVpZ2h0OiBjYWxjKDEwMCUgLSA0ZW0pO3RvcDogY2FsYyg1MCUgLSAyZW0pO3RyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO3dpZHRoOiBjYWxjKDEwMCUgLSA1ZW0pO2JveC1zaGFkb3c6MHB4IDBweCAxMHB4ICM4ODhDO2Rpc3BsYXk6ZmxleDsnPjxkaXYgZG9jdW1lbnRlci1tb2RhbC1jb250ZW50LXRleHQgc3R5bGU9J3BhZGRpbmc6MWVtO292ZXJmbG93LXk6YXV0bztmbGV4OjE7JzwvZGl2PjwvZGl2PjwvZGl2PiIpDQogICAgcGFyZW50LmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTCA9IHRleHQNCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBhcmVudCkNCiAgICBsZXQgY2xvc2UgPSByZW5kZXIoIjxkaXYgaG92ZXIgbGlnaHQgZG9jdW1lbnRlci1tb2RhbC1jbG9zZSBzdHlsZT0ncG9zaXRpb246IGFic29sdXRlO3JpZ2h0OiAwO3RvcDogMDtiYWNrZ3JvdW5kOiB2YXIoLS13ZWItZWRpdGFibGUtYmFja2dyb3VuZCwjRkZGKTtib3JkZXItcmFkaXVzOiAxMDBweDtwYWRkaW5nOiA4cHg7dHJhbnNmb3JtOiB0cmFuc2xhdGUoNTAlLCAtNTAlKTtsaW5lLWhlaWdodDogMDsnPjwvZGl2PiIpDQogICAgY2xvc2UuaW5uZXJIVE1MID0gJzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIC05NjAgOTYwIDk2MCIgd2lkdGg9IjI0IiBmaWxsPSJjdXJyZW50Q29sb3IiPjxwYXRoIGQ9Im0yNTYtMjAwLTU2LTU2IDIyNC0yMjQtMjI0LTIyNCA1Ni01NiAyMjQgMjI0IDIyNC0yMjQgNTYgNTYtMjI0IDIyNCAyMjQgMjI0LTU2IDU2LTIyNC0yMjQtMjI0IDIyNFoiLz48L3N2Zz4nDQogICAgcGFyZW50LmZpcnN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGNsb3NlKQ0KICAgIGNvbnNvbGUubG9nKHBhcmVudCkNCiAgICBjbG9zZS5vbmNsaWNrID0gKCk9PnBhcmVudC5yZW1vdmUoKTsNCiAgICByZXR1cm4gcGFyZW50DQogIH0NCg0KICBkb2N1bWVudGVyLnJlbmRlciA9IGZ1bmN0aW9uKGh0bWwpew0KICAgIHZhciBtaW1lID0gaHRtbC5pbmRleE9mKCJ4bWxucz0iKSA9PSAtMSA/ICJ0ZXh0L2h0bWwiIDogImltYWdlL3N2Zyt4bWwiOyAgIA0KICAgIHZhciBwYXJzZWQ9IGRvY3VtZW50ZXIucmVuZGVyLnBhcnNlci5wYXJzZUZyb21TdHJpbmcoaHRtbCwgbWltZSk7DQogICAgcmV0dXJuIG1pbWU9PSJ0ZXh0L2h0bWwiID8gcGFyc2VkLmJvZHkuZmlyc3RDaGlsZCA6IHBhcnNlZC5maXJzdENoaWxkOw0KICB9DQogIGRvY3VtZW50ZXIucmVuZGVyLnBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsNCg0KICBkb2N1bWVudGVyLm9uID0gZnVuY3Rpb24oZXZlbnRzLHNlbGVjdG9yLGZuKXsNCiAgICBpZihldmVudHM9PSJyZWFkeSIpIGV2ZW50cyA9ICJET01Db250ZW50TG9hZGVkIg0KICAgIGlmKGZuPT1udWxsICYmIHNlbGVjdG9yIGluc3RhbmNlb2YgRnVuY3Rpb24pew0KICAgICAgZm4gPSBzZWxlY3Rvcg0KICAgICAgc2VsZWN0b3IgPSBmYWxzZQ0KICAgIH0NCiAgICBldmVudHMuc3BsaXQoIiwiKS5tYXAoZT0+ZS50cmltKCkpLm1hcChldmVudD0+ew0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxmdW5jdGlvbihlKXsNCiAgICAgICAgaWYoc2VsZWN0b3I9PWZhbHNlKXsNCiAgICAgICAgICByZXR1cm4gZm4uYmluZChkb2N1bWVudCkoZSkNCiAgICAgICAgfQ0KICAgICAgICBsZXQgZWxzID0gZS5jb21wb3NlZFBhdGgoKTsNCiAgICAgICAgZm9yKCBlbCBvZiBlbHMgKXsNCiAgICAgICAgICBpZiggZWwgaW5zdGFuY2VvZiBEb2N1bWVudCApIGNvbnRpbnVlOw0KICAgICAgICAgIGlmKCBlbCBpbnN0YW5jZW9mIFdpbmRvdyApIGNvbnRpbnVlOw0KICAgICAgICAgIGlmKCBlbC5tYXRjaGVzKHNlbGVjdG9yKSApew0KICAgICAgICAgICAgZm4uYmluZChlbCkoZSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSkNCiAgfQ0KDQoNCiAgRmlsZU1hbmFnZXI9e30NCg0KICBjb25zdCBFbmNvZGUgPSBmdW5jdGlvbihjb250ZW50KXsNCiAgICByZXR1cm4gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoY29udGVudCkpKQ0KICB9DQoNCiAgRmlsZU1hbmFnZXIuTGFuZ3VhZ2VFTiA9ew0KICAgIHNlbGVjdEZvbGRlcjoiU2VsZWN0IEZvbGRlciIsDQogICAgc2VsZWN0RmlsZToiU2VsZWN0IEZpbGUiLA0KICAgIHNlbGVjdEltYWdlOiJTZWxlY3QgSW1hZ2UiLA0KICAgIGltYWdlOiJJbWFnZSIsDQogICAgZmlsZToiRmlsZSIsDQogICAgc2VsZWN0OiJTZWxlY3QiLA0KICAgIGVkaXQ6IkVkaXQiLA0KICAgIG5ld0ZvbGRlcjoiTmV3IEZvbGRlciIsDQogICAgbmV3RmlsZSAgOiJOZXcgRmlsZSIsDQogICAgcmVuYW1lOiJSZW5hbWUiLA0KICAgIHppcDoiWmlwIiwNCiAgICB1bnppcDoiVW56aXAiLA0KICAgIGN1dDoiQ3V0IiwNCiAgICBjb3B5OiJDb3B5IiwNCiAgICBwYXN0ZToiUGFzdGUiLA0KICAgIG92ZXJ3cml0ZToiT3ZlcndyaXRlIiwNCiAgICBkZWxldGU6IkRlbGV0ZSIsDQogICAgZG93bmxvYWQ6IkRvd25sb2FkIiwNCiAgICB1cGxvYWQ6IlVwbG9hZCIsDQogICAgcmVwbGFjZToiUmVwbGFjZSIsDQogICAgaGlkZGVuOiJTaG93L0hpZGUgRmlsZXMiLA0KICAgIHVwbG9hZGluZzoiVXBsb2FkaW5nLi4uIiwNCiAgICB6aXBOYW1lOiJaaXAgbmFtZT8iLA0KICAgIHNlYXJjaDoiU2VhcmNoLi4uIiwNCiAgICBjYW5jZWw6IkNhbmNlbCIsDQogICAgbG9hZGluZzoiTG9hZGluZy4uLiIsDQogICAgbG9hZGVkOiJMb2FkZWQiLA0KICAgIHNhdmU6IlNhdmUiLA0KICAgIHNhdmluZzoiU2F2aW5nLi4uIiwNCiAgICBzYXZlZDoiU2F2ZWQhIiwNCiAgICBicm93c2U6IkJyb3dzZSIsDQogICAgZXJyb3I6IlNvbWV0aGluZyB3ZW50IHdyb25nIiwNCiAgICBmb2xkZXJFbXB0eToiVGhlIGZvbGRlciBpcyBlbXB0eSIsDQogICAgZmlsZU5hbWU6ImZpbGUgbmFtZSIsDQogICAgcHJvcGVydGllczogIlByb3BlcnRpZXMiLA0KICAgIGNvbnZlcnQgOiAiQ29udmVydCBJbWFnZSIsDQogIH0NCg0KDQogIEZpbGVNYW5hZ2VyLkxhbmd1YWdlVFIgPXsNCiAgICBzZWxlY3RGb2xkZXI6IktsYXPDtnIgU2XDpyIsDQogICAgc2VsZWN0RmlsZToiRG9zeWEgU2XDpyIsDQogICAgc2VsZWN0SW1hZ2U6IlJlc2ltIFNlw6ciLA0KICAgIGltYWdlOiJyZXNpbSIsDQogICAgZmlsZToiRG9zeWEiLA0KICAgIHNlbGVjdDoiU2XDpyIsDQogICAgZWRpdDoiRMO8emVubGUiLA0KICAgIG5ld0ZvbGRlcjoiWWVuaSBLbGFzw7ZyIiwNCiAgICBuZXdGaWxlICA6IlllbmkgRG9zeWEiLA0KICAgIHJlbmFtZToiWWVuaWRlbiBBZGxhbmTEsXIiLA0KICAgIHppcDoiU8Sxa8SxxZ90xLFyIiwNCiAgICB1bnppcDoiQXLFn2l2aSBBw6ciLA0KICAgIGN1dDoiS2VzIiwNCiAgICBjb3B5OiJLb3B5YWxhIiwNCiAgICBwYXN0ZToiWWFwxLHFn3TEsXIiLA0KICAgIG92ZXJ3cml0ZToiw5x6ZXJpbmUgWWF6IiwNCiAgICBkZWxldGU6IlNpbCIsDQogICAgZG93bmxvYWQ6IsSwbmRpciIsDQogICAgdXBsb2FkOiJZw7xrbGUiLA0KICAgIHJlcGxhY2U6IkRlxJ9pxZ90aXIiLA0KICAgIGhpZGRlbjoiRG9zeWFsYXLEsSBHw7ZzdGVyL0dpemxlIiwNCiAgICB1cGxvYWRpbmc6IlnDvGtsZW5peW9yLi4uIiwNCiAgICB6aXBOYW1lOiJBcsWfaXYgQWTEsT8iLA0KICAgIHNlYXJjaDoiQXJhLi4uIiwNCiAgICBjYW5jZWw6IsSwcHRhbCIsDQogICAgbG9hZGluZzoiWcO8a2xlbml5b3IuLi4iLA0KICAgIGxvYWRlZDoiWcO8a2xlbmRpIiwNCiAgICBzYXZlOiJLYXlkZXQiLA0KICAgIHNhdmluZzoiS2F5ZGVkaWxpeW9yLi4uIiwNCiAgICBzYXZlZDoiS2F5ZGVkaWxkaSEiLA0KICAgIGJyb3dzZToiR8O2eiBhdCIsDQogICAgZXJyb3I6IkJpciBoYXRhIG9sdcWfdHUiLA0KICAgIGZvbGRlckVtcHR5OiJCdSBrbGFzw7ZyIGJvxZ8iLA0KICAgIGZpbGVOYW1lOiJkb3N5YSBhZMSxIiwNCiAgICBwcm9wZXJ0aWVzOiAiw5Z6ZWxsaWtsZXIiLA0KICAgIGNvbnZlcnQgOiAiUmVzbWkgRMO2bsO8xZ90w7xyIiwNCiAgfQ0KICBGaWxlTWFuYWdlci5MYW5ndWFnZSA9IEZpbGVNYW5hZ2VyLkxhbmd1YWdlRU4NCg0KICBGaWxlTWFuYWdlci5UZXh0ID0gRmlsZU1hbmFnZXIuVGV4dCB8fCB7fTsNCg0KICBGaWxlTWFuYWdlci5UZXh0LkNvbnZlcnRFbGVtZW50VG9UZXh0Tm9kZT1mdW5jdGlvbihwYXJlbnQsIHRhZ05hbWVzPVsiQlIiLyogIkIiLCJJIiwiVSIsIlNUUklLRSIsIlNVQiIsIlNVUCIgKi9dKXsNCiAgICB0YWdOYW1lcyA9IHRhZ05hbWVzLm1hcChlPT5lLnRvTG93ZXJDYXNlKCkpOw0KICAgIHZhciBjaGlsZHJlbiA9IHBhcmVudC5jaGlsZE5vZGVzOw0KICAgIGZvcih2YXIgaT0wOyBpPGNoaWxkcmVuLmxlbmd0aDsgaSsrKXsNCiAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldOw0KICAgICAgaWYoY2hpbGQubm9kZVR5cGUgPT0gMSl7DQogICAgICAgIEZpbGVNYW5hZ2VyLlRleHQuQ29udmVydEVsZW1lbnRUb1RleHROb2RlKGNoaWxkLCB0YWdOYW1lcyk7DQogICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLGNoaWxkLnRhZ05hbWUpOw0KICAgICAgICBpZih0YWdOYW1lcy5pbmRleE9mKGNoaWxkLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgPT0gLTEpew0KICAgICAgICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkLmlubmVyVGV4dCk7DQogICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0ZXh0Tm9kZSwgY2hpbGQpOw0KICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCiAgDQogIA0KICBGaWxlTWFuYWdlci5UZXh0LlJlbW92ZU90aGVyQXR0cmlidXRlcz1mdW5jdGlvbihwYXJlbnQsIGF0dHJpYnV0ZXM9WyJzdHlsZSJdKXsNCiAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5tYXAoZT0+ZS50b0xvd2VyQ2FzZSgpKTsNCiAgICB2YXIgY2hpbGRyZW4gPSBwYXJlbnQuY2hpbGROb2RlczsNCiAgICBmb3IodmFyIGk9MDsgaTxjaGlsZHJlbi5sZW5ndGg7IGkrKyl7DQogICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTsNCiAgICAgIGlmKGNoaWxkLm5vZGVUeXBlID09IDEpew0KICAgICAgICBGaWxlTWFuYWdlci5UZXh0LlJlbW92ZU90aGVyQXR0cmlidXRlcyhjaGlsZCwgYXR0cmlidXRlcyk7DQogICAgICAgIGZvcih2YXIgaj0wOyBqPGNoaWxkLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspew0KICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBjaGlsZC5hdHRyaWJ1dGVzW2pdOw0KICAgICAgICAgIGlmKGF0dHJpYnV0ZXMuaW5kZXhPZihhdHRyaWJ1dGUubmFtZS50b0xvd2VyQ2FzZSgpKSA9PSAtMSl7DQogICAgICAgICAgICBjaGlsZC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlLm5hbWUpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICANCiAgRmlsZU1hbmFnZXIuVGV4dC5UZXh0SW5wdXQ9ZnVuY3Rpb24oZWwpew0KICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixmdW5jdGlvbigpew0KICAgICAgRmlsZU1hbmFnZXIuVGV4dC5Db252ZXJ0RWxlbWVudFRvVGV4dE5vZGUoZWwsW10pOw0KICAgICAgRmlsZU1hbmFnZXIuVGV4dC5SZW1vdmVPdGhlckF0dHJpYnV0ZXMoZWwsW10pOw0KICAgIH0pDQogIH0NCg0KICBsZXQgX19TRVJWRVJfXyA9IChmdW5jdGlvbigpew0KICAgIHZhciBzcmMgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzsNCiAgICAvLyByZW1vdmUgPy4qDQogICAgdmFyIGluZGV4ID0gc3JjLmluZGV4T2YoIj8iKTsNCiAgICBpZihpbmRleCAhPSAtMSkgc3JjID0gc3JjLnN1YnN0cmluZygwLGluZGV4KTsNCiAgICByZXR1cm4gc3JjOw0KICB9KSgpDQoNCg0KICANCg0KICAvKiogRmluZCBIVE1MRWxlbWVudCBhbGwgcGFyZW50cyAqLw0KICBmdW5jdGlvbiBQYXJlbnRzKGVsZW1lbnQpew0KICAgIGxldCBwYXJlbnRzID0gW10sIHBhcmVudCA9ZWxlbWVudA0KICAgIHdoaWxlKHBhcmVudCE9bnVsbCl7DQogICAgICBwYXJlbnRzLnB1c2gocGFyZW50KQ0KICAgICAgcGFyZW50PXBhcmVudC5wYXJlbnRFbGVtZW50DQogICAgfQ0KICAgIHJldHVybiBwYXJlbnRzDQogIH0NCg0KDQogIC8qKiBCdWlsZCBIVE1MIHN0cmluZyB0byBIVE1MRWxlbWVudC4gSXQgbXVzdCByZXR1cm4gb25lIGVsZW1lbnQgKi8NCiAgZnVuY3Rpb24gQnVpbGQoaHRtbCl7DQogICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsNCiAgICBsZXQgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJyk7DQogICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yKCdib2R5JykuZmlyc3RFbGVtZW50Q2hpbGQ7DQogIH0NCg0KICAvKiogUmVtb3ZlIHNhbWUgZWxlbWVudCBpbiBhcnJheSAqLw0KICBmdW5jdGlvbiBEaXN0aW5jdChhcnIpIHsNCiAgICBmdW5jdGlvbiBvbmx5VW5pcXVlKHZhbHVlLCBpbmRleCwgc2VsZikgew0KICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXg7DQogICAgfQ0KICAgIHJldHVybiBhcnIuZmlsdGVyKG9ubHlVbmlxdWUpOw0KICB9Ow0KDQogIC8qKiBJbmRleCBvZiBFbGVtZW50ICovDQogIGZ1bmN0aW9uIEluZGV4T2YoZWwpew0KICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykgew0KICAgICAgY29uc3QgZWxlbWVudCA9IGVsLnBhcmVudEVsZW1lbnQuY2hpbGRyZW5baW5kZXhdOw0KICAgICAgaWYoZWxlbWVudD09ZWwpIHJldHVybiBpbmRleDsNCiAgICB9DQogIH0NCg0KICBmdW5jdGlvbiBTZWxlY3RFbGVtZW50KGVsZW1lbnQpew0KICAgIC8vIHNlbGVjdCBhbGwgdGV4dCBpbiBjb250ZW50ZWRpdGFibGUNCiAgICAvLyBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjE1MDA2MC8xNDUzNDYNCiAgICBlbGVtZW50LmZvY3VzKCk7DQogICAgdmFyIHJhbmdlLCBzZWxlY3Rpb247DQogICAgaWYgKGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKSB7DQogICAgICByYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7DQogICAgICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChlbGVtZW50KTsNCiAgICAgIHJhbmdlLnNlbGVjdCgpOw0KICAgIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikgew0KICAgICAgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOw0KICAgICAgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOw0KICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpOw0KICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpOw0KICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTsNCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogRm9ybWF0IGJ5dGVzIGFzIGh1bWFuLXJlYWRhYmxlIHRleHQuDQogICAqIEBwYXJhbSBieXRlcyBOdW1iZXIgb2YgYnl0ZXMuDQogICAqIEBwYXJhbSBkcCBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gZGlzcGxheS4NCiAgICogDQogICAqIEByZXR1cm4gRm9ybWF0dGVkIHN0cmluZy4NCiAgICovDQogIGZ1bmN0aW9uIEZpbGVTaXplKGJ5dGVzLCBkcD0wKSB7DQogICAgaWYgKE1hdGguYWJzKGJ5dGVzKSA8IDEwMDApIHsNCiAgICAgIHJldHVybiBieXRlcyArICcgQic7DQogICAgfQ0KICAgIGNvbnN0IHVuaXRzID0gIFsna0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInLCAnRUInLCAnWkInLCAnWUInXSANCiAgICBsZXQgdSA9IC0xOw0KICAgIGNvbnN0IHIgPSAxMCoqZHA7DQogICAgZG8gew0KICAgICAgYnl0ZXMgLz0gMTAwMDsNCiAgICAgICsrdTsNCiAgICB9IHdoaWxlIChNYXRoLnJvdW5kKE1hdGguYWJzKGJ5dGVzKSAqIHIpIC8gciA+PSAxMDAwICYmIHUgPCB1bml0cy5sZW5ndGggLSAxKTsNCiAgICByZXR1cm4gYnl0ZXMudG9GaXhlZChkcCkgKyAnICcgKyB1bml0c1t1XTsNCiAgfQ0KDQogIA0KDQoNCg0KICAvLy8gQG1vZGFsLXZpZXcNCiAgew0KICAgIA0KDQogICAgLyoqDQogICAgICogaWNvbiANCiAgICAgKiB0aXRsZQ0KICAgICAqIG1lbnUNCiAgICAgKiBjb250ZW50DQogICAgICovDQogICAgRmlsZU1hbmFnZXIuTW9kYWxWaWV3ID0gZnVuY3Rpb24ob3B0aW9ucz17fSl7DQoNCiAgICAgIGlmKG9wdGlvbnMuY2xvc2VCdXR0b249PW51bGwpIG9wdGlvbnMuY2xvc2VCdXR0b249dHJ1ZTsNCiAgICAgIGlmKG9wdGlvbnMudGhlbWU9PW51bGwpIHsNCiAgICAgICAgb3B0aW9ucy50aGVtZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXRoZW1lIikgfHwgImxpZ2h0IjsNCiAgICAgIH0NCiAgICAgIA0KDQogICAgICBsZXQgYmFzZSA9IHt9DQoNCiAgICAgIGJhc2UuZG9tID0gQnVpbGQoYA0KICAgICAgICA8d2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3IHRoZW1lPSIke29wdGlvbnMudGhlbWV9Ij4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LWJhY2tncm91bmQ+PC93ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctYmFja2dyb3VuZD4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS1oZWFkPg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0taWNvbj4ke29wdGlvbnMuaWNvbiB8fCAiIiB9PC93ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWljb24+DQogICAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS10aXRsZSBoaWRlLW9uLW1vYmlsZT4ke29wdGlvbnMudGl0bGV9PC93ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLXRpdGxlPg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tbWVudT48L3dlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tbWVudT4NCiAgICAgICAgICAgIDx3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWNsb3NlPiR7RmlsZU1hbmFnZXIuSWNvbnMudGltZXN9PC93ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWNsb3NlPg0KICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS1oZWFkPg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWJvZHk+PC93ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWJvZHk+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tZm9vdGVyPjwvd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS1mb290ZXI+DQogICAgICAgIDwvd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3Pg0KICAgICAgYCkNCiAgICAgIGlmKG9wdGlvbnMuaWQpew0KICAgICAgICBiYXNlLmRvbS5zZXRBdHRyaWJ1dGUoImlkIixvcHRpb25zLmlkKQ0KICAgICAgfQ0KDQogICAgICBpZihvcHRpb25zLm1lbnUgaW5zdGFuY2VvZiBOb2RlICl7DQogICAgICAgIGJhc2UuZG9tLnF1ZXJ5U2VsZWN0b3IoIndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tbWVudSIpLmFwcGVuZChvcHRpb25zLm1lbnUpDQogICAgICB9DQogICAgICBpZihvcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBOb2RlKXsNCiAgICAgICAgYmFzZS5kb20ucXVlcnlTZWxlY3Rvcigid2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS1ib2R5IikuYXBwZW5kKG9wdGlvbnMuYm9keSkNCiAgICAgIH0NCiAgICAgIGlmKG9wdGlvbnMuZm9vdGVyIGluc3RhbmNlb2YgTm9kZSl7DQogICAgICAgIGJhc2UuZG9tLnF1ZXJ5U2VsZWN0b3IoIndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tZm9vdGVyIikuYXBwZW5kKG9wdGlvbnMuZm9vdGVyKQ0KICAgICAgfQ0KICAgICAgDQogICAgICBiYXNlLmRvbS5tb2RhbFZpZXcgPSBiYXNlOw0KDQogICAgICBiYXNlLm9uID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKXsNCiAgICAgICAgYmFzZS5kb20uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spDQogICAgICB9DQoNCiAgICAgIGJhc2UuY2xvc2UgPSBmdW5jdGlvbigpew0KICAgICAgICAvLyBDcmVhdGUgZXZlbnQNCiAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjbG9zZScsIHsNCiAgICAgICAgICBkZXRhaWw6IGJhc2UNCiAgICAgICAgfSk7DQogICAgICAgIC8vIERpc3BhdGNoIGV2ZW50DQogICAgICAgIGJhc2UuZG9tLmRpc3BhdGNoRXZlbnQoZXZlbnQpOw0KICAgICAgICBiYXNlLmRvbS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGJhc2UuZG9tKTsNCiAgICAgIH0NCg0KICAgICAgYmFzZS5kb20ucXVlcnlTZWxlY3Rvcignd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBiYXNlLmNsb3NlKCkgfSkNCg0KICAgICAgaWYob3B0aW9ucy5jbG9zZUJ1dHRvbj09ZmFsc2Upew0KICAgICAgICBiYXNlLmRvbS5xdWVyeVNlbGVjdG9yKCd3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWNsb3NlJykuc3R5bGUuZGlzcGxheT0ibm9uZSINCiAgICAgIH0NCg0KICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoYmFzZS5kb20pDQoNCiAgICAgIHJldHVybiBiYXNlOw0KICAgIH0NCiAgfQ0KDQoNCiAgRmlsZU1hbmFnZXIudXBsb2FkID0gZnVuY3Rpb24ocGF0aCxmaWxlcyl7DQogICAgcmV0dXJuIEZpbGVNYW5hZ2VyLlNlbGVjdCgidXBsb2FkIix7dXBsb2FkUGF0aDpwYXRoLHVwbG9hZEZpbGVzOmZpbGVzfSkNCiAgfQ0KDQoNCg0KICBGaWxlTWFuYWdlci5vcHRpb25zID0gew0KICAgIHNlcnZlcjpfX1NFUlZFUl9fLA0KICAgIHR5cGU6ImV4cGxvcmUiLA0KICAgIC8qIFNlbGVjdCBPcHRpb25zICovDQogICAgYWNjZXB0OiIqIiwNCiAgICBtdWx0aXBsZTpmYWxzZSwNCiAgICAvKiBTYXZlIE9wdGlvbnMgKi8NCiAgICBjb250ZW50OiBudWxsLA0KICAgIG5hbWU6RmlsZU1hbmFnZXIuTGFuZ3VhZ2UubmV3RmlsZSwNCiAgICBsYW5ndWFnZTogImVuIiwNCiAgICAvKiBVSSBPUFRJT05TICovDQogICAgdGl0bGU6IiIsDQogICAgdGhlbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tdGhlbWUiKSB8fCAibGlnaHQiLA0KICAgIGlkOm51bGwsDQogICAgaGlkZVRodW1ibmFpbEZvbGRlcjp0cnVlLA0KICAgIGNsb3NlQnV0dG9uOnRydWUsDQogICAgcGF0aDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1sYXN0LXBhdGgiKSB8fCAiLyIsDQogIH0NCiAgDQoNCiAgLy8vIEBmaWxlLW1hbmFnZXINCiAgRmlsZU1hbmFnZXIuU2VsZWN0PWZ1bmN0aW9uKHR5cGUsb3B0aW9ucz17fSl7DQogICAgLy8gUHJpdmF0ZSBQcm9wZXJ0aWVzDQogICAgbGV0IGNhblNlbGVjdEZvbGRlcj1mYWxzZTsNCiAgICBsZXQgY2FuU2VsZWN0RmlsZSAgPWZhbHNlOw0KICAgIGxldCBjYW5TZWxlY3QgICAgICA9ZmFsc2U7DQogICAgbGV0IGNhbkVkaXQgICAgICAgID1mYWxzZTsNCg0KICAgIGlmKCB0eXBlb2YodHlwZSkgIT0gInN0cmluZyIgKSB7DQogICAgICBvcHRpb25zID0gdHlwZTsNCiAgICAgIHR5cGUgICAgPSBudWxsOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFNldERlZmF1bHRzKG9iamVjdCxhZGRpdGlvbil7DQogICAgICBmb3IgKGNvbnN0IGtleSBpbiBhZGRpdGlvbikgew0KICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYWRkaXRpb24sIGtleSkpIHsNCiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gYWRkaXRpb25ba2V5XTsNCiAgICAgICAgICBpZihlbGVtZW50IT1udWxsKQ0KICAgICAgICAgIG9iamVjdFtrZXldID0gZWxlbWVudDsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIG9iamVjdDsNCiAgICB9DQoNCiAgICBsZXQgX29wdGlvbnMgPSBGaWxlTWFuYWdlci5vcHRpb25zOw0KDQoNCiAgICAvLyBGaXJzdCBBcmd1bWVudCB0eXBlDQogICAgaWYodHlwZT09ImltYWdlIiB8fCB0eXBlPT0iaW1hZ2VzIil7DQogICAgICBfb3B0aW9ucy50aXRsZSAgICAgICAgICA9IEZpbGVNYW5hZ2VyLkxhbmd1YWdlLnNlbGVjdEltYWdlDQogICAgICBfb3B0aW9ucy50eXBlICAgICAgICAgICA9ICJmaWxlIg0KICAgICAgX29wdGlvbnMuYWNjZXB0ICAgICAgICAgPSAiLmpwZywgLmpwZWcsIC5wbmcsIC5naWYsIC5ibXAsIC5zdmcsIC53ZWJwIg0KICAgICAgaWYodHlwZT09ImltYWdlcyIpIF9vcHRpb25zLm11bHRpcGxlID0gdHJ1ZQ0KICAgIH1lbHNlIGlmKHR5cGU9PSJmb2xkZXIiIHx8IHR5cGU9PSJmb2xkZXJzIil7DQogICAgICBfb3B0aW9ucy50aXRsZSAgICAgICAgICA9IEZpbGVNYW5hZ2VyLkxhbmd1YWdlLnNlbGVjdEZvbGRlcg0KICAgICAgX29wdGlvbnMudHlwZSAgICAgICAgICAgPSAiZm9sZGVyIg0KICAgICAgX29wdGlvbnMuYWNjZXB0ICAgICAgICAgPSAiIg0KICAgICAgaWYodHlwZT09ImZvbGRlcnMiKSBfb3B0aW9ucy5tdWx0aXBsZSA9IHRydWUNCiAgICB9ZWxzZSBpZih0eXBlPT0iZmlsZSIgfHwgdHlwZT09ImZpbGVzIil7DQogICAgICBfb3B0aW9ucy50aXRsZSAgICAgICAgICA9IEZpbGVNYW5hZ2VyLkxhbmd1YWdlLnNlbGVjdEZpbGUNCiAgICAgIF9vcHRpb25zLnR5cGUgICAgICAgICAgID0gImZpbGUiDQogICAgICBfb3B0aW9ucy5hY2NlcHQgICAgICAgICA9ICIqIg0KICAgICAgaWYodHlwZT09ImZpbGVzIikgX29wdGlvbnMubXVsdGlwbGUgPSB0cnVlDQogICAgfWVsc2UgaWYodHlwZT09IiIpew0KICAgICAgX29wdGlvbnMudGl0bGUgICAgICAgICAgPSBGaWxlTWFuYWdlci5MYW5ndWFnZS5icm93c2UNCiAgICAgIF9vcHRpb25zLnR5cGUgICAgICAgICAgID0gImV4cGxvcmUiDQogICAgICBfb3B0aW9ucy5hY2NlcHQgICAgICAgICA9ICIqIg0KICAgIH1lbHNlIGlmKHR5cGVvZih0eXBlKT09InN0cmluZyIpew0KICAgICAgX29wdGlvbnMudGl0bGUgICAgICAgICAgPSBGaWxlTWFuYWdlci5MYW5ndWFnZS5zZWxlY3RGaWxlDQogICAgICBfb3B0aW9ucy50eXBlICAgICAgICAgICA9ICJmaWxlIg0KICAgICAgX29wdGlvbnMuYWNjZXB0ICAgICAgICAgPSB0eXBlDQogICAgfQ0KDQoNCiAgICAvLyBEZWZhdWx0IE9wdGlvbnMNCiAgICBvcHRpb25zPVNldERlZmF1bHRzKF9vcHRpb25zLG9wdGlvbnMpDQoNCiAgICBpZihvcHRpb25zLmxhbmd1YWdlPT0idHIiKSBGaWxlTWFuYWdlci5MYW5ndWFnZSA9IEZpbGVNYW5hZ2VyLkxhbmd1YWdlVFINCiAgICBpZihvcHRpb25zLmxhbmd1YWdlPT0iZW4iKSBGaWxlTWFuYWdlci5MYW5ndWFnZSA9IEZpbGVNYW5hZ2VyLkxhbmd1YWdlRU4NCiAgICANCg0KDQoNCiAgICAvLyBPcHRpb25zIGFyZ3VtZW50IHR5cGUNCiAgICBpZihvcHRpb25zLnR5cGU9PSJmaWxlIil7DQogICAgICBjYW5TZWxlY3RGb2xkZXIgPSBmYWxzZTsgDQogICAgICBjYW5TZWxlY3RGaWxlICAgPSB0cnVlOyANCiAgICAgIGNhblNlbGVjdCAgICAgICA9IHRydWU7DQogICAgICBjYW5FZGl0ICAgICAgICAgPSBmYWxzZTsNCiAgICB9ZWxzZSBpZihvcHRpb25zLnR5cGU9PSJmb2xkZXIiKXsNCiAgICAgIGNhblNlbGVjdEZvbGRlciA9IHRydWU7DQogICAgICBjYW5TZWxlY3RGaWxlICAgPSBmYWxzZTsNCiAgICAgIGNhblNlbGVjdCAgICAgICA9IHRydWU7DQogICAgICBjYW5FZGl0ICAgICAgICAgPSBmYWxzZTsNCiAgICB9ZWxzZSBpZihvcHRpb25zLnR5cGU9PSJhbnkiKXsNCiAgICAgIGNhblNlbGVjdEZvbGRlciA9IHRydWU7DQogICAgICBjYW5TZWxlY3RGaWxlICAgPSB0cnVlOw0KICAgICAgY2FuU2VsZWN0ICAgICAgID0gdHJ1ZTsNCiAgICAgIGNhbkVkaXQgICAgICAgICA9IGZhbHNlOw0KICAgIH1lbHNlIGlmKG9wdGlvbnMudHlwZT09InNhdmUiKXsNCiAgICAgIGNhblNlbGVjdEZvbGRlciA9IGZhbHNlOw0KICAgICAgY2FuU2VsZWN0RmlsZSAgID0gZmFsc2U7DQogICAgICBjYW5TZWxlY3QgICAgICAgPSBmYWxzZTsNCiAgICAgIGNhbkVkaXQgICAgICAgICA9IGZhbHNlOw0KICAgIH1lbHNlIGlmKG9wdGlvbnMudHlwZT09ImV4cGxvcmUiKXsNCiAgICAgIGNhblNlbGVjdEZvbGRlciA9IGZhbHNlOw0KICAgICAgY2FuU2VsZWN0RmlsZSAgID0gZmFsc2U7DQogICAgICBjYW5TZWxlY3QgICAgICAgPSBmYWxzZTsNCiAgICAgIGNhbkVkaXQgICAgICAgICA9IHRydWU7DQogICAgfQ0KDQogICAgDQogICAgDQoNCiAgICBsZXQgdGhlbnMgPSBbXTsNCiAgICANCg0KICAgIGxldCBtb2RhbDsNCiAgICBsZXQgcGF0aD0iLyI7DQogICAgbGV0IGlub2RlPW51bGw7DQogICAgDQogICAgbGV0IGxhc3RDb21tYW5kPW51bGw7DQogICAgLy8gWyBbZm9sZGVyLGZpbGVdICwgW2ZvbGRlcixmaWxlXSBdDQogICAgbGV0IGxhc3RDb21tYW5kU291cmNlcz1bXTsNCg0KICAgIC8vIFVzaWduIGZvciB0aGlzIGVsZW1lbnQNCiAgICBsZXQgYmFzZSA9IHsNCiAgICAgIG1vZGUgOiAidmlldyIsDQogICAgICBvcHRpb25zOiBvcHRpb25zLCAgICAgIA0KICAgICAgYmFja0VuZFJvb3Q6b3B0aW9ucy5zZXJ2ZXIsDQogICAgICBlbGVtZW50cyA6IHsNCiAgICAgICAgaGVhZEJ1dHRvbnM6ew0KICAgICAgICAgIHBhcmVudDpudWxsLA0KICAgICAgICAgIHZpZXdNb2RlQnV0dG9uOm51bGwsDQogICAgICAgICAgc2VhcmNoQnV0dG9uOm51bGwsDQogICAgICAgICAgbmV3Rm9sZGVyQnV0dG9uOm51bGwsDQogICAgICAgICAgdXBsb2FkQnV0dG9uOm51bGwsDQogICAgICAgICAgcmVwbGFjZUJ1dHRvbjpudWxsLA0KICAgICAgICAgIHVwbG9hZEhlbHBlcjpudWxsLA0KICAgICAgICB9LA0KICAgICAgICBjb250ZW50OnsNCiAgICAgICAgICBwYXJlbnQ6bnVsbCwNCiAgICAgICAgICBjb250YWluZXI6bnVsbCwNCiAgICAgICAgICBmaWxlczpudWxsLA0KICAgICAgICAgIGFkZHJlc3NCYXI6bnVsbCwNCiAgICAgICAgfSwNCiAgICAgICAgY29udGV4dE1lbnU6ew0KICAgICAgICAgIHBhcmVudDpudWxsLA0KICAgICAgICAgIHNlbGVjdDpudWxsLA0KICAgICAgICAgIG5ld0ZvbGRlcjpudWxsLA0KICAgICAgICAgIG5ld0ZpbGU6bnVsbCwNCiAgICAgICAgICByZW5hbWU6bnVsbCwNCiAgICAgICAgICBkZWxldGU6bnVsbCwNCiAgICAgICAgICBjb3B5Om51bGwsDQogICAgICAgICAgcGFzdGU6bnVsbCwNCiAgICAgICAgICBjdXQ6bnVsbCwNCiAgICAgICAgICBvdmVyd3JpdGU6bnVsbCwNCiAgICAgICAgICB6aXA6bnVsbCwNCiAgICAgICAgICB1bnppcDpudWxsLA0KICAgICAgICAgIGRvd25sb2FkOm51bGwsIC8vIFRPRE86OiB0aGlzIGRvd25sb2FkIGJ1dHRvbg0KICAgICAgICB9LA0KICAgICAgICBmb290ZXI6ew0KICAgICAgICAgIHBhcmVudDpudWxsLA0KICAgICAgICAgIGZpbGVOYW1lOm51bGwsDQogICAgICAgICAgc2F2ZUJ1dHRvbjpudWxsLA0KICAgICAgICAgIHNlbGVjdEJ1dHRvbjpudWxsLA0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgYWN0aW9uczp7DQogICAgICAgIHNlbGVjdDogbnVsbCwNCiAgICAgICAgbmV3Rm9sZGVyOiBudWxsLA0KICAgICAgICBuZXdGaWxlIDogbnVsbCwNCiAgICAgICAgZGVsZXRlOiBudWxsLA0KICAgICAgICByZW5hbWU6IG51bGwsDQogICAgICAgIGN1dDogbnVsbCwNCiAgICAgICAgY29weTogbnVsbCwNCiAgICAgICAgcGFzdGU6IG51bGwsDQogICAgICAgIG92ZXJ3cml0ZTogbnVsbCwNCiAgICAgICAgemlwOiBudWxsLA0KICAgICAgICB1bnppcDpudWxsLA0KICAgICAgICB1cGxvYWQ6IG51bGwsDQogICAgICB9LA0KICAgICAgY29tbWFuZHM6ew0KICAgICAgICBzYXZlOiAocGF0aCxjb250ZW50KT0+e30sDQogICAgICAgIHVwbG9hZDoocGF0aCxmaWxlcyxyZXBsYWNlPWZhbHNlLHNob3dVST1mYWxzZSxyZWZyZXNoPWZhbHNlKT0+e30sDQogICAgICB9LA0KICAgICAgdGhlbjogZnVuY3Rpb24oY2FsbGJhY2spew0KICAgICAgICB0aGVucy5wdXNoKGNhbGxiYWNrKQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBmaWxlTWFuYWdlciA9IGJhc2UNCiAgICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zID0gW107DQoNCiAgICANCiAgICAvLyAjIyMjIyMjIyMjIyBiYXNlLnBhdGggIyMjIyMjIyMjIyMgLy8NCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYmFzZSwicGF0aCIsew0KICAgICAgZ2V0OigpPT57IHJldHVybiBwYXRoIH0sDQogICAgICBzZXQ6KHZhbCk9PnsNCiAgICAgICAgYmFzZS5kaXIodmFsKQ0KICAgICAgfQ0KICAgIH0pDQoNCiAgICAvLyAjIyMjIyMjIyMjIyBiYXNlLm9uKCJldmVudCIsZnVuY3Rpb24oYXJnKXt9KSAjIyMjIyMjIyMjIyAvLw0KICAgIGxldCBfX3RyaWdnZXJzX18gPSBbXTsNCiAgICBiYXNlLm9uID0gZnVuY3Rpb24oZXZlbnQsZm4pew0KICAgICAgX190cmlnZ2Vyc19fLnB1c2goe2V2ZW50LGZufSkNCiAgICB9DQogICAgYmFzZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQsYXJncyl7DQogICAgICBmb3IobGV0IHRyaWdnZXIgb2YgX190cmlnZ2Vyc19fKXsNCiAgICAgICAgaWYodHJpZ2dlci5ldmVudD09ZXZlbnQgfHwgdHJpZ2dlci5ldmVudD09IioiKXsNCiAgICAgICAgICB0cmlnZ2VyLmZuLmNhbGwoYmFzZSxhcmdzLGV2ZW50KQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KDQoNCiAgICAvLyBAUG9zdA0KICAgIGZ1bmN0aW9uIFBvc3QoZGF0YSl7DQogICAgICAvLyBFbmNvZGUgcGFyYW1ldGVycyBhbmQgY29udGVudA0KICAgICAgaWYoZGF0YS5wYXJhbWV0ZXJzIT11bmRlZmluZWQpIGRhdGEucGFyYW1ldGVycyA9IGRhdGEucGFyYW1ldGVycy5tYXAoZT0+RW5jb2RlKGUpKQ0KICAgICAgaWYoZGF0YS5jb250ZW50IT11bmRlZmluZWQpIGRhdGEuY29udGVudCA9IEVuY29kZShkYXRhLmNvbnRlbnQpDQoNCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpDQogICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7DQogICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7DQogICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRhdGFba2V5XTsNCiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBlbGVtZW50KTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgDQogICAgICByZXR1cm4gZmV0Y2goIGJhc2UuYmFja0VuZFJvb3QgLCB7DQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICBib2R5OiBmb3JtRGF0YQ0KICAgICAgfSkudGhlbihlPT57DQogICAgICAgIGlmKGUub2spew0KICAgICAgICAgIGxldCBqc29uID0gZS5qc29uKCkNCiAgICAgICAgICBpZihqc29uLnN0YXR1cz09ImVycm9yIil7DQogICAgICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyLnNob3coanNvbi5kYXRhLCJlcnJvciIpDQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiBqc29uDQogICAgICAgIH0NCiAgICAgICAgLyoNCiAgICAgICAgaWYoZT09bnVsbCl7DQogICAgICAgICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5zaG93KCJTZXJ2ZXIgaXMgbm90IHJlc3BvbmRpbmciLCJlcnJvciIpDQogICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHN0YXR1czoiZXJyb3IiLA0KICAgICAgICAgICAgZGF0YToiU2VydmVyIGlzIG5vdCByZXNwb25kaW5nIg0KICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgKi8NCiAgICAgIH0pLmNhdGNoKGU9PnsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5zaG93KEZpbGVNYW5hZ2VyLkxhbmd1YWdlLmVycm9yLCJlcnJvciIsMzAwMCkNCiAgICAgIH0pDQogICAgfQ0KDQoNCg0KICAgIA0KICAgIGJhc2UuY29tbWFuZHMgPSB7DQoNCiAgICAgIHNlbmQ6IGZ1bmN0aW9uKCBjb21tYW5kLCBwYXJhbWV0ZXJzLCBkYXRhcz17fSwgc2hvd1VJPWZhbHNlICl7DQogICAgICAgIGlmKHNob3dVSSkgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5zaG93KCBjb21tYW5kICwgImxvYWRpbmciICkNCiAgICAgICAgaWYoZGF0YXM9PW51bGwpIGRhdGFzPXt9DQogICAgICAgIHJldHVybiBQb3N0KHsNCiAgICAgICAgICBhY3Rpb246ImNvbW1hbmQiLA0KICAgICAgICAgIGNvbW1hbmQ6Y29tbWFuZCwNCiAgICAgICAgICBwYXJhbWV0ZXJzOltwYXJhbWV0ZXJzXSwNCiAgICAgICAgICBkYXRhczogZGF0YXMsDQogICAgICAgIH0pLnRoZW4oZT0+ew0KICAgICAgICAgIGlmKGUuc3RhdHVzPT0iZXJyb3IiKXsNCiAgICAgICAgICAgIGlmKHNob3dVSSkgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5zaG93KGUuZGF0YSwiZXJyb3IiICwgMzAwMCk7DQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBpZihzaG93VUkpIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudXBsb2FkUHJvZ3Jlc3NiYXIuc2hvdyhlLmRhdGEsInN1Y2Nlc3MiLDYwMDApOw0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gZTsNCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBzYXZlOiBmdW5jdGlvbihwYXRoLGNvbnRlbnQsc2hvd1VJPWZhbHNlKXsNCiAgICAgICAgaWYoc2hvd1VJKSBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyLnNob3coIEZpbGVNYW5hZ2VyLkxhbmd1YWdlLnNhdmluZyAsICJsb2FkaW5nIiApDQogICAgICAgIHJldHVybiBQb3N0KHsNCiAgICAgICAgICBhY3Rpb246ImNvbW1hbmQiLA0KICAgICAgICAgIGNvbW1hbmQ6InNhdmUiLA0KICAgICAgICAgIHBhcmFtZXRlcnM6W3BhdGhdLA0KICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQNCiAgICAgICAgfSkudGhlbihlPT57DQogICAgICAgICAgaWYoZS5zdGF0dXM9PSJlcnJvciIpew0KICAgICAgICAgICAgaWYoc2hvd1VJKSBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyLnNob3coZS5kYXRhLCJlcnJvciIgLCAzMDAwKTsNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGlmKHNob3dVSSkgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5zaG93KEZpbGVNYW5hZ2VyLkxhbmd1YWdlLnNhdmVkLCJzdWNjZXNzIiwyMDAwKTsNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIGU7DQogICAgICAgIH0pDQogICAgICB9LA0KDQoNCiAgICAgIHVwbG9hZDogZnVuY3Rpb24odGFyZ2V0UGF0aCxmaWxlcyxyZXBsYWNlPWZhbHNlLHNob3dVST1mYWxzZSxyZWZyZXNoPWZhbHNlKXsNCiAgICAgICAgbGV0IHVwbG9hZFRleHQgPSBGaWxlTWFuYWdlci5MYW5ndWFnZS51cGxvYWRpbmcrICIgIitmaWxlcy5sZW5ndGgrIiAiK0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLmZpbGU7DQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57DQogICAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgICBkYXRhLmFwcGVuZCgiYWN0aW9uIiwiY29tbWFuZCIpDQogICAgICAgICAgZGF0YS5hcHBlbmQoImNvbW1hbmQiLCJ1cGxvYWQiKQ0KICAgICAgICAgIGRhdGEuYXBwZW5kKCJwYXJhbWV0ZXJzIixFbmNvZGUodGFyZ2V0UGF0aCkpDQogICAgICAgICAgaWYocmVwbGFjZSkgZGF0YS5hcHBlbmQoInJlcGxhY2UiLCJ0cnVlIikNCiAgICAgICAgICAvL2RhdGEuYXBwZW5kKCJpbm9kZXMiLGlub2RlKQ0KICAgICAgICAgIGZvcihsZXQgaT0wO2k8ZmlsZXMubGVuZ3RoO2krKyl7DQogICAgICAgICAgICBpZihmaWxlc1tpXS5ibG9iIT11bmRlZmluZWQpew0KICAgICAgICAgICAgICBkYXRhLmFwcGVuZCgidXBsb2FkWyIraSsiXSIsZmlsZXNbaV0uYmxvYiwgZmlsZXNbaV0ubmFtZSk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgZGF0YS5hcHBlbmQoInVwbG9hZFsiK2krIl0iLGZpbGVzW2ldKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCiAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCBiYXNlLmJhY2tFbmRSb290ICk7IA0KICAgICAgICAgIA0KICAgICAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgLy8gVG9kbyBPbiBTeXN0ZW0NCiAgICAgICAgICAgIGxldCBwZXJjZW50X2NvbXBsZXRlZCA9IHBhcnNlSW50KCAoZS5sb2FkZWQgLyBlLnRvdGFsKSoxMDAgKTsNCiAgICAgICAgICAgIGlmKHNob3dVSSkgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5zaG93KCB1cGxvYWRUZXh0KyAiICIgK3BlcmNlbnRfY29tcGxldGVkKyIgJSIgLCBwZXJjZW50X2NvbXBsZXRlZCApOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIA0KICAgICAgICAgIC8vIHJlcXVlc3QgZmluaXNoZWQgZXZlbnQNCiAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBpZihzaG93VUkpIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudXBsb2FkUHJvZ3Jlc3NiYXIuc2hvdyggIjEwMCUiICwgInN1Y2Nlc3MiICwgMjAwMCApOw0KICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3BvbnNlKS5kYXRhKQ0KICAgICAgICAgICAgaWYocmVmcmVzaCAmJiBwYXRoPT10YXJnZXRQYXRoKXsNCiAgICAgICAgICAgICAgRGlyKHBhdGgsSlNPTi5wYXJzZShlLnRhcmdldC5yZXNwb25zZSkuZGF0YSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICANCiAgICAgICAgICAvLyBzZW5kIFBPU1QgcmVxdWVzdCB0byBzZXJ2ZXINCiAgICAgICAgICByZXF1ZXN0LnNlbmQoZGF0YSk7DQogICAgICAgICAgaWYoc2hvd1VJKSBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyLnNob3coIHVwbG9hZFRleHQrIjAlIiAsIDAgKTsNCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBkb3dubG9hZDpmdW5jdGlvbihwYXRoKXsNCiAgICAgICAgbGV0IGZpbGVOYW1lID0gcGF0aC5zcGxpdCgiLyIpLnBvcCgpDQogICAgICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpDQogICAgICAgIGEuaHJlZiA9IGJhc2UuYmFja0VuZFJvb3QgKyAnP2FjdGlvbj1jb21tYW5kJmNvbW1hbmQ9ZG93bmxvYWQmcGFyYW1ldGVycz0nK0VuY29kZShwYXRoKTsNCiAgICAgICAgY29uc29sZS5sb2coYS5ocmVmKQ0KICAgICAgICBhLmRvd25sb2FkID0gZmlsZU5hbWUNCiAgICAgICAgYS5jbGljaygpDQogICAgICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudXBsb2FkUHJvZ3Jlc3NiYXIuc2hvdyggRmlsZU1hbmFnZXIuTGFuZ3VhZ2UubG9hZGVkLCAic3VjY2VzcyIsMjAwMCk7DQogICAgICB9DQogICAgfQ0KDQoNCiAgICBpZih0eXBlPT0idXBsb2FkIil7DQogICAgICByZXR1cm4gYmFzZS5jb21tYW5kcy51cGxvYWQob3B0aW9ucy51cGxvYWRQYXRoLG9wdGlvbnMudXBsb2FkRmlsZXMsZmFsc2UpOw0KICAgIH0NCiAgICANCiAgICBpZih0eXBlPT0icmVwbGFjZSIpew0KICAgICAgcmV0dXJuIGJhc2UuY29tbWFuZHMudXBsb2FkKG9wdGlvbnMudXBsb2FkUGF0aCxvcHRpb25zLnVwbG9hZEZpbGVzLHRydWUpOw0KICAgIH0NCg0KDQogICAgYmFzZS5hY3Rpb25zID0gew0KDQoNCiAgICAgIHNlbGVjdDogZnVuY3Rpb24oKXsNCg0KICAgICAgfSwNCg0KICAgICAgY29sb3I6ZnVuY3Rpb24oZSl7DQogICAgICAgIGxldCBmaWxlUGF0aCA9IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJwYXRoIikuc3BsaXQoL1wvKy8pLmpvaW4oIi8iKQ0KICAgICAgICBpZihlLnRhcmdldC5tYXRjaGVzKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQtY29sb3IiKSl7DQogICAgICAgICAgbGV0IGNvbG9yID0gZS50YXJnZXQuc3R5bGUuYmFja2dyb3VuZDsNCiAgICAgICAgICBpZihjb2xvcj09InZhcigtLXdlYi1lZGl0YWJsZS1tYWluKSIpIGNvbG9yPW51bGwNCiAgICAgICAgICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdLnN0eWxlLmNvbG9yPWNvbG9yOw0KICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0ucXVlcnlTZWxlY3Rvcigid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbiIpLnN0eWxlLmNvbG9yID0gY29sb3INCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZmlsZS1tYW5hZ2VyLWNvbG9yIitmaWxlUGF0aCxjb2xvcik7DQogICAgICAgICAgaWYoY29sb3I9PW51bGwpIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJmaWxlLW1hbmFnZXItY29sb3IiK2ZpbGVQYXRoKQ0KICAgICAgICB9DQogICAgICB9LA0KDQogICAgICBkb3dubG9hZDpmdW5jdGlvbigpew0KICAgICAgICBsZXQgZmlsZVBhdGggPSBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdLmdldEF0dHJpYnV0ZSgicGF0aCIpDQogICAgICAgIHJldHVybiBiYXNlLmNvbW1hbmRzLmRvd25sb2FkKGZpbGVQYXRoKQ0KICAgICAgfSwNCg0KICAgICAgZWRpdDpmdW5jdGlvbigpew0KICAgICAgICBsZXQgZmlsZU5hbWUgPSBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdLmdldEF0dHJpYnV0ZSgibmFtZSIpDQogICAgICAgIGxldCBmaWxlUGF0aCA9IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJwYXRoIikNCiAgICAgICAgbGV0IGZpbGVFeHQgID0gZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKS5zcGxpdCgiLiIpLnBvcCgpDQogICAgICAgIGxldCBmaWxsICAgICA9IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0ucXVlcnlTZWxlY3RvcigicmVjdCIpLmdldEF0dHJpYnV0ZSgiZmlsbCIpDQogICAgICAgIGxldCBsYW5ndWFnZXMgPSB7DQogICAgICAgICAgImpzIiAgOiAiamF2YXNjcmlwdCIsDQogICAgICAgICAgInN2ZyIgOiAiaHRtbCIsDQogICAgICAgICAgIm1kIiAgOiAibWFya2Rvd24iLA0KICAgICAgICB9DQogICAgICAgIGxldCBmaWxlTGFuZ3VhZ2UgPSBmaWxlRXh0DQogICAgICAgIGlmKGxhbmd1YWdlc1tmaWxlRXh0XSkgZmlsZUxhbmd1YWdlPWxhbmd1YWdlc1tmaWxlRXh0XTsNCg0KICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyLnNob3coIEZpbGVNYW5hZ2VyLkxhbmd1YWdlLmxvYWRpbmcsICJsb2FkaW5nIik7DQoNCg0KICAgICAgDQogICAgICAgIGlmKFsiLnppcCIsIi5wbmciLCIuanBnIiwiLmpwZWciLCIubXAzIiwiLndhdiIsIi5tcDQiLCIuYXZpIiwiLm1wZyJdLnNvbWUoZT0+ZmlsZVBhdGgudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChlKSkpew0KICAgICAgICAgIGJhc2UuY29tbWFuZHMuZG93bmxvYWQoZmlsZVBhdGgpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCg0KDQogICAgICAgIFBvc3Qoew0KICAgICAgICAgIGFjdGlvbjoiY29tbWFuZCIsDQogICAgICAgICAgY29tbWFuZDoiY2F0IiwNCiAgICAgICAgICBwYXJhbWV0ZXJzOlsgZmlsZVBhdGggXSwNCiAgICAgICAgICBpbm9kZXM6W2ZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJpbm9kZSIpXQ0KICAgICAgICB9KS50aGVuKGU9PnsNCiAgICAgICAgICBpZihlLnN0YXR1cz09ImVycm9yIikgcmV0dXJuOyAvLyBUT0RPOiBFcnJvciBNZXNzYWdlDQogICAgICAgICAgDQoNCg0KICAgICAgICAgIC8vIEZyb20gUmVtb3ZlIFNlcnZlcg0KICAgICAgICAgIC8vcmVxdWlyZS5jb25maWcoeyBwYXRoczogeyB2czogJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21vbmFjby1lZGl0b3IvMC4zMS4xL21pbi92cycgfSB9KQ0KICAgICAgICAgIHJlcXVpcmUuY29uZmlnKHsgcGF0aHM6IHsgdnM6ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb25hY28tZWRpdG9yLzAuNDcuMC9taW4vdnMnIH0gfSkNCiAgICAgICAgICAvLyBGcm9tIExvY2FsDQogICAgICAgICAgLy8gcmVxdWlyZS5jb25maWcoeyBwYXRoczogeyB2czogV2ViRWRpdGFibGUud2ViRWRpdGFibGVSb290KyJlbmdpbmUvdnMiIH0gfSkNCiAgICAgICAgICAvLyBGcm9tIExvY2FsIFNlcnZlciBbTk9UIFdPUktJTkddDQogICAgICAgICAgLy9yZXF1aXJlLmNvbmZpZyh7IHBhdGhzOiB7IHZzOiBfX1dFQl9FRElUQUJMRV9TRVJWRVJfXysiP3NvdXJjZT0vdnMiIH0gfSkNCiAgICAgICAgICANCiAgICAgICAgICByZXF1aXJlKFsndnMvZWRpdG9yL2VkaXRvci5tYWluJ10sIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBbXQ0KICAgICAgICAgICAgYmFzZS5tb2RlPSJlZGl0Ig0KDQogICAgICAgICAgICB2YXIgY29kZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgIGNvZGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoIm1vbmFjby1lZGl0b3ItY29udGFpbmVyLWNvbXBvbmVudCIpDQogICAgICAgICAgICBjb2RlRWxlbWVudC5zdHlsZS5oZWlnaHQ9IjEwMCUiOw0KDQogICAgICAgICAgICBpZighbW9uYWNvLl9fY3VzdG9tQ29tbWVudHNJbnN0YWxsZWQpew0KDQogICAgICAgICAgICAgIG1vbmFjby5sYW5ndWFnZXMuZ2V0TGFuZ3VhZ2VzKCkuZmluZChlPT5lLmlkPT0iamF2YXNjcmlwdCIpLmxvYWRlcigpLnRoZW4oZT0+ew0KICAgICAgICAgICAgICAgIGUubGFuZ3VhZ2UudG9rZW5pemVyLnJvb3Quc3BsaWNlKDAsMCwNCiAgICAgICAgICAgICAgICAgIFsvXC9cL1xzKlwhLiovLCAiY3VzdG9tLWVycm9yIl0sDQogICAgICAgICAgICAgICAgICBbL1wvXC9ccypcLS4qLywgImN1c3RvbS1uZWdhdGl2ZSJdLA0KICAgICAgICAgICAgICAgICAgWy9cL1wvXHMqXCsuKi8sICJjdXN0b20tc3VjY2VzcyJdLA0KICAgICAgICAgICAgICAgICAgWy9cL1wvXHMqXD0uKi8sICJjdXN0b20taW5mbyJdLA0KICAgICAgICAgICAgICAgICAgWy9cL1wvXHMqXEAuKi8sICJjdXN0b20tc3VjY2Vzcy1pbmZvIl0sDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAgIG1vbmFjby5sYW5ndWFnZXMuZ2V0TGFuZ3VhZ2VzKCkuZmluZChlPT5lLmlkPT0icGhwIikubG9hZGVyKCkudGhlbihlPT57DQogICAgICAgICAgICAgICAgZS5sYW5ndWFnZS50b2tlbml6ZXIucGhwUm9vdC5zcGxpY2UoNiwwLA0KICAgICAgICAgICAgICAgICAgWy9cL1wvXHMqXCEuKi8sICJjdXN0b20tZXJyb3IiXSwNCiAgICAgICAgICAgICAgICAgIFsvXC9cL1xzKlwtLiovLCAiY3VzdG9tLW5lZ2F0aXZlIl0sDQogICAgICAgICAgICAgICAgICBbL1wvXC9ccypcKy4qLywgImN1c3RvbS1zdWNjZXNzIl0sDQogICAgICAgICAgICAgICAgICBbL1wvXC9ccypcPS4qLywgImN1c3RvbS1pbmZvIl0sDQogICAgICAgICAgICAgICAgICBbL1wvXC9ccypcQC4qLywgImN1c3RvbS1zdWNjZXNzLWluZm8iXSwNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgICBtb25hY28uZWRpdG9yLmRlZmluZVRoZW1lKCJtYXN0ZXItZGFyayIsIHsNCiAgICAgICAgICAgICAgICBiYXNlOiAidnMtZGFyayIsDQogICAgICAgICAgICAgICAgaW5oZXJpdDogdHJ1ZSwNCiAgICAgICAgICAgICAgICBydWxlczogWw0KICAgICAgICAgICAgICAgICAgeyB0b2tlbjogImN1c3RvbS1pbmZvIiwgIGZvcmVncm91bmQ6ICIwM0E5RjQiLCBmb250U3R5bGU6ICJib2xkIHVuZGVybGluZSIgfSwNCiAgICAgICAgICAgICAgICAgIHsgdG9rZW46ICJjdXN0b20tbmVnYXRpdmUiLCBmb3JlZ3JvdW5kOiAiRkZGRjAwIiwgZm9udFN0eWxlOiAiYm9sZCB1bmRlcmxpbmUiIH0sDQogICAgICAgICAgICAgICAgICB7IHRva2VuOiAiY3VzdG9tLXN1Y2Nlc3MiLCBmb3JlZ3JvdW5kOiAiMDBGRjAwIiwgZm9udFN0eWxlOiAiYm9sZCB1bmRlcmxpbmUiIH0sDQogICAgICAgICAgICAgICAgICB7IHRva2VuOiAiY3VzdG9tLXN1Y2Nlc3MtaW5mbyIsIGZvcmVncm91bmQ6ICJDQ0ZGMDAiLCBmb250U3R5bGU6ICJib2xkIHVuZGVybGluZSIgfSwNCiAgICAgICAgICAgICAgICAgIHsgdG9rZW46ICJjdXN0b20tZXJyb3IiLCAgZm9yZWdyb3VuZDogImZmMDAwMCIsIGZvbnRTdHlsZTogImJvbGQgdW5kZXJsaW5lIiB9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgY29sb3JzOiB7fQ0KICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICBtb25hY28uZWRpdG9yLmRlZmluZVRoZW1lKCJtYXN0ZXItbGlnaHQiLCB7DQogICAgICAgICAgICAgICAgYmFzZTogInZzIiwNCiAgICAgICAgICAgICAgICBpbmhlcml0OiB0cnVlLA0KICAgICAgICAgICAgICAgIHJ1bGVzOiBbDQogICAgICAgICAgICAgICAgICB7IHRva2VuOiAiY3VzdG9tLWluZm8iLCBmb3JlZ3JvdW5kOiAiMTE5OUZGIiwgZm9udFN0eWxlOiAiYm9sZCB1bmRlcmxpbmUiIH0sDQogICAgICAgICAgICAgICAgICB7IHRva2VuOiAiY3VzdG9tLW5lZ2F0aXZlIiwgZm9yZWdyb3VuZDogIkFBQUEwMCIsIGZvbnRTdHlsZTogImJvbGQgdW5kZXJsaW5lIiB9LA0KICAgICAgICAgICAgICAgICAgeyB0b2tlbjogImN1c3RvbS1zdWNjZXNzIiwgZm9yZWdyb3VuZDogIjAwRkYwMCIsIGZvbnRTdHlsZTogImJvbGQgdW5kZXJsaW5lIiB9LA0KICAgICAgICAgICAgICAgICAgeyB0b2tlbjogImN1c3RvbS1zdWNjZXNzLWluZm8iLCBmb3JlZ3JvdW5kOiAiQ0NGRjAwIiwgZm9udFN0eWxlOiAiYm9sZCB1bmRlcmxpbmUiIH0sDQogICAgICAgICAgICAgICAgICB7IHRva2VuOiAiY3VzdG9tLWVycm9yIiwgZm9yZWdyb3VuZDogImZmMDAwMCIsIGZvbnRTdHlsZTogImJvbGQgdW5kZXJsaW5lIiB9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgY29sb3JzOiB7fQ0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgbW9uYWNvLl9fY3VzdG9tQ29tbWVudHNJbnN0YWxsZWQ9dHJ1ZQ0KICAgICAgICAgICAgfQ0KDQoNCg0KICAgICAgICAgICAgbGV0IGVkaXRvciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlKGNvZGVFbGVtZW50LCB7DQogICAgICAgICAgICAgIHZhbHVlOiBlLmRhdGEuY29udGVudCwNCiAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGZpbGVMYW5ndWFnZSwNCiAgICAgICAgICAgICAgdGhlbWU6ICJtYXN0ZXItIitvcHRpb25zLnRoZW1lLnNwbGl0KCItIilbMF0sDQogICAgICAgICAgICAgIGF1dG9tYXRpY0xheW91dDogdHJ1ZSwNCiAgICAgICAgICAgICAgJ3NlbWFudGljSGlnaGxpZ2h0aW5nLmVuYWJsZWQnOiB0cnVlLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvL2VkaXRvci5nZXRNb2RlbCgpLnVwZGF0ZU9wdGlvbnMoeyB3b3JkV3JhcDogIm9mZiIgfSkNCiAgICAgICAgICAgIGVkaXRvci51cGRhdGVPcHRpb25zKHsNCiAgICAgICAgICAgICAgdGFiU2l6ZTogMiwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBlZGl0b3IuZ2V0TW9kZWwoKS51cGRhdGVPcHRpb25zKHsgdGFiU2l6ZTogMiB9KQ0KICAgICAgICAgICAgZmlsZU1hbmFnZXIuZWRpdG9yID0gZWRpdG9yOw0KDQoNCiAgICAgICAgICAgIGxldCBidXR0b25zID0gQnVpbGQoYA0KICAgICAgICAgICAgICA8bW9kYWwtdmlldy1kaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtmbGV4OjE7Z2FwOjEwcHg7YWxpZ24taXRlbXM6Y2VudGVyOyI+DQogICAgICAgICAgICAgICAgPG1vZGFsLXZpZXctLWhlYWQtaW5mbyBzdHlsZT0iZmxleDoxOyI+DQogICAgICAgICAgICAgICAgPC9tb2RhbC12aWV3LS1oZWFkLWluZm8+DQogICAgICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbiB3ZWItZWRpdGFibGUtLXVpLS1idXR0b24tLXNhdmU+DQogICAgICAgICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLnNhdmV9DQogICAgICAgICAgICAgICAgICA8d2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLXRleHQ+JHtGaWxlTWFuYWdlci5MYW5ndWFnZS5zYXZlfTwvd2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLXRleHQ+DQogICAgICAgICAgICAgICAgPC93ZWItZWRpdGFibGUtLXVpLS1idXR0b24+DQogICAgICAgICAgICAgIDwvbW9kYWwtdmlldy1kaXY+DQogICAgICAgICAgICBgKQ0KDQogICAgICAgICAgICANCiAgICAgICAgICAgIGJ1dHRvbnMuc2F2ZUJ1dHRvbiA9IGJ1dHRvbnMucXVlcnlTZWxlY3RvcigiW3dlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbi0tc2F2ZV0iKQ0KICAgICAgICAgICAgYnV0dG9ucy5oZWFkSW5mbyA9IGJ1dHRvbnMucXVlcnlTZWxlY3RvcigibW9kYWwtdmlldy0taGVhZC1pbmZvIikNCiAgICAgICAgICAgIGJ1dHRvbnMuaGVhZEluZm8uYXBwZW5kKCBidXR0b25zLnByb2dyZXNzQmFyID0gRmlsZU1hbmFnZXIuUHJvZ3Jlc3NCYXIoIiIsInZhcigtLXdlYi1lZGl0YWJsZS1wcmltYXJ5KSIpICkNCiAgICAgICAgICAgIGJ1dHRvbnMucHJvZ3Jlc3NCYXIuaGlkZSgpDQoNCiAgICAgICAgICAgIGJ1dHRvbnMuc2F2ZUJ1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgIGJ1dHRvbnMucHJvZ3Jlc3NCYXIuc2hvdyggRmlsZU1hbmFnZXIuTGFuZ3VhZ2Uuc2F2aW5nICwgImxvYWRpbmciICkNCiAgICAgICAgICAgICAgYmFzZS5jb21tYW5kcy5zYXZlKGZpbGVQYXRoLGVkaXRvci5nZXRWYWx1ZSgpKS50aGVuKGU9PnsNCiAgICAgICAgICAgICAgICBpZihlLnN0YXR1cz09ImVycm9yIikgcmV0dXJuIGJ1dHRvbnMucHJvZ3Jlc3NCYXIuc2hvdyhlLmRhdGEsImVycm9yIiAsIDMwMDApOw0KICAgICAgICAgICAgICAgIGJ1dHRvbnMucHJvZ3Jlc3NCYXIuc2hvdyhGaWxlTWFuYWdlci5MYW5ndWFnZS5zYXZlZCwic3VjY2VzcyIsMjAwMCk7DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgZWRpdG9yLmFkZENvbW1hbmQobW9uYWNvLktleU1vZC5DdHJsQ21kIHwgbW9uYWNvLktleUNvZGUuS2V5UywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICBidXR0b25zLnNhdmVCdXR0b24uY2xpY2soKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgZWRpdG9yTW9kYWwgPUZpbGVNYW5hZ2VyLk1vZGFsVmlldyh7DQogICAgICAgICAgICAgIGljb246RmlsZU1hbmFnZXIuSWNvbnMuY29kZSwNCiAgICAgICAgICAgICAgdGl0bGU6ZmlsZU5hbWUsDQogICAgICAgICAgICAgIGJvZHk6Y29kZUVsZW1lbnQsDQogICAgICAgICAgICAgIG1lbnU6YnV0dG9ucywNCiAgICAgICAgICAgICAgdGhlbWU6b3B0aW9ucy50aGVtZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGVkaXRvck1vZGFsLm9uKCJjbG9zZSIsKCk9PnsNCiAgICAgICAgICAgICAgYmFzZS5tb2RlPSJ2aWV3Ig0KICAgICAgICAgICAgICBmaWxlTWFuYWdlci5lbGVtZW50cy5jb250ZW50LmZpbGVzLmZvY3VzKCkNCiAgICAgICAgICAgICAgYmFzZS5lbWl0KCJkaXIiLGJhc2UucGF0aCkNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIGxldCBiYWNrZ3JvdW5kSW1hZ2UgPSAidXJsKCIrKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taW1hZ2UiKSB8fCAiLi4vYmFja2dyb3VuZC5wbmciKSsiKSINCiAgICAgICAgICAgIGxldCBiYWNrZ3JvdW5kSW1hZ2VPcGFjaXR5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pbWFnZS1vcGFjaXR5IikNCg0KICAgICAgICAgICAgZWRpdG9yTW9kYWwuZG9tLnF1ZXJ5U2VsZWN0b3IoIndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy1iYWNrZ3JvdW5kIikuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYmFja2dyb3VuZEltYWdlDQogICAgICAgICAgICBlZGl0b3JNb2RhbC5kb20ucXVlcnlTZWxlY3Rvcigid2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LWJhY2tncm91bmQiKS5zdHlsZS5vcGFjaXR5ID0gYmFja2dyb3VuZEltYWdlT3BhY2l0eQ0KICAgICAgICAgICAgLy8gU3VjY2VzcyBwcm9ncmVzcyBiYXINCiAgICAgICAgICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudXBsb2FkUHJvZ3Jlc3NiYXIuc2hvdyggRmlsZU1hbmFnZXIuTGFuZ3VhZ2UubG9hZGVkLCAic3VjY2VzcyIsMjAwMCk7DQoNCiAgICAgICAgICAgIGJhc2UuZW1pdCgiZmlsZSIse3BhdGg6ZmlsZVBhdGgsY29sb3I6ZmlsbH0pDQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQoNCiAgICAgIH0sDQoNCiAgICAgIG5ld0ZvbGRlcjpmdW5jdGlvbigpew0KICAgICAgICBiYXNlLmFjdGlvbnMuX19uZXdJdGVtX18oImZvbGRlciIpDQogICAgICB9LA0KDQogICAgICBuZXdGaWxlOmZ1bmN0aW9uKCl7DQogICAgICAgIGJhc2UuYWN0aW9ucy5fX25ld0l0ZW1fXygiZmlsZSIpDQogICAgICB9LA0KDQogICAgICBfX25ld0l0ZW1fXyA6ZnVuY3Rpb24odHlwZSl7DQogICAgICAgIGJhc2UubW9kZSA9ICJuZXdJdGVtIg0KDQogICAgICAgIGxldCBzZWxlY3RlZEl0ZW0gPSBCdWlsZChgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtIHR5cGU9IiR7dHlwZX0iIGNsYXNzPSJzZWxlY3RlZCI+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWljb24+JHtGaWxlTWFuYWdlci5JY29uc1t0eXBlKyJJY29uIl19PC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1pY29uPg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1uYW1lIGNvbnRlbnRlZGl0YWJsZT10cnVlIHNwZWxsY2hlY2s9ZmFsc2U+JHtGaWxlTWFuYWdlci5MYW5ndWFnZVsibmV3Iit0eXBlWzBdLnRvVXBwZXJDYXNlKCkrdHlwZS5zdWJzdHJpbmcoMSldfTwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tbmFtZT4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tc2l6ZT48L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLXNpemU+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWRhdGU+PC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1kYXRlPg0KICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtPmApDQoNCiAgICAgICAgc2VsZWN0ZWRJdGVtLmZpbGVfbWFuYWdlcl9jcmVhdGVfaXRlbT1mdW5jdGlvbigpew0KICAgICAgICAgIGxldCBuZXdOYW1lID0gbmFtZUVsZW1lbnQuaW5uZXJUZXh0DQogICAgICAgICAgaWYobmV3TmFtZT09IiIpIHJldHVybiBEaXIocGF0aCkNCiAgICAgICAgICBQb3N0KHsNCiAgICAgICAgICAgIGFjdGlvbjoiY29tbWFuZCIsDQogICAgICAgICAgICBjb21tYW5kOnR5cGU9PSJmb2xkZXIiID8gIm1rZGlyIiA6ICJ0b3VjaCIsDQogICAgICAgICAgICBwYXJhbWV0ZXJzOltwYXRoKyIvIituZXdOYW1lXQ0KICAgICAgICAgIH0pLnRoZW4oZT0+ew0KICAgICAgICAgICAgRGlyKHBhdGgsW25ld05hbWVdKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCg0KICAgICAgICBsZXQgbmFtZUVsZW1lbnQgPSBzZWxlY3RlZEl0ZW0ucXVlcnlTZWxlY3Rvcigid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tbmFtZSIpDQoNCiAgICAgICAgbmFtZUVsZW1lbnQub25rZXlkb3duICA9IGZ1bmN0aW9uKGUpew0KICAgICAgICAgIGlmKCFuYW1lRWxlbWVudC5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpKSByZXR1cm47DQogICAgICAgICAgaWYoZS5rZXk9PSJFbnRlciIpew0KICAgICAgICAgICAgc2VsZWN0ZWRJdGVtLmZpbGVfbWFuYWdlcl9jcmVhdGVfaXRlbSgpOw0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZihlLmtleT09IkVzY2FwZSIpew0KICAgICAgICAgICAgbmFtZUVsZW1lbnQuaW5uZXJUZXh0PSIiICAgICAgICAgIA0KICAgICAgICAgICAgRGlyKHBhdGgpOw0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIG5hbWVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImZvY3Vzb3V0IixmdW5jdGlvbihlKXsNCiAgICAgICAgICBzZWxlY3RlZEl0ZW0uZmlsZV9tYW5hZ2VyX2NyZWF0ZV9pdGVtKCk7DQogICAgICAgIH0pDQoNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmZpbGVzLmFwcGVuZENoaWxkKHNlbGVjdGVkSXRlbSkNCg0KICAgICAgICBzZWxlY3RlZEl0ZW0uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpDQoNCiAgICAgICAgU2VsZWN0RWxlbWVudChuYW1lRWxlbWVudCkNCiAgICAgICAgDQoNCiAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcz1bXQ0KICAgICAgICBVcGRhdGVTZWxlY3RlZEZpbGVJdGVtcygpDQogICAgICAgIA0KICAgICAgfSwNCg0KICAgICAgZGVsZXRlOmZ1bmN0aW9uKCl7DQogICAgICAgIFBvc3Qoew0KICAgICAgICAgIGFjdGlvbjoiY29tbWFuZCIsDQogICAgICAgICAgY29tbWFuZDoicm0iLA0KICAgICAgICAgIHBhcmFtZXRlcnM6IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubWFwKGU9PmUuZ2V0QXR0cmlidXRlKCJwYXRoIikpLA0KICAgICAgICAgIGlub2RlczogZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5tYXAoZT0+ZS5nZXRBdHRyaWJ1dGUoImlub2RlIikpDQogICAgICAgIH0pLnRoZW4oZT0+ew0KICAgICAgICAgIGlmKGUuc3RhdHVzPT0ic3VjY2VzcyIpew0KICAgICAgICAgICAgRGlyKHBhdGgpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSwNCg0KICAgICAgaGlkZGVuOmZ1bmN0aW9uKCl7DQogICAgICAgIGNvbnNvbGUubG9nKCJUT0dHTEUiKTsNCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1zaG93LWhpZGRlbi1maWxlcyIsIA0KICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tc2hvdy1oaWRkZW4tZmlsZXMiKT09MSA/IDAgOiAxDQogICAgICAgICk7DQogICAgICAgIERpcihwYXRoKQ0KICAgICAgfSwNCg0KICAgICAgcmVuYW1lOiBmdW5jdGlvbigpew0KICAgICAgICBsZXQgc2VsZWN0ZWRJdGVtID0gZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXQ0KICAgICAgICBsZXQgbmFtZUVsZW1lbnQgPSBzZWxlY3RlZEl0ZW0ucXVlcnlTZWxlY3Rvcigid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tbmFtZSIpDQogICAgICAgIGJhc2UubW9kZSA9ICJyZW5hbWUiDQogICAgICAgIHJlbmFtZUVsZW1lbnQgPSBzZWxlY3RlZEl0ZW07DQogICAgICAgIHNlbGVjdGVkSXRlbS5maWxlX21hbmFnZXJfcmVuYW1lPWZ1bmN0aW9uKCl7DQogICAgICAgICAgbGV0IG5ld05hbWUgPSBuYW1lRWxlbWVudC5pbm5lclRleHQNCiAgICAgICAgICBsZXQgZm9sZGVyUGF0aCA9IHNlbGVjdGVkSXRlbS5nZXRBdHRyaWJ1dGUoImZvbGRlciIpDQogICAgICAgICAgaWYobmV3TmFtZT09IiIpIHJldHVybiBEaXIocGF0aCkNCiAgICAgICAgICBQb3N0KHsNCiAgICAgICAgICAgIGFjdGlvbjoiY29tbWFuZCIsDQogICAgICAgICAgICBjb21tYW5kOiJtdiIsDQogICAgICAgICAgICBwYXJhbWV0ZXJzOltmb2xkZXJQYXRoKyIvIitzZWxlY3RlZEl0ZW0uZ2V0QXR0cmlidXRlKCJuYW1lIiksZm9sZGVyUGF0aCsiLyIrbmV3TmFtZV0sDQogICAgICAgICAgICBpbm9kZXM6W3NlbGVjdGVkSXRlbS5nZXRBdHRyaWJ1dGUoImlub2RlIildDQogICAgICAgICAgfSkudGhlbihlPT57DQogICAgICAgICAgICBEaXIocGF0aCxbbmV3TmFtZV0pDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KDQogICAgICAgIG5hbWVFbGVtZW50LnNldEF0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIiwidHJ1ZSIpDQogICAgICAgIG5hbWVFbGVtZW50LnNldEF0dHJpYnV0ZSgic3BlbGxjaGVjayIsImZhbHNlIikNCiAgICAgICAgU2VsZWN0RWxlbWVudChuYW1lRWxlbWVudCkNCg0KICAgICAgICBuYW1lRWxlbWVudC5vbmtleWRvd24gID0gZnVuY3Rpb24oZSl7DQogICAgICAgICAgaWYoIW5hbWVFbGVtZW50Lmhhc0F0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIikpIHJldHVybjsNCiAgICAgICAgICBpZihlLmtleT09IkVudGVyIil7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiRW50ZXIiKQ0KICAgICAgICAgICAgc2VsZWN0ZWRJdGVtLmZpbGVfbWFuYWdlcl9yZW5hbWUoKTsNCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYoZS5rZXk9PSJFc2NhcGUiKXsNCiAgICAgICAgICAgIG5hbWVFbGVtZW50LmlubmVyVGV4dD0iIiAgICAgICAgICANCiAgICAgICAgICAgIERpcihwYXRoKTsNCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBuYW1lRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJmb2N1c291dCIsZnVuY3Rpb24oZSl7DQogICAgICAgICAgc2VsZWN0ZWRJdGVtLmZpbGVfbWFuYWdlcl9yZW5hbWUoKTsNCiAgICAgICAgfSkNCg0KICAgICAgICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zPVtdDQogICAgICAgIFVwZGF0ZVNlbGVjdGVkRmlsZUl0ZW1zKCkNCg0KICAgICAgfSwNCg0KICAgICAgY29udmVydDpmdW5jdGlvbigpew0KICAgICAgICBsZXQgZm9ybWF0ID0gcHJvbXB0KCAiRm9ybWF0OiIsICJ3ZWJwIiApOw0KICAgICAgICBQb3N0KHsNCiAgICAgICAgICBhY3Rpb246ImNvbW1hbmQiLA0KICAgICAgICAgIGNvbW1hbmQ6ImNvbnZlcnQiLA0KICAgICAgICAgIHBhcmFtZXRlcnM6IFsgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5nZXRBdHRyaWJ1dGUoInBhdGgiKSwgZm9ybWF0IF0sDQogICAgICAgICAgaW5vZGVzOlsuLi5maWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLm1hcChlPT5lLmdldEF0dHJpYnV0ZSgiaW5vZGUiKSldDQogICAgICAgIH0pLnRoZW4oZT0+ew0KICAgICAgICAgIERpcihwYXRoKQ0KICAgICAgICB9KQ0KICAgICAgfSwNCg0KICAgICAgemlwOmZ1bmN0aW9uKCl7DQogICAgICAgIGxldCBmaWxlTmFtZSA9IHByb21wdCggRmlsZU1hbmFnZXIuTGFuZ3VhZ2UuemlwTmFtZSAsZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSsiLnppcCIpOw0KICAgICAgICBQb3N0KHsNCiAgICAgICAgICBhY3Rpb246ImNvbW1hbmQiLA0KICAgICAgICAgIGNvbW1hbmQ6InppcCIsDQogICAgICAgICAgcGFyYW1ldGVyczogWy4uLmZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubWFwKGU9PmUuZ2V0QXR0cmlidXRlKCJwYXRoIikpLCBwYXRoICsgIi8iICsgZmlsZU5hbWVdLA0KICAgICAgICAgIGlub2RlczpbLi4uZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5tYXAoZT0+ZS5nZXRBdHRyaWJ1dGUoImlub2RlIikpXQ0KICAgICAgICB9KS50aGVuKGU9PnsNCiAgICAgICAgICBEaXIocGF0aCxbZS5kYXRhXSkNCiAgICAgICAgfSkNCiAgICAgIH0sDQoNCiAgICAgIHVuemlwOmZ1bmN0aW9uKCl7DQogICAgICAgIGxldCBleHRyYWN0UGF0aCA9IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJuYW1lIikuc3BsaXQoIi4iKQ0KICAgICAgICBleHRyYWN0UGF0aC5wb3AoKQ0KICAgICAgICBleHRyYWN0UGF0aCA9IGV4dHJhY3RQYXRoLmpvaW4oIi4iKQ0KICAgICAgICBQb3N0KHsNCiAgICAgICAgICBhY3Rpb246ImNvbW1hbmQiLA0KICAgICAgICAgIGNvbW1hbmQ6InVuemlwIiwNCiAgICAgICAgICBwYXJhbWV0ZXJzOiBbZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5nZXRBdHRyaWJ1dGUoInBhdGgiKSwgcGF0aCsiLyIrZXh0cmFjdFBhdGhdLA0KICAgICAgICAgIGlub2RlczpbZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5nZXRBdHRyaWJ1dGUoImlub2RlIildDQogICAgICAgIH0pLnRoZW4oZT0+ew0KICAgICAgICAgIERpcihwYXRoKQ0KICAgICAgICB9KQ0KICAgICAgfSwNCg0KICAgICAgY3V0OmZ1bmN0aW9uKCl7DQogICAgICAgIGxhc3RDb21tYW5kPSJjdXQiDQogICAgICAgIGxhc3RDb21tYW5kU291cmNlcyA9IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubWFwKGU9PltlLmdldEF0dHJpYnV0ZSgiZm9sZGVyIiksZS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSBdICkNCiAgICAgICAgbGFzdENvbW1hbmRJbm9kZXMgPSBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLm1hcChlPT5lLmdldEF0dHJpYnV0ZSgiaW5vZGUiKSkNCiAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKGU9PmUuY2xhc3NMaXN0LmFkZCgiY3V0dGVkIikpDQogICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBbXQ0KICAgICAgICBVcGRhdGVTZWxlY3RlZEZpbGVJdGVtcygpDQogICAgICB9LA0KDQogICAgICBjb3B5OmZ1bmN0aW9uKCl7DQogICAgICAgIGxhc3RDb21tYW5kPSJjb3B5Ig0KICAgICAgICBsYXN0Q29tbWFuZFNvdXJjZXMgPSBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLm1hcChlPT5bZS5nZXRBdHRyaWJ1dGUoImZvbGRlciIpLGUuZ2V0QXR0cmlidXRlKCJuYW1lIikgXSApDQogICAgICAgIGxhc3RDb21tYW5kSW5vZGVzID0gZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5tYXAoZT0+ZS5nZXRBdHRyaWJ1dGUoImlub2RlIikpDQogICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBbXQ0KICAgICAgICBVcGRhdGVTZWxlY3RlZEZpbGVJdGVtcygpDQogICAgICB9LA0KDQogICAgICBfUEFTVEVfOmZ1bmN0aW9uKG92ZXJXcml0ZT1mYWxzZSl7DQogICAgICAgIA0KICAgICAgICBsZXQgY29tbWFuZCA9IGxhc3RDb21tYW5kPT0iY3V0IiA/ICJtdiIgOiAiY3AiOw0KICAgICAgICAvLyBGb3IgU2VydmVyIG92ZXJXcml0ZSBjb21tYW5kDQogICAgICAgIA0KICAgICAgICBsZXQgY29tbWFuZEFyZ3VtZW50ID0gb3ZlcldyaXRlID8gIi1mIiA6ICIiOw0KICAgICAgICAvLyBJZiBzZWxlY3RlZCBpdGVtLCBwYXRoIGlzIHNlbGVjdGVkIGl0ZW0sIGVsc2UgcGF0aCBpcyBjdXJyZW50IHBhdGgNCiAgICAgICAgDQogICAgICAgIGxldCB0YXJnZXQgPSAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGg9PTEgPyBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdLmdldEF0dHJpYnV0ZSgicGF0aCIpIDogcGF0aDsNCiAgICAgICAgDQogICAgICAgIC8vIEZvciBlYWNoIGFsbCBzZWxlY3RlZCBpdGVtLCBkbyBjb21tYW5kDQogICAgICAgIGxhc3RDb21tYW5kU291cmNlcy5mb3JFYWNoKChlLGkpPT57DQogICAgICAgICAgUG9zdCh7DQogICAgICAgICAgICBhY3Rpb246ImNvbW1hbmQiLA0KICAgICAgICAgICAgY29tbWFuZDogY29tbWFuZCArIGNvbW1hbmRBcmd1bWVudCwNCiAgICAgICAgICAgIHBhcmFtZXRlcnM6W2VbMF0rIi8iK2VbMV0sdGFyZ2V0KyIvIitlWzFdXSwNCiAgICAgICAgICAgIGlub2RlczpbIGxhc3RDb21tYW5kSW5vZGVzW2ldIF0NCiAgICAgICAgICB9KS50aGVuKGU9PnsNCiAgICAgICAgICAgIERpcihwYXRoKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0pDQoNCiAgICAgICAgLy8gSWYgY29tbWFuZCBpcyBjdXQgZG9udCBmb3JnZXQgbGFzdCBjb21tYW5kIGFuZCBzb3VyY2VzDQogICAgICAgIGlmKGxhc3RDb21tYW5kPT0iY3V0Iil7ICANCiAgICAgICAgICBsYXN0Q29tbWFuZD1udWxsDQogICAgICAgICAgbGFzdENvbW1hbmRTb3VyY2VzID0gW10NCiAgICAgICAgfQ0KICAgICAgfSwNCg0KICAgICAgcGFzdGU6ZnVuY3Rpb24oKXsNCiAgICAgICAgdGhpcy5fUEFTVEVfKGZhbHNlKQ0KICAgICAgfSwNCg0KICAgICAgb3ZlcndyaXRlOiBmdW5jdGlvbigpew0KICAgICAgICB0aGlzLl9QQVNURV8odHJ1ZSkNCiAgICAgIH0sDQogICAgICANCiAgICAgIC8vISBOb25lIFVzaW5nIG5vdw0KICAgICAgX3VwbG9hZEZpbGVzOmZ1bmN0aW9uKGZpbGVzKXsNCiAgICAgICAgbGV0IHVwbG9hZFRleHQgPSBGaWxlTWFuYWdlci5MYW5ndWFnZS51cGxvYWRpbmcrICIgIitmaWxlcy5sZW5ndGgrIiAiK0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLmZpbGU7DQogICAgICAgIGxldCB1cGxvYWREaXIgPSBwYXRoOw0KDQogICAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAgIGRhdGEuYXBwZW5kKCJhY3Rpb24iLCJjb21tYW5kIikNCiAgICAgICAgZGF0YS5hcHBlbmQoImNvbW1hbmQiLCJ1cGxvYWQiKQ0KICAgICAgICBpZihyZXBsYWNlKSBkYXRhLmFwcGVuZCgicmVwbGFjZSIsInRydWUiKQ0KICAgICAgICBkYXRhLmFwcGVuZCgicGFyYW1ldGVycyIsRW5jb2RlKHBhdGgpKQ0KICAgICAgICBkYXRhLmFwcGVuZCgiaW5vZGVzIixpbm9kZSkNCiAgICAgICAgZm9yKGxldCBpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKXsNCiAgICAgICAgICBkYXRhLmFwcGVuZCgidXBsb2FkWyIraSsiXSIsZmlsZXNbaV0pDQogICAgICAgIH0NCiAgICAgICAgDQoNCiAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCiAgICAgICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgYmFzZS5iYWNrRW5kUm9vdCApOyANCiAgICAgICAgDQogICAgICAgIA0KICAgICAgICAvLyB1cGxvYWQgcHJvZ3Jlc3MgZXZlbnQNCiAgICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgLy8gdXBsb2FkIHByb2dyZXNzIGFzIHBlcmNlbnRhZ2UNCiAgICAgICAgICBsZXQgcGVyY2VudF9jb21wbGV0ZWQgPSBwYXJzZUludCggKGUubG9hZGVkIC8gZS50b3RhbCkqMTAwICk7DQogICAgICAgICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5zaG93KCB1cGxvYWRUZXh0KyAiICIgK3BlcmNlbnRfY29tcGxldGVkKyIgJSIgLCBwZXJjZW50X2NvbXBsZXRlZCApOw0KICAgICAgICAgIA0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIC8vIHJlcXVlc3QgZmluaXNoZWQgZXZlbnQNCiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgIGlmKHVwbG9hZERpcj09cGF0aCl7DQogICAgICAgICAgICBEaXIocGF0aCxKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3BvbnNlKS5kYXRhKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyLnNob3coICIxMDAlIiAsICJzdWNjZXNzIiAsIDIwMDAgKTsNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICAvLyBzZW5kIFBPU1QgcmVxdWVzdCB0byBzZXJ2ZXINCiAgICAgICAgcmVxdWVzdC5zZW5kKGRhdGEpOw0KICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyLnNob3coIHVwbG9hZFRleHQrIjAlIiAsIDAgKTsNCiAgICAgIH0sDQoNCiAgICAgIHVwbG9hZDogZnVuY3Rpb24ocmVwbGFjZT1mYWxzZSl7DQogICAgICAgIGxldCBpbnB1dCA9ICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpDQogICAgICAgIGlucHV0LnR5cGU9ImZpbGUiDQogICAgICAgIGlucHV0Lm11bHRpcGxlPSJtdWx0aXBsZSINCg0KICAgICAgICBpbnB1dC5vbmlucHV0ID0gKGUpPT57DQogICAgICAgICAgYmFzZS5jb21tYW5kcy51cGxvYWQocGF0aCxpbnB1dC5maWxlcyxyZXBsYWNlLHRydWUsdHJ1ZSkNCiAgICAgICAgfQ0KICAgICAgICBpbnB1dC5jbGljaygpOw0KICAgICAgfSwNCg0KICAgICAgcHJvcGVydGllczogZnVuY3Rpb24oKXsNCiAgICAgICAgbGV0IGZvbGRlciA9ICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA/IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJwYXRoIikgOiBiYXNlLnBhdGgNCiAgICAgICAgYmFzZS5jb21tYW5kcy5zZW5kKCJwcm9wZXJ0aWVzIixmb2xkZXIsbnVsbCx0cnVlKTsNCiAgICAgIH0NCiAgICAgIA0KDQogICAgfQ0KDQogICAgDQoNCg0KDQogICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5wYXJlbnQgPSBCdWlsZChgDQogICAgICA8bW9kYWwtdmlldy1kaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtmbGV4OjE7Z2FwOjhweDthbGlnbi1pdGVtczpjZW50ZXI7Ij4NCiAgICAgICAgPG1vZGFsLXZpZXctLWhlYWQtaW5mbyBzdHlsZT0iZmxleDoxOyI+DQogICAgICAgICAgDQogICAgICAgIDwvbW9kYWwtdmlldy0taGVhZC1pbmZvPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLXVpLS1pbnB1dCB3ZWItZWRpdGFibGUtLXVpLS1pbnB1dC0tc2VhcmNoIHN0eWxlPSJkaXNwbGF5Om5vbmU7ZmxleDoxO21pbi13aWR0aDoxMjBweDsiIGNvbnRlbnRlZGl0YWJsZT10cnVlIHNwZWxsY2hlY2s9ZmFsc2UgcGxhY2Vob2xkZXI9IiR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2Uuc2VhcmNofSI+PC93ZWItZWRpdGFibGUtLXVpLS1pbnB1dD4NCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tdWktLWljb24tYnV0dG9uIHdlYi1lZGl0YWJsZS0tdWktLWljb24tYnV0dG9uLXNlYXJjaD4NCiAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLnNlYXJjaH0NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLXVpLS1pY29uLWJ1dHRvbj4NCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tdWktLWljb24tYnV0dG9uIHdlYi1lZGl0YWJsZS0tdWktLWljb24tYnV0dG9uLXZpZXctbW9kZT4NCiAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLmdyaWR9DQogICAgICAgIDwvd2ViLWVkaXRhYmxlLS11aS0taWNvbi1idXR0b24+DQogICAgICAgIDx3ZWItZWRpdGFibGUtLXVpLS1pY29uLWJ1dHRvbiB3ZWItZWRpdGFibGUtLXVpLS1pY29uLWJ1dHRvbi1jaGFuZ2UtdGhlbWU+DQogICAgICAgICAgJHtGaWxlTWFuYWdlci5JY29ucy5jb250cmFzdH0NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLXVpLS1pY29uLWJ1dHRvbj4NCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbiBwb3B1cC1idXR0b24gd2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLW5ldy1mb2xkZXIgc3R5bGU9ImJhY2tncm91bmQ6ICNmZjk4MDA7Ij4NCiAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLm5ld0ZvbGRlcn0NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLXRleHQ+JHtGaWxlTWFuYWdlci5MYW5ndWFnZS5uZXdGb2xkZXJ9PC93ZWItZWRpdGFibGUtLXVpLS1idXR0b24tdGV4dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLXVpLS1idXR0b24+DQogICAgICAgIDx3ZWItZWRpdGFibGUtLXVpLS1idXR0b24gd2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLXVwbG9hZD4NCiAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLnVwbG9hZH0NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLXRleHQ+JHtGaWxlTWFuYWdlci5MYW5ndWFnZS51cGxvYWR9PC93ZWItZWRpdGFibGUtLXVpLS1idXR0b24tdGV4dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLXVpLS1idXR0b24+DQogICAgICAgIDx3ZWItZWRpdGFibGUtLXVpLS1idXR0b24gd2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLXJlcGxhY2U+DQogICAgICAgICAgJHtGaWxlTWFuYWdlci5JY29ucy51cGxvYWR9DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbi10ZXh0PiR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2UucmVwbGFjZX08L3dlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbi10ZXh0Pg0KICAgICAgICA8L3dlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbj4NCiAgICAgIDwvbW9kYWwtdmlldy1kaXY+DQogICAgYCkNCg0KDQogICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy52aWV3TW9kZUJ1dHRvbiA9IGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMucGFyZW50LnF1ZXJ5U2VsZWN0b3IoIlt3ZWItZWRpdGFibGUtLXVpLS1pY29uLWJ1dHRvbi12aWV3LW1vZGVdIikNCiAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLmNoYW5nZVRoZW1lQnV0dG9uID0gYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5wYXJlbnQucXVlcnlTZWxlY3RvcigiW3dlYi1lZGl0YWJsZS0tdWktLWljb24tYnV0dG9uLWNoYW5nZS10aGVtZV0iKQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoSW5wdXQgPSBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnBhcmVudC5xdWVyeVNlbGVjdG9yKCJbd2ViLWVkaXRhYmxlLS11aS0taW5wdXQtLXNlYXJjaF0iKQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoQnV0dG9uID0gYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5wYXJlbnQucXVlcnlTZWxlY3RvcigiW3dlYi1lZGl0YWJsZS0tdWktLWljb24tYnV0dG9uLXNlYXJjaF0iKQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMubmV3Rm9sZGVyQnV0dG9uID0gYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5wYXJlbnQucXVlcnlTZWxlY3RvcigiW3dlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbi1uZXctZm9sZGVyXSIpDQogICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRCdXR0b24gPSBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnBhcmVudC5xdWVyeVNlbGVjdG9yKCJbd2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uLXVwbG9hZF0iKQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMucmVwbGFjZUJ1dHRvbiA9IGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMucGFyZW50LnF1ZXJ5U2VsZWN0b3IoIlt3ZWItZWRpdGFibGUtLXVpLS1idXR0b24tcmVwbGFjZV0iKQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudXBsb2FkSGVscGVyID0gYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5wYXJlbnQucXVlcnlTZWxlY3RvcigibW9kYWwtdmlldy0taGVhZC1pbmZvIikNCiAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZFByb2dyZXNzYmFyID0gRmlsZU1hbmFnZXIuUHJvZ3Jlc3NCYXIoIiIsInZhcigtLXdlYi1lZGl0YWJsZS1wcmltYXJ5KSIpDQogICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy51cGxvYWRQcm9ncmVzc2Jhci5oaWRlKCkNCiAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZEhlbHBlci5hcHBlbmQoIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudXBsb2FkUHJvZ3Jlc3NiYXIgKQ0KDQogICAgLy8gU2VhcmNoIEJ1dHRvbg0KICAgIEZpbGVNYW5hZ2VyLlRleHQuVGV4dElucHV0KGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoSW5wdXQpDQogICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5zZWFyY2hJbnB1dC5vbmlucHV0PWZ1bmN0aW9uKGUpeyBVcGRhdGVWaXNpYmxlRmlsZUl0ZW1zKCkgfQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoSW5wdXQub25rZXlkb3duPWZ1bmN0aW9uKGUpew0KICAgICAgaWYoZS5rZXk9PSJFc2NhcGUiKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5zZWFyY2hJbnB1dC5pbm5lclRleHQgPSAiIg0KICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnNlYXJjaElucHV0LnN0eWxlLmRpc3BsYXk9Im5vbmUiDQogICAgICAgIFVwZGF0ZVZpc2libGVGaWxlSXRlbXMoKQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoQnV0dG9uLm9uY2xpY2s9ZnVuY3Rpb24oKXsNCiAgICAgIGlmKGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoSW5wdXQuc3R5bGUuZGlzcGxheT09Im5vbmUiKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5zZWFyY2hJbnB1dC5zdHlsZS5kaXNwbGF5PSJmbGV4Ig0KICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnNlYXJjaElucHV0LmZvY3VzKCkNCiAgICAgIH1lbHNlew0KICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnNlYXJjaElucHV0LnN0eWxlLmRpc3BsYXk9Im5vbmUiDQogICAgICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoSW5wdXQuaW5uZXJUZXh0PSIiOw0KICAgICAgICBVcGRhdGVWaXNpYmxlRmlsZUl0ZW1zKCkNCiAgICAgIH0NCiAgICB9DQoNCiAgICANCg0KICAgIC8vIE5ldyBGb2xkZXIgYnV0dG9uDQogICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy5uZXdGb2xkZXJCdXR0b24ub25jbGljaz1mdW5jdGlvbigpew0KICAgICAgYmFzZS5hY3Rpb25zLm5ld0ZvbGRlcigpOw0KICAgIH0NCg0KICAgIC8vIFVwbG9hZCBCdXR0b24NCiAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnVwbG9hZEJ1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7DQogICAgICBiYXNlLmFjdGlvbnMudXBsb2FkKCk7DQogICAgfQ0KDQogICAgLy8gUmVwbGFjZSBCdXR0b24NCiAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnJlcGxhY2VCdXR0b24ub25jbGljaz1mdW5jdGlvbigpew0KICAgICAgYmFzZS5hY3Rpb25zLnVwbG9hZCh0cnVlKTsNCiAgICB9DQoNCiAgICAvLyBWaWV3IE1vZGUgQnV0dG9uDQogICAgYmFzZS5lbGVtZW50cy5oZWFkQnV0dG9ucy52aWV3TW9kZUJ1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7DQogICAgICBsZXQgdmlld01vZGVzID0gWyJncmlkLWltYWdlIiwiZ3JpZCIsImRldGFpbCIsImxpc3QiXTsNCiAgICAgIGxldCBjdXJyZW50TW9kZSA9IHZpZXdNb2Rlcy5pbmRleE9mKGJhc2UuZWxlbWVudHMuY29udGVudC5jb250YWluZXIuZ2V0QXR0cmlidXRlKCJ2aWV3LW1vZGUiKSkNCiAgICAgIGxldCBuZXh0TW9kZSA9IChjdXJyZW50TW9kZSsxKSV2aWV3TW9kZXMubGVuZ3RoOw0KICAgICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoInZpZXctbW9kZSIsdmlld01vZGVzW25leHRNb2RlXSkNCiAgICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudmlld01vZGVCdXR0b24uaW5uZXJIVE1MID0gRmlsZU1hbmFnZXIuSWNvbnNbdmlld01vZGVzW25leHRNb2RlXV0NCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tdmlldy1tb2RlIix2aWV3TW9kZXNbbmV4dE1vZGVdKQ0KICAgIH0NCg0KICAgIC8vIGNoYW5nZSB0aGVtZQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuY2hhbmdlVGhlbWVCdXR0b24ub25jbGljaz1mdW5jdGlvbigpew0KICAgICAgdmFyIG1vZGFsID0gZG9jdW1lbnRlci5tb2RhbChgDQogICAgICA8ZGl2IHN0eWxlPSJmb250LWZhbWlseTogc3lzdGVtLXVpO2ZvbnQtc2l6ZTogMS4yNWVtO2Rpc3BsYXk6IGZsZXg7YWxpZ24taXRlbXM6IGNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Ij4NCiAgICAgICAgVGhlbWU6IA0KICAgICAgICA8c2VsZWN0IHN0eWxlPSJ3aWR0aDozMjBweDtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmU7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAycHggIzAwMDtmb250LXNpemU6IDFlbTtmb250LWZhbWlseTogc3lzdGVtLXVpO3BhZGRpbmc6IC41ZW07Ij4NCiAgICAgICAgICA8b3B0aW9uPmxpZ2h0PC9vcHRpb24+DQogICAgICAgICAgPG9wdGlvbj5kYXJrPC9vcHRpb24+DQogICAgICAgICAgPG9wdGlvbj5kYXJrLXllbGxvdzwvb3B0aW9uPg0KICAgICAgICA8L3NlbGVjdD4NCiAgICAgIDwvZGl2Pg0KICAgICAgPGJyPg0KICAgICAgPGRpdiBzdHlsZT0iZm9udC1mYW1pbHk6IHN5c3RlbS11aTtmb250LXNpemU6IDEuMjVlbTtkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyI+DQogICAgICAgIEltYWdlOiANCiAgICAgICAgPGlucHV0IG5hbWU9ImltYWdlIiB2YWx1ZT0nLi4vYmFja2dyb3VuZC5wbmcnIHN0eWxlPSJ3aWR0aDozMjBweDtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmU7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAycHggIzAwMDtmb250LXNpemU6IDFlbTtmb250LWZhbWlseTogc3lzdGVtLXVpO3BhZGRpbmc6IC41ZW07Ij4NCiAgICAgIDwvZGl2Pg0KICAgICAgPHByZT5odHRwczovL3NvdXJjZS51bnNwbGFzaC5jb20vcmFuZG9tLzEyMDB4ODAwLz9zcGFjZQ0KLi4vYmFja2dyb3VuZC5wbmc8L3ByZT4NCiAgICAgIDxicj4NCiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OiBzeXN0ZW0tdWk7Zm9udC1zaXplOiAxLjI1ZW07ZGlzcGxheTogZmxleDthbGlnbi1pdGVtczogY2VudGVyO2p1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsiPg0KICAgICAgICBPcGFjaXR5OiANCiAgICAgICAgPGlucHV0IHR5cGU9InJhbmdlIiBtaW49IjAiIG1heD0iMSIgc3RlcD0iMC4wMiIgbmFtZT0ib3BhY2l0eSIgdmFsdWU9JzAuMjUnIHN0eWxlPSJ3aWR0aDozMjBweDtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmU7Zm9udC1zaXplOiAxZW07Zm9udC1mYW1pbHk6IHN5c3RlbS11aTtwYWRkaW5nOiAuNWVtOyI+DQogICAgICA8L2Rpdj4NCiAgICAgIDxicj4NCiAgICAgIGApOw0KICAgICAgbW9kYWwucXVlcnlTZWxlY3Rvcigic2VsZWN0IikudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXRoZW1lIikgfHwgImxpZ2h0Ig0KICAgICAgbW9kYWwucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1pbWFnZV0iKS52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taW1hZ2UiKSB8fCAiLi4vYmFja2dyb3VuZC5wbmciDQogICAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPW9wYWNpdHldIikudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWltYWdlLW9wYWNpdHkiKSB8fCAiMC4yNSINCg0KICAgICAgbW9kYWwucXVlcnlTZWxlY3Rvcigic2VsZWN0Iikub25pbnB1dCA9IGZ1bmN0aW9uKCl7DQogICAgICAgIGJhc2UubW9kYWwuZG9tLnNldEF0dHJpYnV0ZSgidGhlbWUiLCB0aGlzLnZhbHVlKQ0KICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXRoZW1lIiwgdGhpcy52YWx1ZSkNCiAgICAgIH0NCiAgICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9aW1hZ2VdIikub25pbnB1dCA9IGZ1bmN0aW9uKCl7DQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy1iYWNrZ3JvdW5kIikuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gInVybCgiK3RoaXMudmFsdWUrIikiDQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taW1hZ2UiLCB0aGlzLnZhbHVlKQ0KICAgICAgfQ0KICAgICAgbW9kYWwucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1vcGFjaXR5XSIpLm9uaW5wdXQgPSBmdW5jdGlvbigpew0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctYmFja2dyb3VuZCIpLnN0eWxlLm9wYWNpdHkgPSB0aGlzLnZhbHVlDQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taW1hZ2Utb3BhY2l0eSIsIHRoaXMudmFsdWUpDQogICAgICB9DQoNCiAgICAgIA0KICAgICAgLy8gbGV0IG1vZGVzID0gWyJsaWdodCIsImxpZ2h0LXdpbnRlciIsImRhcmstY3VzdG9tIiwiZGFyay1uaWdodCIsImRhcmstc3BhY2UiLCJkYXJrIl07DQogICAgICAvLyBsZXQgY3VycmVudE1vZGUgPSBtb2Rlcy5pbmRleE9mKGJhc2UubW9kYWwuZG9tLmdldEF0dHJpYnV0ZSgidGhlbWUiKSkNCiAgICAgIC8vIGxldCBuZXh0TW9kZSA9IChjdXJyZW50TW9kZSsxKSVtb2Rlcy5sZW5ndGg7DQogICAgICAvLyBiYXNlLm1vZGFsLmRvbS5zZXRBdHRyaWJ1dGUoInRoZW1lIixtb2Rlc1tuZXh0TW9kZV0pDQogICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXRoZW1lIixtb2Rlc1tuZXh0TW9kZV0pDQogICAgfQ0KICAgIA0KDQoNCiAgDQogICAgLy8gQGNvbnRlbnQNCiAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQucGFyZW50ID0gQnVpbGQoYA0KICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyPg0KICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWFkZHJlc3MtYmFyPjwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWFkZHJlc3MtYmFyPg0KICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lciBzaG93LWRldGFpbHM9ImZhbHNlIiB2aWV3LW1vZGU9ImdyaWQtaW1hZ2UiPg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMgdGFiaW5kZXg9LTEgc3R5bGU9Im91dGxpbmU6bm9uZSI+PC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXM+DQogICAgICAgICAgPG1vZGFsLXZpZXctLWRldGFpbHMtbW9kdWxlPjwvbW9kYWwtdmlldy0tZGV0YWlscy1tb2R1bGU+DQogICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lcj4NCiAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXI+DQogICAgYCk7DQogICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmZpbGVzID0gYmFzZS5lbGVtZW50cy5jb250ZW50LnBhcmVudC5xdWVyeVNlbGVjdG9yKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMiKTsNCiAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuY29udGFpbmVyID0gYmFzZS5lbGVtZW50cy5jb250ZW50LnBhcmVudC5xdWVyeVNlbGVjdG9yKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyIik7DQogICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmFkZHJlc3NCYXIgPSBiYXNlLmVsZW1lbnRzLmNvbnRlbnQucGFyZW50LnF1ZXJ5U2VsZWN0b3IoIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhciIpOw0KDQogICAgLy8gU2V0IFZpZXcgTW9kZSBGcm9tIExhc3QgbG9jYWxTdG9yYWdlDQogICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoInZpZXctbW9kZSIsbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS12aWV3LW1vZGUiKSB8fCAiZ3JpZC1pbWFnZSIgKQ0KICAgIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMudmlld01vZGVCdXR0b24uaW5uZXJIVE1MID0gRmlsZU1hbmFnZXIuSWNvbnNbbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS12aWV3LW1vZGUiKSB8fCAiZ3JpZC1pbWFnZSIgXQ0KICAgIA0KDQogICAgaWYob3B0aW9ucy50eXBlIT0iZXhwbG9yZSIpew0KICAgICAgYmFzZS5lbGVtZW50cy5mb290ZXIucGFyZW50ID0gQnVpbGQoYA0KICAgICAgICA8bW9kYWwtdmlldy1kaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtmbGV4OjE7Z2FwOjEwcHg7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1sZWZ0OjEwcHg7bWFyZ2luLXJpZ2h0OjEwcHg7Ij4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS11aS0taW5wdXQgd2ViLWVkaXRhYmxlLS11aS0taW5wdXQtLWZpbGUtbmFtZSBzdHlsZT0iZGlzcGxheTpub25lO2ZsZXg6MTttaW4td2lkdGg6MTIwcHg7IiBjb250ZW50ZWRpdGFibGU9dHJ1ZSBzcGVsbGNoZWNrPWZhbHNlIHBsYWNlaG9sZGVyPSIke0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLmZpbGVOYW1lfSI+PC93ZWItZWRpdGFibGUtLXVpLS1pbnB1dD4NCiAgICAgICAgICA8bW9kYWwtdmlldy1kaXYgc3R5bGU9ImZsZXg6MSI+PC9tb2RhbC12aWV3LWRpdj4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uPiR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2Uuc2VsZWN0fTwvd2ViLWVkaXRhYmxlLS11aS0tYnV0dG9uPg0KICAgICAgICA8L21vZGFsLXZpZXctZGl2Pg0KICAgICAgYCkNCiAgICAgIGlmKG9wdGlvbnMudHlwZT09ImZpbGUiIHx8IG9wdGlvbnMudHlwZT09ImZvbGRlciIgfHwgb3B0aW9ucy50eXBlPT0iYW55Iil7DQogICAgICAgIGJhc2UuZWxlbWVudHMuZm9vdGVyLnNlbGVjdEJ1dHRvbiA9IGJhc2UuZWxlbWVudHMuZm9vdGVyLnBhcmVudC5xdWVyeVNlbGVjdG9yKCJ3ZWItZWRpdGFibGUtLXVpLS1idXR0b24iKQ0KICAgICAgICBiYXNlLmVsZW1lbnRzLmZvb3Rlci5zZWxlY3RCdXR0b24ub25jbGljaz1mdW5jdGlvbigpeyBTZWxlY3QoKSB9DQogICAgICB9DQogICAgICBpZihvcHRpb25zLnR5cGU9PSJzYXZlIil7DQogICAgICAgIGJhc2UuZWxlbWVudHMuZm9vdGVyLmZpbGVOYW1lID0gYmFzZS5lbGVtZW50cy5mb290ZXIucGFyZW50LnF1ZXJ5U2VsZWN0b3IoIlt3ZWItZWRpdGFibGUtLXVpLS1pbnB1dC0tZmlsZS1uYW1lXSIpDQogICAgICAgIGJhc2UuZWxlbWVudHMuZm9vdGVyLmZpbGVOYW1lLnN0eWxlLmRpc3BsYXkgPSBudWxsDQogICAgICAgIGlmKG9wdGlvbnMubmFtZSkgYmFzZS5lbGVtZW50cy5mb290ZXIuZmlsZU5hbWUuaW5uZXJUZXh0PW9wdGlvbnMubmFtZTsNCg0KICAgICAgICBiYXNlLmVsZW1lbnRzLmZvb3Rlci5zYXZlQnV0dG9uID0gYmFzZS5lbGVtZW50cy5mb290ZXIucGFyZW50LnF1ZXJ5U2VsZWN0b3IoIndlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbiIpDQogICAgICAgIGJhc2UuZWxlbWVudHMuZm9vdGVyLnNhdmVCdXR0b24uaW5uZXJUZXh0ID0gRmlsZU1hbmFnZXIuTGFuZ3VhZ2Uuc2F2ZTsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5mb290ZXIuc2F2ZUJ1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7IA0KICAgICAgICAgIGlmKG9wdGlvbnMuY29udGVudCE9bnVsbCl7DQogICAgICAgICAgICBiYXNlLmNvbW1hbmRzLnNhdmUocGF0aCsiLyIrYmFzZS5lbGVtZW50cy5mb290ZXIuZmlsZU5hbWUuaW5uZXJUZXh0LCBvcHRpb25zLmNvbnRlbnQgLCB0cnVlKS50aGVuKGU9PnsNCiAgICAgICAgICAgICAgRXhpdCggWygiLyIgKyBwYXRoICsgIi8iICsgYmFzZS5lbGVtZW50cy5mb290ZXIuZmlsZU5hbWUuaW5uZXJUZXh0KS5zcGxpdCgvXC8rLykuam9pbigiLyIpXSApDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIEV4aXQoIFsoIi8iICsgcGF0aCArICIvIiArIGJhc2UuZWxlbWVudHMuZm9vdGVyLmZpbGVOYW1lLmlubmVyVGV4dCkuc3BsaXQoL1wvKy8pLmpvaW4oIi8iKV0gKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgDQogICAgfQ0KDQoNCg0KDQogICAgRWxlbWVudC5wcm90b3R5cGUucGFyZW50cyA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7DQogICAgICB2YXIgZWxlbWVudHMgPSBbXTsNCiAgICAgIHZhciBlbGVtID0gdGhpczsNCiAgICAgIHZhciBpc2hhdmVzZWxlY3RvciA9IHNlbGVjdG9yICE9PSB1bmRlZmluZWQ7DQoNCiAgICAgIHdoaWxlICgoZWxlbSA9IGVsZW0ucGFyZW50RWxlbWVudCkgIT09IG51bGwpIHsNCiAgICAgICAgaWYgKGVsZW0ubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7DQogICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIWlzaGF2ZXNlbGVjdG9yIHx8IGVsZW0ubWF0Y2hlcyhzZWxlY3RvcikpIHsNCiAgICAgICAgICBlbGVtZW50cy5wdXNoKGVsZW0pOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIHJldHVybiBlbGVtZW50czsNCiAgICB9Ow0KICAgIA0KICAgIC8vLS0gIFVwbG9hZCBEcmFnICYgRHJvcCAtLS8vDQogICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmNvbnRhaW5lci5kcmFnSW5kZXggPSAwDQogICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJkcmFnb3ZlciIsZnVuY3Rpb24oZSl7DQogICAgICBjb25zb2xlLmxvZygiZHJhZyBvdmVyIikNCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuY29udGFpbmVyLmRyYWdJbmRleCsrDQogICAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIndlYi1lZGl0YWJsZS0tZHJhZ292ZXIiKQ0KICAgIH0pDQoNCiAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoImRyYWdlbmQiLGZ1bmN0aW9uKGUpew0KICAgICAgY29uc29sZS5sb2coImRyYWcgZW5kIikNCiAgICB9KQ0KICAgIA0KICAgIGJhc2UuZWxlbWVudHMuY29udGVudC5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZyIsZnVuY3Rpb24oZSl7DQogICAgICBjb25zb2xlLmxvZygiZHJhZyIpDQogICAgfSkNCg0KICAgIGJhc2UuZWxlbWVudHMuY29udGVudC5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2xlYXZlIixmdW5jdGlvbihlKXsNCiAgICAgIGlmKGUuZnJvbUVsZW1lbnQ9PW51bGwpew0KICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGVudC5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgid2ViLWVkaXRhYmxlLS1kcmFnb3ZlciIpICANCiAgICAgIH1lbHNlew0KICAgICAgICBsZXQgZWxzID0gW2UuZnJvbUVsZW1lbnQgLCBlLmZyb21FbGVtZW50LnBhcmVudHMoKV0NCiAgICAgICAgaWYoZWxzLmluZGV4T2YoYmFzZS5lbGVtZW50cy5jb250ZW50LmNvbnRhaW5lcik9PS0xKXsNCiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIndlYi1lZGl0YWJsZS0tZHJhZ292ZXIiKSAgDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KQ0KDQogICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCJkcm9wIixmdW5jdGlvbihlKXsNCiAgICAgIGNvbnNvbGUubG9nKCJkcm9wIikNCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIndlYi1lZGl0YWJsZS0tZHJhZ292ZXIiKQ0KICAgICAgbGV0IGZpbGVzID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM7DQogICAgICBiYXNlLmNvbW1hbmRzLnVwbG9hZChwYXRoLGZpbGVzLGZhbHNlLHRydWUsdHJ1ZSkNCiAgICB9KQ0KDQoNCg0KDQogICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5wYXJlbnQgPSBCdWlsZChgDQogICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIHN0eWxlPSJib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS13ZWItZWRpdGFibGUtc2Vjb25kKSIgZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJzZWxlY3QiPg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLmdyaWR9DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLnNlbGVjdH0NCiAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIHN0eWxlPSJib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS13ZWItZWRpdGFibGUtc2Vjb25kKSIgZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJkb3dubG9hZCI+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMuZG93bmxvYWR9DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLmRvd25sb2FkfQ0KICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0+DQoNCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0gZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJlZGl0Ij4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5JY29ucy5lZGl0fQ0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5MYW5ndWFnZS5lZGl0fQ0KICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0+DQoNCiAgICAgICAgDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIGZpbGUtbWFuYWdlci0tY29tbWFuZD0iY29udmVydCI+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMucHJvcGVydGllc30NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2UuY29udmVydH0NCiAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIGZpbGUtbWFuYWdlci0tY29tbWFuZD0ibmV3Rm9sZGVyIj4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5JY29ucy5uZXdGb2xkZXJ9DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLm5ld0ZvbGRlcn0NCiAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIGZpbGUtbWFuYWdlci0tY29tbWFuZD0ibmV3RmlsZSI+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMubmV3RmlsZX0NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2UubmV3RmlsZX0NCiAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIHN0eWxlPSJib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS13ZWItZWRpdGFibGUtc2Vjb25kKSIgZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJyZW5hbWUiPg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLnJlbmFtZX0NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2UucmVuYW1lfQ0KICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0PkYyPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0Pg0KICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0+DQogICAgICANCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0gZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJ6aXAiPg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLnppcH0NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2UuemlwfQ0KICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0Pjwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS1zaG9ydGN1dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIHN0eWxlPSJib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS13ZWItZWRpdGFibGUtc2Vjb25kKSIgZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJ1bnppcCI+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMudW56aXB9DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLnVuemlwfQ0KICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0Pjwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS1zaG9ydGN1dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KDQogICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtIGZpbGUtbWFuYWdlci0tY29tbWFuZD0iY3V0Ij4gDQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMuY3V0fQ0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5MYW5ndWFnZS5jdXR9DQogICAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tc2hvcnRjdXQ+Q3RybCtYPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0Pg0KICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0+DQoNCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0gZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJjb3B5Ij4gDQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMuY29weX0NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2UuY29weX0NCiAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS1zaG9ydGN1dD5DdHJsK0M8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tc2hvcnRjdXQ+DQogICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbT4NCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0gZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJwYXN0ZSI+IA0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLnBhc3RlfQ0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5MYW5ndWFnZS5wYXN0ZX0NCiAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS1zaG9ydGN1dD5DdHJsK1Y8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tc2hvcnRjdXQ+DQogICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbT4NCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0gZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJvdmVyd3JpdGUiPiANCiAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5JY29ucy5wYXN0ZX0NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2Uub3ZlcndyaXRlfQ0KICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0Pg0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0PkN0cmwrU2hpZnQrVjwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS1zaG9ydGN1dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbSBmaWxlLW1hbmFnZXItLWNvbW1hbmQ9ImRlbGV0ZSI+IA0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgICAgICAke0ZpbGVNYW5hZ2VyLkljb25zLnRyYXNofQ0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5MYW5ndWFnZS5kZWxldGV9DQogICAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tc2hvcnRjdXQ+RGVsZXRlPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0Pg0KICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0+DQoNCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0gZmlsZS1tYW5hZ2VyLS1jb21tYW5kPSJwcm9wZXJ0aWVzIj4gDQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMucHJvcGVydGllc30NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuTGFuZ3VhZ2UucHJvcGVydGllc30NCiAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtPg0KDQogICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbSBmaWxlLW1hbmFnZXItLWNvbW1hbmQ9ImNvbG9yIiBzdHlsZT0iYmFja2dyb3VuZDppbmhlcml0OyI+IA0KICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQgc3R5bGU9ImdhcDo0cHg7Ij4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojMDBGRjAwO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojMDBmZmRiO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojMzc3Y2Y1O3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojNjczYWI3O3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojZmY0ZWViO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojZjQ0MzM2O3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojZmZlYjNiO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDojOWU5ZTllO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXJhZGl1czoxMDAlO2N1cnNvcjpwb2ludGVyOyI+DQogICAgICAgICAgICA8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvcj4NCg0KICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dC1jb2xvciBzdHlsZT0iYmFja2dyb3VuZDp2YXIoLS13ZWItZWRpdGFibGUtbWFpbik7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtib3JkZXItcmFkaXVzOjEwMCU7Y3Vyc29yOnBvaW50ZXI7Ij4NCiAgICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0LWNvbG9yPg0KICAgICAgICAgICAgDQogICAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbT4NCg0KICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbSBmaWxlLW1hbmFnZXItLWNvbW1hbmQ9ImhpZGRlbiIgc3R5bGU9ImJvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLXdlYi1lZGl0YWJsZS1zZWNvbmQpIj4gDQogICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dD4NCiAgICAgICAgICAgICR7RmlsZU1hbmFnZXIuSWNvbnMuaGlkZGVufQ0KICAgICAgICAgICAgJHtGaWxlTWFuYWdlci5MYW5ndWFnZS5oaWRkZW59DQogICAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXRleHQ+DQogICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbT4NCiAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnU+DQogICAgYCkNCg0KDQogICAgLy8gRGV0ZWN0IGNvbW1hbmQgaXRlbXMNCiAgICBmb3IobGV0IGNvbW1hbmQgb2YgWyJzZWxlY3QiLCJkb3dubG9hZCIsImVkaXQiLCJuZXdGb2xkZXIiLCJuZXdGaWxlIiwicmVuYW1lIiwiemlwIiwidW56aXAiLCJjdXQiLCJjb3B5IiwicGFzdGUiLCJvdmVyd3JpdGUiLCJkZWxldGUiLCJjb2xvciIsInByb3BlcnRpZXMiLCJjb252ZXJ0Il0pew0KICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudVtjb21tYW5kXSA9IGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUucGFyZW50LnF1ZXJ5U2VsZWN0b3IoIltmaWxlLW1hbmFnZXItLWNvbW1hbmQ9JyIrY29tbWFuZCsiJ10iKQ0KICAgIH0NCg0KICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihlKXsNCiAgICAgIGxldCBidXR0b24gPSBQYXJlbnRzKGUudGFyZ2V0KS5maW5kKGU9PmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0id2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbSIpDQogICAgICBpZihidXR0b24pew0KICAgICAgICAvLyBJZiBidXR0b24gZGlzYWJsZWQgZG9udCBjbGljaw0KICAgICAgICBpZiggYnV0dG9uIC5jbGFzc0xpc3QuY29udGFpbnMoImRpc2FibGVkIikgKSByZXR1cm47DQogICAgICAgIC8vIEdldCBidXR0b24gY29tbWFuZA0KICAgICAgICBsZXQgY29tbWFuZCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoImZpbGUtbWFuYWdlci0tY29tbWFuZCIpOw0KICAgICAgICAvLyBDYWxsIENvbW1hbmQNCiAgICAgICAgYmFzZS5hY3Rpb25zW2NvbW1hbmRdKGUpOw0KICAgICAgICAvLyBIaWRlIENvbnRleHQgTWVudQ0KICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51LnBhcmVudC5zdHlsZS5kaXNwbGF5PSJub25lIg0KICAgICAgfQ0KICAgIH0pDQoNCg0KDQogICAgZnVuY3Rpb24gU2hvcnRjdXRzKGUpew0KICAgICAgaWYoZmlsZU1hbmFnZXIuZWxlbWVudHMuY29udGVudC5wYXJlbnQuY29udGFpbnMoZS50YXJnZXQpPT1mYWxzZSkgcmV0dXJuDQogICAgICBpZihtb2RhbC5kb20uc3R5bGUuZGlzcGxheT09Im5vbmUiKSByZXR1cm47DQogICAgICBpZiggUGFyZW50cyggZS50YXJnZXQgKS5maW5kKGU9PmUuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSkgICl7DQogICAgICAgIC8vIEN0cmwgRg0KICAgICAgICBpZihlLmN0cmxLZXkgJiYgZS5rZXk9PSJmIil7DQogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgaWYoYmFzZS5tb2RlPT0idmlldyIpew0KICAgICAgICANCiAgICAgICAgLy8gUkVOQU1FDQogICAgICAgIGlmKGUua2V5PT0iRjIiKXsNCiAgICAgICAgICBpZiggZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGg9PTEgKXsNCiAgICAgICAgICAgIGJhc2UuYWN0aW9ucy5yZW5hbWUoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICANCiAgICAgICAgLy8gREVMRVRFDQogICAgICAgIGlmKGUua2V5PT0iRGVsZXRlIil7DQogICAgICAgICAgaWYoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPjAgKXsNCiAgICAgICAgICAgIGJhc2UuYWN0aW9ucy5kZWxldGUoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICANCiAgICAgICAgLy8gQ29weQ0KICAgICAgICBpZihlLmtleT09ImMiICYmIGUuY3RybEtleSl7DQogICAgICAgICAgaWYoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPjAgKXsNCiAgICAgICAgICAgIGJhc2UuYWN0aW9ucy5jb3B5KCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgDQogICAgICAgIC8vIEN1dA0KICAgICAgICBpZihlLmtleT09IngiICYmIGUuY3RybEtleSl7DQogICAgICAgICAgaWYoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPjAgKXsNCiAgICAgICAgICAgIGJhc2UuYWN0aW9ucy5jdXQoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICANCiAgICAgICAgLy8gUGFzdGUNCiAgICAgICAgaWYoZS5rZXk9PSJ2IiAmJiBlLmN0cmxLZXkpew0KICAgICAgICAgIGlmKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aDwyICl7DQogICAgICAgICAgICBiYXNlLmFjdGlvbnMucGFzdGUoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICANCiAgICAgICAgLy8gT3ZlcndyaXRlDQogICAgICAgIGlmKGUua2V5PT0idiIgJiYgZS5jdHJsS2V5ICYmIGUuc2hpZnRLZXkpew0KICAgICAgICAgIGlmKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aDwyICl7DQogICAgICAgICAgICBiYXNlLmFjdGlvbnMub3ZlcndyaXRlKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgDQogICAgICAgIC8vIFNlbGVjdCBBbGwNCiAgICAgICAgaWYoZS5rZXk9PSJhIiAmJiBlLmN0cmxLZXkpew0KICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBBcnJheS5mcm9tKCBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuZmlsZXMucXVlcnlTZWxlY3RvckFsbCgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0iKSApDQogICAgICAgICAgVXBkYXRlU2VsZWN0ZWRGaWxlSXRlbXMoKQ0KICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgfQ0KICANCiAgICAgICAgLy8gRW50ZXINCiAgICAgICAgaWYoZS5rZXk9PSJFbnRlciIpew0KICAgICAgICAgIGlmKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MSAmJiBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdLmdldEF0dHJpYnV0ZSgidHlwZSIpPT0iZm9sZGVyIiApew0KICAgICAgICAgICAgRGlyKHBhdGgrIi8iK2ZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJuYW1lIikpDQogICAgICAgICAgfWVsc2UgaWYoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0xICYmIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJ0eXBlIik9PSJmaWxlIiApew0KICAgICAgICAgICAgU2VsZWN0KCk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQmFja3NwYWNlDQogICAgICAgIGlmKGUua2V5PT0iQmFja3NwYWNlIil7DQogICAgICAgICAgaWYoIHBhdGguc3BsaXQoIi8iKS5sZW5ndGg+MSApew0KICAgICAgICAgICAgRGlyKHBhdGguc3BsaXQoIi8iKS5zbGljZSgwLC0xKS5qb2luKCIvIiksW3BhdGguc3BsaXQoIi8iKS5wb3AoKV0pDQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCg0KICAgICAgICAvLyBMZWZ0DQogICAgICAgIGlmKGUua2V5PT0iQXJyb3dMZWZ0Iil7DQogICAgICAgICAgbGV0IGluZGV4Ow0KICAgICAgICAgIGlmKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPDIpew0KICAgICAgICAgICAgaWYoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0wICl7DQogICAgICAgICAgICAgIGluZGV4ID0gMDsNCiAgICAgICAgICAgIH1lbHNlIGlmKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MSApew0KICAgICAgICAgICAgICBpbmRleCA9IEluZGV4T2YoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0gKQ0KICAgICAgICAgICAgICBpbmRleC0tOw0KICAgICAgICAgICAgICBpZihpbmRleDwwKSBpbmRleD0wOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcyA9IFsgYmFzZS5lbGVtZW50cy5jb250ZW50LmZpbGVzLmNoaWxkcmVuW2luZGV4XSBdDQogICAgICAgICAgICBVcGRhdGVTZWxlY3RlZEZpbGVJdGVtcygpDQogICAgICAgICAgICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFJpZ2h0DQogICAgICAgIGlmKGUua2V5PT0iQXJyb3dSaWdodCIpew0KICAgICAgICAgIGxldCBpbmRleDsNCiAgICAgICAgICBpZihmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aDwyKXsNCiAgICAgICAgICAgIGlmKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MCApew0KICAgICAgICAgICAgICBpbmRleCA9IDA7DQogICAgICAgICAgICB9ZWxzZSBpZiggZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGg9PTEgKXsNCiAgICAgICAgICAgICAgaW5kZXggPSBJbmRleE9mKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdICkNCiAgICAgICAgICAgICAgaW5kZXgrKzsNCiAgICAgICAgICAgICAgaWYoaW5kZXg+PWJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbi5sZW5ndGgpIGluZGV4PWJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbi5sZW5ndGgtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBbIGJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbltpbmRleF0gXQ0KICAgICAgICAgICAgVXBkYXRlU2VsZWN0ZWRGaWxlSXRlbXMoKQ0KICAgICAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KDQogICAgICAgIGZ1bmN0aW9uIEdldENvbHVtbkNvdW50KCl7DQogICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoYmFzZS5lbGVtZW50cy5jb250ZW50LmZpbGVzLm9mZnNldFdpZHRoLyhiYXNlLmVsZW1lbnRzLmNvbnRlbnQuZmlsZXMuY2hpbGRyZW5bMF0ub2Zmc2V0V2lkdGgrMipiYXNlLmVsZW1lbnRzLmNvbnRlbnQuZmlsZXMuY2hpbGRyZW5bMF0ub2Zmc2V0TGVmdCkpDQogICAgICAgIH0NCg0KICAgICAgICAvLyBEb3duDQogICAgICAgIGlmKGUua2V5PT0iQXJyb3dEb3duIil7DQogICAgICAgICAgbGV0IGluZGV4Ow0KICAgICAgICAgIGlmKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPDIpew0KICAgICAgICAgICAgaWYoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0wICl7DQogICAgICAgICAgICAgIGluZGV4ID0gMDsNCiAgICAgICAgICAgIH1lbHNlIGlmKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MSApew0KICAgICAgICAgICAgICBpbmRleCA9IEluZGV4T2YoIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0gKQ0KICAgICAgICAgICAgICBpbmRleCs9R2V0Q29sdW1uQ291bnQoKTsNCiAgICAgICAgICAgICAgaWYoaW5kZXg+PWJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbi5sZW5ndGgpIGluZGV4PWJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbi5sZW5ndGgtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBbIGJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbltpbmRleF0gXQ0KICAgICAgICAgICAgVXBkYXRlU2VsZWN0ZWRGaWxlSXRlbXMoKQ0KICAgICAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KDQogICAgICAgIC8vIFVwDQogICAgICAgIGlmKGUua2V5PT0iQXJyb3dVcCIpew0KICAgICAgICAgIGxldCBpbmRleDsNCiAgICAgICAgICBpZihmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aDwyKXsNCiAgICAgICAgICAgIGlmKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MCApew0KICAgICAgICAgICAgICBpbmRleCA9IDA7DQogICAgICAgICAgICB9ZWxzZSBpZiggZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGg9PTEgKXsNCiAgICAgICAgICAgICAgaW5kZXggPSBJbmRleE9mKCBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdICkNCiAgICAgICAgICAgICAgaW5kZXgtPUdldENvbHVtbkNvdW50KCk7DQogICAgICAgICAgICAgIGlmKGluZGV4PDApaW5kZXg9MDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBbIGJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbltpbmRleF0gXQ0KICAgICAgICAgICAgVXBkYXRlU2VsZWN0ZWRGaWxlSXRlbXMoKQ0KICAgICAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCkNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyBGaW5kDQogICAgICAgIGlmKGUua2V5PT0iZiIgJiYgZS5jdHJsS2V5KXsNCiAgICAgICAgICBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnNlYXJjaEJ1dHRvbi5jbGljaygpOw0KICAgICAgICAgIC8vIGJhc2UuZWxlbWVudHMuaGVhZEJ1dHRvbnMuc2VhcmNoSW5wdXQuZm9jdXMoKTsNCiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQoNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsU2hvcnRjdXRzKQ0KICAgIC8vYmFzZS5lbGVtZW50cy5jb250ZW50LnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIixTaG9ydGN1dHMpDQoNCiAgICBmdW5jdGlvbiBTZWxlY3RhYmxlQ2hlY2soKXsNCiAgICAgIGxldCBsZW5ndGggPSBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aDsNCiAgICAgIGxldCBfc2VsZWN0ZWRJdGVtcyA9IEFycmF5LmZyb20oZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcykNCg0KICAgICAgaWYoY2FuU2VsZWN0PT1mYWxzZSkgcmV0dXJuIGZhbHNlOw0KDQogICAgICAvLyBDaGVjayBTZWxlY3QgU3RhdGUNCiAgICAgIGlmKCBjYW5TZWxlY3RGb2xkZXI9PWZhbHNlICl7DQogICAgICAgIF9zZWxlY3RlZEl0ZW1zID0gX3NlbGVjdGVkSXRlbXMuZmlsdGVyKGU9PiBlLmdldEF0dHJpYnV0ZSgidHlwZSIpIT0iZm9sZGVyIiApDQogICAgICB9DQoNCiAgICAgIGlmKCBjYW5TZWxlY3RGaWxlPT1mYWxzZSApew0KICAgICAgICBfc2VsZWN0ZWRJdGVtcyA9IF9zZWxlY3RlZEl0ZW1zLmZpbHRlcihlPT4gZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSE9ImZpbGUiICkNCiAgICAgIH0NCg0KICAgICAgDQogICAgICBpZihfc2VsZWN0ZWRJdGVtcy5sZW5ndGghPWxlbmd0aCkgcmV0dXJuIGZhbHNlOw0KDQogICAgICBpZihiYXNlLm9wdGlvbnMubXVsdGlwbGU9PWZhbHNlICYmIF9zZWxlY3RlZEl0ZW1zLmxlbmd0aD4xKSByZXR1cm4gZmFsc2U7DQogICAgICAvLyBJZiBzZWxlY3QgZm9sZGVyIHByb3BlcnRpZXMgZW5hYmxlZCwgcmVzcG9uc2UgaXMgdGhpcyBmb2xkZXIgcGF0aA0KICAgICAgaWYoIGNhblNlbGVjdEZvbGRlciAmJiBfc2VsZWN0ZWRJdGVtcy5sZW5ndGg9PTAgKSByZXR1cm4gWyAoIi8iICsgcGF0aCArICIvIikuc3BsaXQoL1wvKy8pLmpvaW4oIi8iKV0NCiAgICAgIA0KICAgICAgaWYoIF9zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MCApIHJldHVybiBmYWxzZTsNCg0KICAgICAgcmV0dXJuIF9zZWxlY3RlZEl0ZW1zLm1hcChlPT57DQogICAgICAgIGlmKGUuZ2V0QXR0cmlidXRlKCJ0eXBlIik9PSJmaWxlIikNCiAgICAgICAgICByZXR1cm4gKCIvIiArIGUuZ2V0QXR0cmlidXRlKCJwYXRoIikpLnNwbGl0KC9cLysvKS5qb2luKCIvIikNCiAgICAgICAgZWxzZSANCiAgICAgICAgICByZXR1cm4gKCIvIiArIGUuZ2V0QXR0cmlidXRlKCJwYXRoIikgKyAiLyIgKS5zcGxpdCgvXC8rLykuam9pbigiLyIpIA0KICAgICAgfSkNCg0KICAgIH0NCg0KICAgIA0KICAgIGZ1bmN0aW9uIFNlbGVjdCgpew0KICAgICAgaWYoY2FuRWRpdD09dHJ1ZSl7DQogICAgICAgIGlmKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0xKXsgDQogICAgICAgICAgYmFzZS5hY3Rpb25zLmVkaXQoKQ0KICAgICAgICB9DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGlmKGNhblNlbGVjdD09ZmFsc2Upew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBsZXQgc2VsZWN0YWJsZSA9IFNlbGVjdGFibGVDaGVjaygpOw0KICAgICAgaWYoIHNlbGVjdGFibGUgKXsNCiAgICAgICAgRXhpdChzZWxlY3RhYmxlKQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEV4aXQocm9vdFBhdGhzKXsNCiAgICAgIHRoZW5zLmZvckVhY2goZT0+ZSggcm9vdFBhdGhzICkpDQogICAgICBiYXNlLm1vZGFsLmNsb3NlKCk7DQogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsU2hvcnRjdXRzKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFVwZGF0ZVZpc2libGVGaWxlSXRlbXMoKXsNCiAgICAgIGxldCBzZWFyY2ggPSBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnNlYXJjaElucHV0LmlubmVyVGV4dDsNCiAgICAgIGxldCBpdGVtcyA9IEFycmF5LmZyb20oIGJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5xdWVyeVNlbGVjdG9yQWxsKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbSIpICkNCiAgICAgIGl0ZW1zLmZvckVhY2goZT0+ew0KICAgICAgICBpZihzZWFyY2g9PSIiKXsNCiAgICAgICAgICBlLnN0eWxlLmRpc3BsYXkgPSBudWxsOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICBpZihlLmdldEF0dHJpYnV0ZSgibmFtZSIpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoLnRvTG93ZXJDYXNlKCkpKXsNCiAgICAgICAgICAgIGUuc3R5bGUuZGlzcGxheSA9IG51bGw7DQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcyA9IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMuZmlsdGVyKGU9PmUuc3R5bGUuZGlzcGxheSE9Im5vbmUiKQ0KICAgIH0NCg0KDQogICAgZnVuY3Rpb24gVXBkYXRlU2VsZWN0ZWRGaWxlSXRlbXMoKXsNCiAgICAgIC8vIERlc2VsZWN0IEFsbCBJdGVtDQogICAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuZmlsZXMucXVlcnlTZWxlY3RvckFsbCgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0iKS5mb3JFYWNoKGU9PmUuY2xhc3NMaXN0LnJlbW92ZSgic2VsZWN0ZWQiKSkNCiAgICAgIC8vIElmIG1vZGUgaXMgcmVuYW1lIGV4aXQNCiAgICAgIGlmKGJhc2UubW9kZT09InJlbmFtZSIpIHJldHVybjsNCiAgICAgIC8vIEdldCBVbmlxdWUgQXJyYXkNCiAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBEaXN0aW5jdCggZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5maWx0ZXIoZT0+ZSE9bnVsbCkgKQ0KICAgICAgLy8gQWRkIGFsbCBzZWxlY3RlZCBpdGVtIC5zZWxlY3RlZCBjbGFzcw0KICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKGU9PnsgZS5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpIH0pDQogICAgICANCiAgICAgIFVwZGF0ZUNvbnRleHRNZW51SXRlbXMoKTsNCiAgICAgIC8vIFVwZGF0ZSBTZWxlY3RhYmxlIEJ1dHRvbg0KICAgICAgaWYoYmFzZS5lbGVtZW50cy5mb290ZXIuc2VsZWN0QnV0dG9uKSBiYXNlLmVsZW1lbnRzLmZvb3Rlci5zZWxlY3RCdXR0b24uY2xhc3NOYW1lPVNlbGVjdGFibGVDaGVjaygpPyIiOiJkaXNhYmxlZCINCiAgICAgIC8vIFVwZGF0ZSBTYXZlIEZpbGUgTmFtZQ0KICAgICAgaWYob3B0aW9ucy50eXBlPT0ic2F2ZSIgJiYgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGg9PTEpIGJhc2UuZWxlbWVudHMuZm9vdGVyLmZpbGVOYW1lLmlubmVyVGV4dCA9IGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJuYW1lIikNCiAgICB9DQoNCiAgICAvKiogU2VsZWN0IEZpbGUgSXRlbSAgKi8NCiAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuZmlsZXMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGUpew0KICAgICAgLy8gRmluZCBJdGVtDQogICAgICBsZXQgaXRlbSA9IFBhcmVudHMoZS50YXJnZXQpLmZpbmQoZT0+ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbSIpDQogICAgICBpZiggaXRlbSApeyANCiAgICAgICAgaWYoZS5zaGlmdEtleSAmJiBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD4wKXsgLy8gU2VsZWN0IE11bHRpcGxlIHdpdGggU2hpZnQNCiAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IEluZGV4T2YoZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXSkNCiAgICAgICAgICBsZXQgY3VyckluZGV4ID0gSW5kZXhPZihpdGVtKQ0KICAgICAgICAgIGxldCBzdGFydCA9IE1hdGgubWluKHN0YXJ0SW5kZXgsY3VyckluZGV4KQ0KICAgICAgICAgIGxldCBlbmQgPSBNYXRoLm1heChzdGFydEluZGV4LGN1cnJJbmRleCkNCiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IHN0YXJ0OyBpbmRleCA8PSBlbmQ7IGluZGV4KyspIHsNCiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuZmlsZXMuY2hpbGRyZW5baW5kZXhdOw0KICAgICAgICAgICAgaWYoZWxlbWVudCl7DQogICAgICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMucHVzaChlbGVtZW50KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zID0gRGlzdGluY3QoZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcykNCiAgICAgICAgfWVsc2UgaWYoZS5jdHJsS2V5KXsgLy8gU2VsZWN0IE11bHRpcGxlIHdpdGggQ3RybA0KICAgICAgICAgIGlmKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMuaW5kZXhPZihpdGVtKT09LTEpew0KICAgICAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5wdXNoKGl0ZW0pDQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLnNwbGljZShmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmluZGV4T2YoaXRlbSksMSkNCiAgICAgICAgICB9DQogICAgICAgIH1lbHNleyAvLyBTZWxlY3QgU2luZ2xlDQogICAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcyA9IFtpdGVtXQ0KICAgICAgICB9DQogICAgICB9ZWxzZXsgLy8gRG9udCBTZWxlY3QgQW55IEl0ZW0NCiAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcyA9IFtdDQogICAgICB9DQogICAgICBVcGRhdGVTZWxlY3RlZEZpbGVJdGVtcygpDQogICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51LnBhcmVudC5zdHlsZS5kaXNwbGF5PSJub25lIg0KICAgIH0pDQoNCiAgICAvLy0tLSAgICAgICAgICAgICAgICAgICAgVXBkYXRlIENvbnRleHQgTWVudSBJdGVtcyAgICAgICAgICAgICAgICAtLS0tLy8NCiAgICAvKiogVXBkYXRlIENvbnRleHQgTWVudSBpdGVtcyBlbmFibGUgJiBkaXNhYmxlIHN0YXRlICovDQogICAgZnVuY3Rpb24gVXBkYXRlQ29udGV4dE1lbnVJdGVtcygpew0KICAgICAgLyoNCiAgICAgIC8vIFRPRE86IFJFTU9WRQ0KICAgICAgLy8gc2VsZWN0DQogICAgICBpZih0eXBlPT0iZm9sZGVyIiAmJiBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD4wKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5zZWxlY3QuY2xhc3NOYW1lPSIiICANCiAgICAgIH0NCiAgICAgIGlmKHR5cGUhPSJmb2xkZXIiICYmIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0wKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5zZWxlY3QuY2xhc3NOYW1lPSJkaXNhYmxlZCINCiAgICAgIH0NCiAgICAgIGlmKHR5cGU9PSJmb2xkZXIiICYmIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0xKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5zZWxlY3QuY2xhc3NOYW1lPSIiICANCiAgICAgIH0NCiAgICAgIGlmKHR5cGUhPSJmb2xkZXIiICYmIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0wKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5zZWxlY3QuY2xhc3NOYW1lPSJkaXNhYmxlZCINCiAgICAgIH0NCiAgICAgICovDQoNCiAgICAgIC8vIGVkaXQNCiAgICAgIGlmKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0xICYmIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJ0eXBlIik9PSJmaWxlIil7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUuZWRpdC5jbGFzc05hbWU9IiINCiAgICAgIH1lbHNlew0KICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51LmVkaXQuY2xhc3NOYW1lPSJkaXNhYmxlZCINCiAgICAgIH0NCg0KICAgICAgLy8gbmV3Rm9sZGVyDQogICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51Lm5ld0ZvbGRlci5jbGFzc05hbWUgPSBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDAgPyAiZGlzYWJsZWQiIDogIiI7DQogICAgICAvLyBuZXdGaWxlDQogICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51Lm5ld0ZpbGUuY2xhc3NOYW1lID0gZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAwID8gImRpc2FibGVkIiA6ICIiOw0KICAgICAgLy8gY29udmVydA0KICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5jb252ZXJ0LmNsYXNzTmFtZSA9IChmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MSAmJiBbIi5wbmciLCIuanBnIiwiLmpwZWciLCIuZ2lmIiwiLmJtcCIsIi53ZWJwIl0uc29tZShlPT5maWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zWzBdLmdldEF0dHJpYnV0ZSgibmFtZSIpLmVuZHNXaXRoKGUpICkgKSAgPyAiIiA6ICJkaXNhYmxlZCI7DQoNCiAgICAgICANCg0KDQogICAgICAvLyB6aXAgJiB1bnppcA0KICAgICAgaWYoZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGg+MCl7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUuemlwLmNsYXNzTmFtZT0iIg0KICAgICAgfWVsc2V7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUuemlwLmNsYXNzTmFtZT0iZGlzYWJsZWQiDQogICAgICB9DQoNCiAgICAgIGlmKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0xICYmIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJ0eXBlIik9PSJmaWxlIiAmJiANCiAgICAgICAgWyJ6aXAiLCJ0YXIiLCJneiJdLnNvbWUoIGU9PmZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJuYW1lIikuZW5kc1dpdGgoIi4iK2UpICkNCiAgICAgICl7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUudW56aXAuY2xhc3NOYW1lPSIiDQogICAgICB9ZWxzZXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS51bnppcC5jbGFzc05hbWU9ImRpc2FibGVkIg0KICAgICAgfQ0KDQogICAgICAvLyBwYXN0ZSAmIG92ZXJ3cml0ZQ0KICAgICAgaWYobGFzdENvbW1hbmQhPW51bGwgJiYgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0xICYmIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXNbMF0uZ2V0QXR0cmlidXRlKCJ0eXBlIik9PSJmb2xkZXIiICApew0KICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51LnBhc3RlLmNsYXNzTmFtZT0iIg0KICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51Lm92ZXJ3cml0ZS5jbGFzc05hbWU9IiINCiAgICAgIH1lbHNlIGlmKGxhc3RDb21tYW5kIT1udWxsICYmICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MCl7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUucGFzdGUuY2xhc3NOYW1lPSIiDQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUub3ZlcndyaXRlLmNsYXNzTmFtZT0iIg0KICAgICAgfWVsc2V7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUucGFzdGUuY2xhc3NOYW1lPSJkaXNhYmxlZCINCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5vdmVyd3JpdGUuY2xhc3NOYW1lPSJkaXNhYmxlZCINCiAgICAgIH0NCg0KICAgICAgLy8gcmVuYW1lDQogICAgICBpZihmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MSl7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUucmVuYW1lLmNsYXNzTmFtZT0iIg0KICAgICAgfWVsc2V7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUucmVuYW1lLmNsYXNzTmFtZT0iZGlzYWJsZWQiDQogICAgICB9DQoNCiAgICAgIC8vIGRvd25sb2FkDQogICAgICBpZihmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zLmxlbmd0aD09MSAmJiAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5nZXRBdHRyaWJ1dGUoInR5cGUiKT09ImZpbGUiICApew0KICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51LmRvd25sb2FkLmNsYXNzTmFtZT0iIg0KICAgICAgfWVsc2V7DQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUuZG93bmxvYWQuY2xhc3NOYW1lPSJkaXNhYmxlZCINCiAgICAgIH0NCiAgICAgIA0KICAgICAgLy8gY29sb3INCiAgICAgIGlmKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMubGVuZ3RoPT0xKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5jb2xvci5jbGFzc05hbWU9IiINCiAgICAgIH1lbHNlew0KICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51LmNvbG9yLmNsYXNzTmFtZT0iZGlzYWJsZWQiDQogICAgICB9DQoNCiAgICAgIC8vIGN1dCwgY29weSwgZGVsZXRlDQogICAgICBpZiggZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcy5sZW5ndGg9PTAgKXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5jdXQuY2xhc3NOYW1lPSJkaXNhYmxlZCINCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5jb3B5LmNsYXNzTmFtZT0iZGlzYWJsZWQiDQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUuZGVsZXRlLmNsYXNzTmFtZT0iZGlzYWJsZWQiDQogICAgICB9ZWxzZXsNCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5jdXQuY2xhc3NOYW1lPSIiDQogICAgICAgIGJhc2UuZWxlbWVudHMuY29udGV4dE1lbnUuY29weS5jbGFzc05hbWU9IiINCiAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5kZWxldGUuY2xhc3NOYW1lPSIiDQogICAgICB9DQogICAgfQ0KDQogICAgLyoqIENvbnRleHQgTWVudSAgKi8NCiAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuZmlsZXMuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLCBmdW5jdGlvbiAoZSkgew0KDQogICAgICBsZXQgaXRlbSA9IFBhcmVudHMoZS50YXJnZXQpLmZpbmQoZSA9PiBlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0iKQ0KICAgICAgaWYgKGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMuaW5kZXhPZihpdGVtKSA9PSAtMSkgew0KICAgICAgICBmaWxlTWFuYWdlci5zZWxlY3RlZEl0ZW1zID0gW2l0ZW1dDQogICAgICAgIFVwZGF0ZVNlbGVjdGVkRmlsZUl0ZW1zKCkNCiAgICAgIH0NCiAgICAgIFVwZGF0ZUNvbnRleHRNZW51SXRlbXMoKTsNCiAgICAgIC8vIFVwZGF0ZSBDb250ZXh0IE1lbnUgUG9zaXRpb24gJiBWaXNpYmlsaXR5DQogICAgICBsZXQgY29udGV4dE1lbnUgPSBiYXNlLmVsZW1lbnRzLmNvbnRleHRNZW51LnBhcmVudA0KICAgICAgY29udGV4dE1lbnUuc3R5bGUuZGlzcGxheSA9IG51bGwNCiAgICAgIGlmIChlLmNsaWVudFggKyBjb250ZXh0TWVudS5vZmZzZXRXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoKSB7DQogICAgICAgIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBlLmNsaWVudFggLSBjb250ZXh0TWVudS5vZmZzZXRXaWR0aCArICJweCINCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBlLmNsaWVudFggKyAicHgiDQogICAgICB9DQogICAgICBpZiAoZS5jbGllbnRZICsgY29udGV4dE1lbnUub2Zmc2V0SGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7DQogICAgICAgIGNvbnRleHRNZW51LnN0eWxlLnRvcCA9IGUuY2xpZW50WSAtIGNvbnRleHRNZW51Lm9mZnNldEhlaWdodCArICJweCINCiAgICAgICAgY29udGV4dE1lbnUuc3R5bGUudG9wID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIGNvbnRleHRNZW51Lm9mZnNldEhlaWdodCAtIDEwICkgICsgInB4Ig0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29udGV4dE1lbnUuc3R5bGUudG9wID0gZS5jbGllbnRZICsgInB4Ig0KICAgICAgfQ0KDQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgfSkNCg0KICAgIC8qKiBPbiBEYmwgQ2xpY2sgRW50ZXIgdGhlIEZvbGRlciAqLw0KICAgIGJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5hZGRFdmVudExpc3RlbmVyKCJkYmxjbGljayIsZnVuY3Rpb24oZSl7DQogICAgICBsZXQgZm9sZGVyID0gUGFyZW50cyhlLnRhcmdldCkuZmluZChlPT5lLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09IndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtIiAmJiBlLmdldEF0dHJpYnV0ZSgidHlwZSIpPT0iZm9sZGVyIiApDQogICAgICBpZiggZm9sZGVyICl7DQogICAgICAgIERpcihwYXRoKyIvIitmb2xkZXIuZ2V0QXR0cmlidXRlKCJuYW1lIikpDQogICAgICB9DQogICAgICBsZXQgaXRlbSA9IFBhcmVudHMoZS50YXJnZXQpLmZpbmQoZT0+ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbSIgJiYgZS5nZXRBdHRyaWJ1dGUoInR5cGUiKT09ImZpbGUiICkNCiAgICAgIGlmKCBpdGVtICl7DQogICAgICAgIFNlbGVjdCgpOw0KICAgICAgfQ0KICAgIH0pDQogICAgDQogICAgLyoqIEFkZHJlc3MgQmFyIENsaWNrICovDQogICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmFkZHJlc3NCYXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGUpew0KICAgICAgYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5wYXJlbnQuc3R5bGUuZGlzcGxheT0ibm9uZSINCiAgICAgIGxldCBpdGVtID0gUGFyZW50cyhlLnRhcmdldCkuZmluZChlPT5lLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09IndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhci1pdGVtIikNCiAgICAgIGlmKGl0ZW0pew0KICAgICAgICBEaXIoaXRlbS5nZXRBdHRyaWJ1dGUoInBhdGgiKSkNCiAgICAgIH0NCiAgICB9KQ0KDQogICAgbGV0IF9rZXlEb3duSW5kZXggPSAtMTsNCiAgICBsZXQgX2tleURvd25Db2RlID0gIiI7DQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbiAoZSkgew0KICAgICAgaWYoIWJhc2UuZWxlbWVudHMuY29udGVudC5wYXJlbnQuaXNDb25uZWN0ZWQpIHJldHVybjsNCiAgICAgIGlmKGUudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgiY29udGVudGVkaXRhYmxlIikpIHJldHVybjsNCiAgICAgIGxldCBrZXkgPSBlLmtleTsNCiAgICAgIGlmKGtleS5sZW5ndGghPTEpIHJldHVybjsNCiAgICAgIGlmKGUuYWx0S2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5IHx8IGUuY3RybEtleSkgcmV0dXJuOw0KICAgICAgaWYoZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iaW5wdXQiIHx8IGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRleHRhcmVhIiApIHJldHVybjsNCiAgICAgIGlmKGtleSE9X2tleURvd25Db2RlKSBfa2V5RG93bkluZGV4PS0xOw0KICAgICAgX2tleURvd25Db2RlID0ga2V5Ow0KICAgICAgX2tleURvd25JbmRleCsrOw0KICAgICAgDQogICAgICBsZXQgZm91bmRlZCA9IEFycmF5LmZyb20oZmlsZU1hbmFnZXIuZWxlbWVudHMuY29udGVudC5maWxlcy5jaGlsZHJlbikuZmlsdGVyKChlbCk9PnsNCiAgICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLW5hbWUiKS50ZXh0Q29udGVudFswXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IGtleS50b0xvY2FsZUxvd2VyQ2FzZSgpDQogICAgICB9KQ0KDQogICAgICAvLy0gZm9yIHJlcGVhdCBzZWFyY2hpbmcNCiAgICAgIGlmKGZvdW5kZWQubGVuZ3RoPT1fa2V5RG93bkluZGV4KSBfa2V5RG93bkluZGV4ID0gMDsNCiAgICAgIA0KICAgICAgaWYoZm91bmRlZC5sZW5ndGg+MCAmJiBmb3VuZGVkW19rZXlEb3duSW5kZXhdIT1udWxsKXsNCiAgICAgICAgbGV0IGVsID0gZm91bmRlZFtfa2V5RG93bkluZGV4XTsNCiAgICAgICAgQXJyYXkuZnJvbShiYXNlLmVsZW1lbnRzLmNvbnRlbnQucGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtIikpLm1hcChlPT5lLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIikpOw0KICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpDQogICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMgPSBbZWxdDQogICAgICAgIFVwZGF0ZVNlbGVjdGVkRmlsZUl0ZW1zKCkNCiAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtc1swXS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCkNCiAgICAgIH0NCiAgICB9KQ0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oZSl7DQogICAgICBpZighYmFzZS5lbGVtZW50cy5jb250ZW50LnBhcmVudC5pc0Nvbm5lY3RlZCkgcmV0dXJuOw0KICAgICAgIF9rZXlEb3duSW5kZXg9LTE7DQogICAgfSkNCiAgICANCg0KICAgIGZ1bmN0aW9uIERpcihfcGF0aCxzZWxlY3RlZD1bXSl7DQogICAgICBfa2V5RG93bkluZGV4PS0xOw0KICAgICAgYmFzZS5tb2RlID0gInZpZXciDQogICAgICBmaWxlTWFuYWdlci5lbGVtZW50cy5jb250ZW50LmZpbGVzLmZvY3VzKCkNCiAgICAgIFBvc3Qoew0KICAgICAgICBhY3Rpb246ImNvbW1hbmQiLA0KICAgICAgICBjb21tYW5kOiJkaXIiLA0KICAgICAgICBwYXJhbWV0ZXJzOiBbX3BhdGhdDQogICAgICB9KS50aGVuKHJlcz0+ew0KICAgICAgICBpZihyZXMuc3RhdHVzPT0ic3VjY2VzcyIpew0KICAgICAgICAgIA0KICAgICAgICAgIGlmKHJlcy5kYXRhLmxpc3QuZm9sZGVycy5sZW5ndGg9PTAgJiYgcmVzLmRhdGEubGlzdC5maWxlcy5sZW5ndGg9PTApew0KICAgICAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmZpbGVzLmlubmVySFRNTD0iPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1lbXB0eT4iK0ZpbGVNYW5hZ2VyLkxhbmd1YWdlLmZvbGRlckVtcHR5KyI8L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1lbXB0eT4iDQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAvLyBTb3J0IGZvbGRlcnMgd2l0aCBuYW1lDQogICAgICAgICAgICByZXMuZGF0YS5saXN0LmZvbGRlcnMuc29ydCgoYSxiKT0+ew0KICAgICAgICAgICAgICBpZihhLm5hbWU8Yi5uYW1lKSByZXR1cm4gLTE7DQogICAgICAgICAgICAgIGlmKGEubmFtZT5iLm5hbWUpIHJldHVybiAxOw0KICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICByZXMuZGF0YS5saXN0LmZpbGVzLnNvcnQoKGEsYik9PnsNCiAgICAgICAgICAgICAgaWYoYS5uYW1lPGIubmFtZSkgcmV0dXJuIC0xOw0KICAgICAgICAgICAgICBpZihhLm5hbWU+Yi5uYW1lKSByZXR1cm4gMTsNCiAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLy8gSGlkZSBGaWxlcyAuZG90IGZpbGVzDQogICAgICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgid2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXNob3ctaGlkZGVuLWZpbGVzIik9PSIxIil7DQogICAgICAgICAgICAgIHJlcy5kYXRhLmxpc3QuZm9sZGVycyA9IHJlcy5kYXRhLmxpc3QuZm9sZGVycy5maWx0ZXIoZT0+ZS5uYW1lPT0iLnRyYXNoIiB8fCAhZS5uYW1lLnN0YXJ0c1dpdGgoIi4iKSkNCiAgICAgICAgICAgICAgcmVzLmRhdGEubGlzdC5maWxlcyA9IHJlcy5kYXRhLmxpc3QuZmlsZXMuZmlsdGVyKGU9PiFlLm5hbWUuc3RhcnRzV2l0aCgiLiIpKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBsZXQgZm9sZGVycyA9IHJlcy5kYXRhLmxpc3QuZm9sZGVycy5tYXAoZT0+ew0KICAgICAgICAgICAgICBpZihvcHRpb25zLmhpZGVUaHVtYm5haWxGb2xkZXIgJiYgZS5uYW1lPT0iLnRodW1ibmFpbCIgKSByZXR1cm4gIiI7DQogICAgICAgICAgICAgIGxldCBfcGF0aF8gPSAocmVzLmRhdGEucGF0aCsiLyIrZS5uYW1lKS5zcGxpdCgvXC8rLykuam9pbigiLyIpDQogICAgICAgICAgICAgIGxldCBjb2xvciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmaWxlLW1hbmFnZXItY29sb3IiK19wYXRoXyk7DQoNCiAgICAgICAgICAgICAgbGV0IGxvY2FsZVRpbWUgPSAobmV3IERhdGUoZS50aW1lKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyAobmV3IERhdGUoZS50aW1lKSkudG9Mb2NhbGVUaW1lU3RyaW5nKCkNCiAgICAgICAgICAgICAgcmV0dXJuIGA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gdHlwZT0iZm9sZGVyIiBmb2xkZXI9IiR7cmVzLmRhdGEucGF0aH0iIHBhdGg9IiR7X3BhdGhffSIgaW5vZGU9IiR7ZS5pbm9kZX0iIHRpdGxlPSIke2UubmFtZX0iIG5hbWU9IiR7ZS5uYW1lfSIgJHtjb2xvcj8nc3R5bGU9ImNvbG9yOicrY29sb3IrJyInIDogIiJ9Pg0KICAgICAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbiAke2NvbG9yPydzdHlsZT0iY29sb3I6Jytjb2xvcisnIicgOiAiIn0+JHtfcGF0aF89PSIvLnRyYXNoIiA/IEZpbGVNYW5hZ2VyLkljb25zLnRyYXNoIDogRmlsZU1hbmFnZXIuSWNvbnMuZm9sZGVySWNvbn08L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWljb24+DQogICAgICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1uYW1lPiR7ZS5uYW1lfTwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tbmFtZT4NCiAgICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLXNpemU+JHsgZS5zaXplIT0iIiA/IEZpbGVTaXplKGUuc2l6ZSkgOiAiIiB9PC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1zaXplPg0KICAgICAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tZGF0ZT4ke2xvY2FsZVRpbWV9PC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1kYXRlPg0KICAgICAgICAgICAgPC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbT5gfSkuam9pbigiIikNCiAgDQogICAgICAgICAgICBsZXQgZmlsZXMgPSByZXMuZGF0YS5saXN0LmZpbGVzLm1hcChlPT57DQogICAgICAgICAgICAgIC8vIEZpbHRlcg0KICAgICAgICAgICAgICBpZihiYXNlLm9wdGlvbnMuYWNjZXB0PT0iIiB8fCBiYXNlLm9wdGlvbnMuYWNjZXB0PT1udWxsKSByZXR1cm4gIiI7DQogICAgICAgICAgICAgIGlmKGJhc2Uub3B0aW9ucy5hY2NlcHQhPSIqIil7DQogICAgICAgICAgICAgICAgbGV0IHJlZ2V4cFRleHQgPSAiKCIrYmFzZS5vcHRpb25zLmFjY2VwdC5zcGxpdCgiLCIpLm1hcChlPT5lLnRyaW0oKSkuZmlsdGVyKGU9PmUhPSIiKS5tYXAoZT0+Ii4qIitlKS5qb2luKCIsIikucmVwbGFjZUFsbCgiLiIsIlxcLiIpLnJlcGxhY2VBbGwoIiwiLCJ8IikrIikkIg0KICAgICAgICAgICAgICAgIGxldCByZWdFeHAgPSBuZXcgUmVnRXhwKHJlZ2V4cFRleHQpDQogICAgICAgICAgICAgICAgaWYoIGUubmFtZS5tYXRjaCggcmVnRXhwICkgPT0gbnVsbCkgcmV0dXJuICIiOw0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgbGV0IGxvY2FsZVRpbWUgPSAobmV3IERhdGUoZS50aW1lKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyAobmV3IERhdGUoZS50aW1lKSkudG9Mb2NhbGVUaW1lU3RyaW5nKCkNCiAgICAgICAgICAgICAgbGV0IGljb24gPSBGaWxlTWFuYWdlci5JY29ucy5jdXN0b21GaWxlSWNvbihlLm5hbWUpOw0KDQogICAgICAgICAgICAgIGxldCBfcGF0aF8gPSAocmVzLmRhdGEucGF0aCsiLyIrZS5uYW1lKS5zcGxpdCgvXC8rLykuam9pbigiLyIpDQogICAgICAgICAgICAgIGxldCBjb2xvciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmaWxlLW1hbmFnZXItY29sb3IiK19wYXRoXyk7DQogICAgICAgICAgICAgIA0KDQogICAgICAgICAgICAgIGlmKGUudGh1bWJuYWlsKXsNCiAgICAgICAgICAgICAgICBsZXQgaW1hZ2VQYXRoID0gYmFzZS5iYWNrRW5kUm9vdCArICI/YWN0aW9uPWNvbW1hbmQmY29tbWFuZD1pbWFnZSZwYXJhbWV0ZXJzPSIrRW5jb2RlKCAoX3BhdGgrIi8iK2UudGh1bWJuYWlsKS5zcGxpdCgvXC8rLykuam9pbigiLyIpICkNCiAgICAgICAgICAgICAgICBpY29uID0gYDxpbWcgc3JjPSckeyBpbWFnZVBhdGggfScgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBzdHlsZT0id2lkdGg6MWVtO2hlaWdodDoxZW07Ii8+YDsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBpZihlLm5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgiLnN2ZyIpKXsNCiAgICAgICAgICAgICAgICBsZXQgaW1hZ2VQYXRoID0gYmFzZS5iYWNrRW5kUm9vdCArICI/YWN0aW9uPWNvbW1hbmQmY29tbWFuZD1pbWFnZSZwYXJhbWV0ZXJzPSIrRW5jb2RlKCAoX3BhdGgrIi8iK2UubmFtZSkuc3BsaXQoL1wvKy8pLmpvaW4oIi8iKSApDQogICAgICAgICAgICAgICAgaWNvbiA9IGA8aW1nIHNyYz0nJHsgaW1hZ2VQYXRoIH0nIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgc3R5bGU9IndpZHRoOjFlbTtoZWlnaHQ6MWVtOyIvPmA7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgcmV0dXJuIGA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gdHlwZT0iZmlsZSIgZm9sZGVyPSIke3Jlcy5kYXRhLnBhdGh9IiBwYXRoPSIke19wYXRoX30iIGlub2RlPSIke2UuaW5vZGV9IiB0aXRsZT0iJHtlLm5hbWV9IiBuYW1lPSIke2UubmFtZX0iICR7Y29sb3I/J3N0eWxlPSJjb2xvcjonK2NvbG9yKyciJyA6ICIifT4NCiAgICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWljb24gc3R5bGU9J2NvbG9yOiB2YXIoLS13ZWItZWRpdGFibGUtbWFpbik7Jz4ke2ljb259PC93ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1pY29uPg0KICAgICAgICAgICAgICA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tbmFtZT4ke2UubmFtZX08L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLW5hbWU+DQogICAgICAgICAgICAgIDx3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1zaXplPiR7IEZpbGVTaXplKGUuc2l6ZSkgfTwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tc2l6ZT4NCiAgICAgICAgICAgICAgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWRhdGU+JHtsb2NhbGVUaW1lfTwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tZGF0ZT4NCiAgICAgICAgICAgIDwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0+YCB9KS5qb2luKCIiKQ0KICANCiAgICAgICAgICAgIGJhc2UuZWxlbWVudHMuY29udGVudC5maWxlcy5pbm5lckhUTUwgPSBmb2xkZXJzK2ZpbGVzOw0KICAgICAgICAgIH0NCiAgICAgICAgICANCg0KICAgICAgICAgIHBhdGggPSBfcGF0aC5zcGxpdCgvXC8rLykuam9pbigiLyIpOw0KICAgICAgICAgIGJhc2UuZW1pdCgiZGlyIixwYXRoKQ0KICAgICAgICAgIGlub2RlID0gcmVzLmRhdGEuaW5vZGU7DQogICAgICAgICAgDQogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1sYXN0LXBhdGgiLHBhdGgpDQoNCiAgICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuYWRkcmVzc0Jhci5pbm5lckhUTUwgPSBgPHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhci1pdGVtIHBhdGg9Ii8iPiR7RmlsZU1hbmFnZXIuSWNvbnMuaG9tZX08L3dlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhci1pdGVtPmANCiAgICAgICAgICBiYXNlLmVsZW1lbnRzLmNvbnRlbnQuYWRkcmVzc0Jhci5pbm5lckhUTUwgKz0gX3BhdGguc3BsaXQoIi8iKS5maWx0ZXIoZT0+ZS50cmltKCkhPSIiKS5tYXAoKGUsaSxhKT0+ew0KICAgICAgICAgICAgcmV0dXJuIGA8d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWFkZHJlc3MtYmFyLWl0ZW0gcGF0aD0iLyR7YS5zbGljZSgwLGkrMSkuam9pbigiLyIpfSI+JHtlfTwvd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWFkZHJlc3MtYmFyLWl0ZW0+YA0KICAgICAgICAgIH0pLmpvaW4oIiIpOw0KDQogICAgICAgICAgZmlsZU1hbmFnZXIuc2VsZWN0ZWRJdGVtcyA9IFtdDQogICAgICAgICAgYmFzZS5lbGVtZW50cy5jb250ZW50LmZpbGVzLnF1ZXJ5U2VsZWN0b3JBbGwoIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtIikuZm9yRWFjaChlPT57DQogICAgICAgICAgICBpZihzZWxlY3RlZC5pbmRleE9mKGUuZ2V0QXR0cmlidXRlKCJuYW1lIikpIT0tMSl7DQogICAgICAgICAgICAgIGZpbGVNYW5hZ2VyLnNlbGVjdGVkSXRlbXMucHVzaChlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgVXBkYXRlU2VsZWN0ZWRGaWxlSXRlbXMoKTsNCiAgICAgICAgICBVcGRhdGVWaXNpYmxlRmlsZUl0ZW1zKCk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIGlmKF9wYXRoIT0iLyIpew0KICAgICAgICAgICAgRGlyKCIvIikNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0NCg0KICAgIGJhc2UuZGlyID0gRGlyOw0KDQogICAgLy9EaXIoIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tbGFzdC1wYXRoIikgfHwgIi8iKQ0KICAgIERpciggb3B0aW9ucy5wYXRoICkNCg0KDQogICAgbW9kYWwgPSBGaWxlTWFuYWdlci5Nb2RhbFZpZXcoew0KICAgICAgaWQ6b3B0aW9ucy5pZCwNCiAgICAgIGljb246IEZpbGVNYW5hZ2VyLkljb25zLmZvbGRlciwNCiAgICAgIHRpdGxlOiBiYXNlLm9wdGlvbnMudGl0bGUsDQogICAgICBtZW51OiBiYXNlLmVsZW1lbnRzLmhlYWRCdXR0b25zLnBhcmVudCwNCiAgICAgIGJvZHk6IGJhc2UuZWxlbWVudHMuY29udGVudC5wYXJlbnQsDQogICAgICBmb290ZXI6YmFzZS5lbGVtZW50cy5mb290ZXIucGFyZW50LA0KICAgICAgY2xvc2VCdXR0b246b3B0aW9ucy5jbG9zZUJ1dHRvbiwNCiAgICAgIHRoZW1lOm9wdGlvbnMudGhlbWUNCiAgICB9KQ0KICAgIGJhc2UubW9kYWw9bW9kYWw7DQogICAgDQoNCiAgICBtb2RhbC5kb20ucXVlcnlTZWxlY3Rvcigid2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LWJhY2tncm91bmQiKS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAidXJsKCIrKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taW1hZ2UiKSB8fCAiLi4vYmFja2dyb3VuZC5wbmciKSsiKSINCiAgICBtb2RhbC5kb20ucXVlcnlTZWxlY3Rvcigid2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LWJhY2tncm91bmQiKS5zdHlsZS5vcGFjaXR5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pbWFnZS1vcGFjaXR5IikNCg0KDQogICAgRmlsZU1hbmFnZXIuaW5zdGFuY2UgPSBiYXNlOw0KICAgIG1vZGFsLmRvbS5hcHBlbmQoYmFzZS5lbGVtZW50cy5jb250ZXh0TWVudS5wYXJlbnQpDQoNCiAgICByZXR1cm4gYmFzZTsNCiAgICANCiAgfQ0KICAgIA0KICAgIA0KICAvKiEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICAqIFZlcnNpb246IDAuMzEuMSg1YTFiNDk5OTQ5M2Q0OWM4NTc0OTdhZDQ4MWQ3M2E3Mzc0MzlmMzA1KQ0KICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQ0KICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2Jsb2IvbWFpbi9MSUNFTlNFLnR4dA0KICAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KICB2YXIgX2FtZExvYWRlckdsb2JhbD10aGlzLF9jb21tb25qc0dsb2JhbD10eXBlb2YgZ2xvYmFsPT0ib2JqZWN0Ij9nbG9iYWw6e30sQU1ETG9hZGVyOyhmdW5jdGlvbihsKXtsLmdsb2JhbD1fYW1kTG9hZGVyR2xvYmFsO3ZhciBFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdigpe3RoaXMuX2RldGVjdGVkPSExLHRoaXMuX2lzV2luZG93cz0hMSx0aGlzLl9pc05vZGU9ITEsdGhpcy5faXNFbGVjdHJvblJlbmRlcmVyPSExLHRoaXMuX2lzV2ViV29ya2VyPSExLHRoaXMuX2lzRWxlY3Ryb25Ob2RlSW50ZWdyYXRpb25XZWJXb3JrZXI9ITF9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2LnByb3RvdHlwZSwiaXNXaW5kb3dzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RldGVjdCgpLHRoaXMuX2lzV2luZG93c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodi5wcm90b3R5cGUsImlzTm9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXRlY3QoKSx0aGlzLl9pc05vZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHYucHJvdG90eXBlLCJpc0VsZWN0cm9uUmVuZGVyZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGV0ZWN0KCksdGhpcy5faXNFbGVjdHJvblJlbmRlcmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2LnByb3RvdHlwZSwiaXNXZWJXb3JrZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGV0ZWN0KCksdGhpcy5faXNXZWJXb3JrZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHYucHJvdG90eXBlLCJpc0VsZWN0cm9uTm9kZUludGVncmF0aW9uV2ViV29ya2VyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RldGVjdCgpLHRoaXMuX2lzRWxlY3Ryb25Ob2RlSW50ZWdyYXRpb25XZWJXb3JrZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdi5wcm90b3R5cGUuX2RldGVjdD1mdW5jdGlvbigpe3RoaXMuX2RldGVjdGVkfHwodGhpcy5fZGV0ZWN0ZWQ9ITAsdGhpcy5faXNXaW5kb3dzPXYuX2lzV2luZG93cygpLHRoaXMuX2lzTm9kZT10eXBlb2YgbW9kdWxlIT0idW5kZWZpbmVkIiYmISFtb2R1bGUuZXhwb3J0cyx0aGlzLl9pc0VsZWN0cm9uUmVuZGVyZXI9dHlwZW9mIHByb2Nlc3MhPSJ1bmRlZmluZWQiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyE9InVuZGVmaW5lZCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uIT0idW5kZWZpbmVkIiYmcHJvY2Vzcy50eXBlPT09InJlbmRlcmVyIix0aGlzLl9pc1dlYldvcmtlcj10eXBlb2YgbC5nbG9iYWwuaW1wb3J0U2NyaXB0cz09ImZ1bmN0aW9uIix0aGlzLl9pc0VsZWN0cm9uTm9kZUludGVncmF0aW9uV2ViV29ya2VyPXRoaXMuX2lzV2ViV29ya2VyJiZ0eXBlb2YgcHJvY2VzcyE9InVuZGVmaW5lZCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zIT0idW5kZWZpbmVkIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMuZWxlY3Ryb24hPSJ1bmRlZmluZWQiJiZwcm9jZXNzLnR5cGU9PT0id29ya2VyIil9LHYuX2lzV2luZG93cz1mdW5jdGlvbigpe3JldHVybiB0eXBlb2YgbmF2aWdhdG9yIT0idW5kZWZpbmVkIiYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJXaW5kb3dzIik+PTA/ITA6dHlwZW9mIHByb2Nlc3MhPSJ1bmRlZmluZWQiP3Byb2Nlc3MucGxhdGZvcm09PT0id2luMzIiOiExfSx2fSgpO2wuRW52aXJvbm1lbnQ9RX0pKEFNRExvYWRlcnx8KEFNRExvYWRlcj17fSkpO3ZhciBBTURMb2FkZXI7KGZ1bmN0aW9uKGwpe3ZhciBFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShuLF8scyl7dGhpcy50eXBlPW4sdGhpcy5kZXRhaWw9Xyx0aGlzLnRpbWVzdGFtcD1zfXJldHVybiBhfSgpO2wuTG9hZGVyRXZlbnQ9RTt2YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEobil7dGhpcy5fZXZlbnRzPVtuZXcgRSgxLCIiLG4pXX1yZXR1cm4gYS5wcm90b3R5cGUucmVjb3JkPWZ1bmN0aW9uKG4sXyl7dGhpcy5fZXZlbnRzLnB1c2gobmV3IEUobixfLGwuVXRpbGl0aWVzLmdldEhpZ2hQZXJmb3JtYW5jZVRpbWVzdGFtcCgpKSl9LGEucHJvdG90eXBlLmdldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHN9LGF9KCk7bC5Mb2FkZXJFdmVudFJlY29yZGVyPXY7dmFyIGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fXJldHVybiBhLnByb3RvdHlwZS5yZWNvcmQ9ZnVuY3Rpb24obixfKXt9LGEucHJvdG90eXBlLmdldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybltdfSxhLklOU1RBTkNFPW5ldyBhLGF9KCk7bC5OdWxsTG9hZGVyRXZlbnRSZWNvcmRlcj1nfSkoQU1ETG9hZGVyfHwoQU1ETG9hZGVyPXt9KSk7dmFyIEFNRExvYWRlcjsoZnVuY3Rpb24obCl7dmFyIEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB2KCl7fXJldHVybiB2LmZpbGVVcmlUb0ZpbGVQYXRoPWZ1bmN0aW9uKGcsYSl7aWYoYT1kZWNvZGVVUkkoYSkucmVwbGFjZSgvJTIzL2csIiMiKSxnKXtpZigvXmZpbGU6XC9cL1wvLy50ZXN0KGEpKXJldHVybiBhLnN1YnN0cig4KTtpZigvXmZpbGU6XC9cLy8udGVzdChhKSlyZXR1cm4gYS5zdWJzdHIoNSl9ZWxzZSBpZigvXmZpbGU6XC9cLy8udGVzdChhKSlyZXR1cm4gYS5zdWJzdHIoNyk7cmV0dXJuIGF9LHYuc3RhcnRzV2l0aD1mdW5jdGlvbihnLGEpe3JldHVybiBnLmxlbmd0aD49YS5sZW5ndGgmJmcuc3Vic3RyKDAsYS5sZW5ndGgpPT09YX0sdi5lbmRzV2l0aD1mdW5jdGlvbihnLGEpe3JldHVybiBnLmxlbmd0aD49YS5sZW5ndGgmJmcuc3Vic3RyKGcubGVuZ3RoLWEubGVuZ3RoKT09PWF9LHYuY29udGFpbnNRdWVyeVN0cmluZz1mdW5jdGlvbihnKXtyZXR1cm4vXlteXCNdKlw/L2dpLnRlc3QoZyl9LHYuaXNBYnNvbHV0ZVBhdGg9ZnVuY3Rpb24oZyl7cmV0dXJuL14oKGh0dHA6XC9cLyl8KGh0dHBzOlwvXC8pfChmaWxlOlwvXC8pfChcLykpLy50ZXN0KGcpfSx2LmZvckVhY2hQcm9wZXJ0eT1mdW5jdGlvbihnLGEpe2lmKGcpe3ZhciBuPXZvaWQgMDtmb3IobiBpbiBnKWcuaGFzT3duUHJvcGVydHkobikmJmEobixnW25dKX19LHYuaXNFbXB0eT1mdW5jdGlvbihnKXt2YXIgYT0hMDtyZXR1cm4gdi5mb3JFYWNoUHJvcGVydHkoZyxmdW5jdGlvbigpe2E9ITF9KSxhfSx2LnJlY3Vyc2l2ZUNsb25lPWZ1bmN0aW9uKGcpe2lmKCFnfHx0eXBlb2YgZyE9Im9iamVjdCJ8fGcgaW5zdGFuY2VvZiBSZWdFeHB8fCFBcnJheS5pc0FycmF5KGcpJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZykhPT1PYmplY3QucHJvdG90eXBlKXJldHVybiBnO3ZhciBhPUFycmF5LmlzQXJyYXkoZyk/W106e307cmV0dXJuIHYuZm9yRWFjaFByb3BlcnR5KGcsZnVuY3Rpb24obixfKXtfJiZ0eXBlb2YgXz09Im9iamVjdCI/YVtuXT12LnJlY3Vyc2l2ZUNsb25lKF8pOmFbbl09X30pLGF9LHYuZ2VuZXJhdGVBbm9ueW1vdXNNb2R1bGU9ZnVuY3Rpb24oKXtyZXR1cm4iPT09YW5vbnltb3VzIit2Lk5FWFRfQU5PTllNT1VTX0lEKysrIj09PSJ9LHYuaXNBbm9ueW1vdXNNb2R1bGU9ZnVuY3Rpb24oZyl7cmV0dXJuIHYuc3RhcnRzV2l0aChnLCI9PT1hbm9ueW1vdXMiKX0sdi5nZXRIaWdoUGVyZm9ybWFuY2VUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QRVJGT1JNQU5DRV9OT1dfUFJPQkVEfHwodGhpcy5QRVJGT1JNQU5DRV9OT1dfUFJPQkVEPSEwLHRoaXMuSEFTX1BFUkZPUk1BTkNFX05PVz1sLmdsb2JhbC5wZXJmb3JtYW5jZSYmdHlwZW9mIGwuZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdz09ImZ1bmN0aW9uIiksdGhpcy5IQVNfUEVSRk9STUFOQ0VfTk9XP2wuZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpOkRhdGUubm93KCl9LHYuTkVYVF9BTk9OWU1PVVNfSUQ9MSx2LlBFUkZPUk1BTkNFX05PV19QUk9CRUQ9ITEsdi5IQVNfUEVSRk9STUFOQ0VfTk9XPSExLHZ9KCk7bC5VdGlsaXRpZXM9RX0pKEFNRExvYWRlcnx8KEFNRExvYWRlcj17fSkpO3ZhciBBTURMb2FkZXI7KGZ1bmN0aW9uKGwpe2Z1bmN0aW9uIEUoYSl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXJldHVybiBhO3ZhciBuPW5ldyBFcnJvcihhLm1lc3NhZ2V8fFN0cmluZyhhKXx8IlVua25vd24gRXJyb3IiKTtyZXR1cm4gYS5zdGFjayYmKG4uc3RhY2s9YS5zdGFjayksbn1sLmVuc3VyZUVycm9yPUU7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fXJldHVybiBhLnZhbGlkYXRlQ29uZmlndXJhdGlvbk9wdGlvbnM9ZnVuY3Rpb24obil7ZnVuY3Rpb24gXyhlKXtpZihlLnBoYXNlPT09ImxvYWRpbmciKXtjb25zb2xlLmVycm9yKCdMb2FkaW5nICInK2UubW9kdWxlSWQrJyIgZmFpbGVkJyksY29uc29sZS5lcnJvcihlKSxjb25zb2xlLmVycm9yKCJIZXJlIGFyZSB0aGUgbW9kdWxlcyB0aGF0IGRlcGVuZCBvbiBpdDoiKSxjb25zb2xlLmVycm9yKGUubmVlZGVkQnkpO3JldHVybn1pZihlLnBoYXNlPT09ImZhY3RvcnkiKXtjb25zb2xlLmVycm9yKCdUaGUgZmFjdG9yeSBtZXRob2Qgb2YgIicrZS5tb2R1bGVJZCsnIiBoYXMgdGhyb3duIGFuIGV4Y2VwdGlvbicpLGNvbnNvbGUuZXJyb3IoZSk7cmV0dXJufX1pZihuPW58fHt9LHR5cGVvZiBuLmJhc2VVcmwhPSJzdHJpbmciJiYobi5iYXNlVXJsPSIiKSx0eXBlb2Ygbi5pc0J1aWxkIT0iYm9vbGVhbiImJihuLmlzQnVpbGQ9ITEpLHR5cGVvZiBuLnBhdGhzIT0ib2JqZWN0IiYmKG4ucGF0aHM9e30pLHR5cGVvZiBuLmNvbmZpZyE9Im9iamVjdCImJihuLmNvbmZpZz17fSksdHlwZW9mIG4uY2F0Y2hFcnJvcj09InVuZGVmaW5lZCImJihuLmNhdGNoRXJyb3I9ITEpLHR5cGVvZiBuLnJlY29yZFN0YXRzPT0idW5kZWZpbmVkIiYmKG4ucmVjb3JkU3RhdHM9ITEpLHR5cGVvZiBuLnVybEFyZ3MhPSJzdHJpbmciJiYobi51cmxBcmdzPSIiKSx0eXBlb2Ygbi5vbkVycm9yIT0iZnVuY3Rpb24iJiYobi5vbkVycm9yPV8pLEFycmF5LmlzQXJyYXkobi5pZ25vcmVEdXBsaWNhdGVNb2R1bGVzKXx8KG4uaWdub3JlRHVwbGljYXRlTW9kdWxlcz1bXSksbi5iYXNlVXJsLmxlbmd0aD4wJiYobC5VdGlsaXRpZXMuZW5kc1dpdGgobi5iYXNlVXJsLCIvIil8fChuLmJhc2VVcmwrPSIvIikpLHR5cGVvZiBuLmNzcE5vbmNlIT0ic3RyaW5nIiYmKG4uY3NwTm9uY2U9IiIpLHR5cGVvZiBuLnByZWZlclNjcmlwdFRhZ3M9PSJ1bmRlZmluZWQiJiYobi5wcmVmZXJTY3JpcHRUYWdzPSExKSxBcnJheS5pc0FycmF5KG4ubm9kZU1vZHVsZXMpfHwobi5ub2RlTW9kdWxlcz1bXSksbi5ub2RlQ2FjaGVkRGF0YSYmdHlwZW9mIG4ubm9kZUNhY2hlZERhdGE9PSJvYmplY3QiJiYodHlwZW9mIG4ubm9kZUNhY2hlZERhdGEuc2VlZCE9InN0cmluZyImJihuLm5vZGVDYWNoZWREYXRhLnNlZWQ9InNlZWQiKSwodHlwZW9mIG4ubm9kZUNhY2hlZERhdGEud3JpdGVEZWxheSE9Im51bWJlciJ8fG4ubm9kZUNhY2hlZERhdGEud3JpdGVEZWxheTwwKSYmKG4ubm9kZUNhY2hlZERhdGEud3JpdGVEZWxheT0xZTMqNyksIW4ubm9kZUNhY2hlZERhdGEucGF0aHx8dHlwZW9mIG4ubm9kZUNhY2hlZERhdGEucGF0aCE9InN0cmluZyIpKXt2YXIgcz1FKG5ldyBFcnJvcigiSU5WQUxJRCBjYWNoZWQgZGF0YSBjb25maWd1cmF0aW9uLCAncGF0aCcgTVVTVCBiZSBzZXQiKSk7cy5waGFzZT0iY29uZmlndXJhdGlvbiIsbi5vbkVycm9yKHMpLG4ubm9kZUNhY2hlZERhdGE9dm9pZCAwfXJldHVybiBufSxhLm1lcmdlQ29uZmlndXJhdGlvbk9wdGlvbnM9ZnVuY3Rpb24obixfKXtuPT09dm9pZCAwJiYobj1udWxsKSxfPT09dm9pZCAwJiYoXz1udWxsKTt2YXIgcz1sLlV0aWxpdGllcy5yZWN1cnNpdmVDbG9uZShffHx7fSk7cmV0dXJuIGwuVXRpbGl0aWVzLmZvckVhY2hQcm9wZXJ0eShuLGZ1bmN0aW9uKGUsdCl7ZT09PSJpZ25vcmVEdXBsaWNhdGVNb2R1bGVzIiYmdHlwZW9mIHMuaWdub3JlRHVwbGljYXRlTW9kdWxlcyE9InVuZGVmaW5lZCI/cy5pZ25vcmVEdXBsaWNhdGVNb2R1bGVzPXMuaWdub3JlRHVwbGljYXRlTW9kdWxlcy5jb25jYXQodCk6ZT09PSJwYXRocyImJnR5cGVvZiBzLnBhdGhzIT0idW5kZWZpbmVkIj9sLlV0aWxpdGllcy5mb3JFYWNoUHJvcGVydHkodCxmdW5jdGlvbihyLGkpe3JldHVybiBzLnBhdGhzW3JdPWl9KTplPT09ImNvbmZpZyImJnR5cGVvZiBzLmNvbmZpZyE9InVuZGVmaW5lZCI/bC5VdGlsaXRpZXMuZm9yRWFjaFByb3BlcnR5KHQsZnVuY3Rpb24ocixpKXtyZXR1cm4gcy5jb25maWdbcl09aX0pOnNbZV09bC5VdGlsaXRpZXMucmVjdXJzaXZlQ2xvbmUodCl9KSxhLnZhbGlkYXRlQ29uZmlndXJhdGlvbk9wdGlvbnMocyl9LGF9KCk7bC5Db25maWd1cmF0aW9uT3B0aW9uc1V0aWw9djt2YXIgZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEobixfKXtpZih0aGlzLl9lbnY9bix0aGlzLm9wdGlvbnM9di5tZXJnZUNvbmZpZ3VyYXRpb25PcHRpb25zKF8pLHRoaXMuX2NyZWF0ZUlnbm9yZUR1cGxpY2F0ZU1vZHVsZXNNYXAoKSx0aGlzLl9jcmVhdGVOb2RlTW9kdWxlc01hcCgpLHRoaXMuX2NyZWF0ZVNvcnRlZFBhdGhzUnVsZXMoKSx0aGlzLm9wdGlvbnMuYmFzZVVybD09PSIiKXtpZih0aGlzLm9wdGlvbnMubm9kZVJlcXVpcmUmJnRoaXMub3B0aW9ucy5ub2RlUmVxdWlyZS5tYWluJiZ0aGlzLm9wdGlvbnMubm9kZVJlcXVpcmUubWFpbi5maWxlbmFtZSYmdGhpcy5fZW52LmlzTm9kZSl7dmFyIHM9dGhpcy5vcHRpb25zLm5vZGVSZXF1aXJlLm1haW4uZmlsZW5hbWUsZT1NYXRoLm1heChzLmxhc3RJbmRleE9mKCIvIikscy5sYXN0SW5kZXhPZigiXFwiKSk7dGhpcy5vcHRpb25zLmJhc2VVcmw9cy5zdWJzdHJpbmcoMCxlKzEpfWlmKHRoaXMub3B0aW9ucy5ub2RlTWFpbiYmdGhpcy5fZW52LmlzTm9kZSl7dmFyIHM9dGhpcy5vcHRpb25zLm5vZGVNYWluLGU9TWF0aC5tYXgocy5sYXN0SW5kZXhPZigiLyIpLHMubGFzdEluZGV4T2YoIlxcIikpO3RoaXMub3B0aW9ucy5iYXNlVXJsPXMuc3Vic3RyaW5nKDAsZSsxKX19fXJldHVybiBhLnByb3RvdHlwZS5fY3JlYXRlSWdub3JlRHVwbGljYXRlTW9kdWxlc01hcD1mdW5jdGlvbigpe3RoaXMuaWdub3JlRHVwbGljYXRlTW9kdWxlc01hcD17fTtmb3IodmFyIG49MDtuPHRoaXMub3B0aW9ucy5pZ25vcmVEdXBsaWNhdGVNb2R1bGVzLmxlbmd0aDtuKyspdGhpcy5pZ25vcmVEdXBsaWNhdGVNb2R1bGVzTWFwW3RoaXMub3B0aW9ucy5pZ25vcmVEdXBsaWNhdGVNb2R1bGVzW25dXT0hMH0sYS5wcm90b3R5cGUuX2NyZWF0ZU5vZGVNb2R1bGVzTWFwPWZ1bmN0aW9uKCl7dGhpcy5ub2RlTW9kdWxlc01hcD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgbj0wLF89dGhpcy5vcHRpb25zLm5vZGVNb2R1bGVzO248Xy5sZW5ndGg7bisrKXt2YXIgcz1fW25dO3RoaXMubm9kZU1vZHVsZXNNYXBbc109ITB9fSxhLnByb3RvdHlwZS5fY3JlYXRlU29ydGVkUGF0aHNSdWxlcz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5zb3J0ZWRQYXRoc1J1bGVzPVtdLGwuVXRpbGl0aWVzLmZvckVhY2hQcm9wZXJ0eSh0aGlzLm9wdGlvbnMucGF0aHMsZnVuY3Rpb24oXyxzKXtBcnJheS5pc0FycmF5KHMpP24uc29ydGVkUGF0aHNSdWxlcy5wdXNoKHtmcm9tOl8sdG86c30pOm4uc29ydGVkUGF0aHNSdWxlcy5wdXNoKHtmcm9tOl8sdG86W3NdfSl9KSx0aGlzLnNvcnRlZFBhdGhzUnVsZXMuc29ydChmdW5jdGlvbihfLHMpe3JldHVybiBzLmZyb20ubGVuZ3RoLV8uZnJvbS5sZW5ndGh9KX0sYS5wcm90b3R5cGUuY2xvbmVBbmRNZXJnZT1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGEodGhpcy5fZW52LHYubWVyZ2VDb25maWd1cmF0aW9uT3B0aW9ucyhuLHRoaXMub3B0aW9ucykpfSxhLnByb3RvdHlwZS5nZXRPcHRpb25zTGl0ZXJhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnN9LGEucHJvdG90eXBlLl9hcHBseVBhdGhzPWZ1bmN0aW9uKG4pe2Zvcih2YXIgXyxzPTAsZT10aGlzLnNvcnRlZFBhdGhzUnVsZXMubGVuZ3RoO3M8ZTtzKyspaWYoXz10aGlzLnNvcnRlZFBhdGhzUnVsZXNbc10sbC5VdGlsaXRpZXMuc3RhcnRzV2l0aChuLF8uZnJvbSkpe2Zvcih2YXIgdD1bXSxyPTAsaT1fLnRvLmxlbmd0aDtyPGk7cisrKXQucHVzaChfLnRvW3JdK24uc3Vic3RyKF8uZnJvbS5sZW5ndGgpKTtyZXR1cm4gdH1yZXR1cm5bbl19LGEucHJvdG90eXBlLl9hZGRVcmxBcmdzVG9Vcmw9ZnVuY3Rpb24obil7cmV0dXJuIGwuVXRpbGl0aWVzLmNvbnRhaW5zUXVlcnlTdHJpbmcobik/bisiJiIrdGhpcy5vcHRpb25zLnVybEFyZ3M6bisiPyIrdGhpcy5vcHRpb25zLnVybEFyZ3N9LGEucHJvdG90eXBlLl9hZGRVcmxBcmdzSWZOZWNlc3NhcnlUb1VybD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vcHRpb25zLnVybEFyZ3M/dGhpcy5fYWRkVXJsQXJnc1RvVXJsKG4pOm59LGEucHJvdG90eXBlLl9hZGRVcmxBcmdzSWZOZWNlc3NhcnlUb1VybHM9ZnVuY3Rpb24obil7aWYodGhpcy5vcHRpb25zLnVybEFyZ3MpZm9yKHZhciBfPTAscz1uLmxlbmd0aDtfPHM7XysrKW5bX109dGhpcy5fYWRkVXJsQXJnc1RvVXJsKG5bX10pO3JldHVybiBufSxhLnByb3RvdHlwZS5tb2R1bGVJZFRvUGF0aHM9ZnVuY3Rpb24obil7aWYodGhpcy5fZW52LmlzTm9kZSl7dmFyIF89dGhpcy5ub2RlTW9kdWxlc01hcFtuXT09PSEwfHx0aGlzLm9wdGlvbnMuYW1kTW9kdWxlc1BhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHAmJiF0aGlzLm9wdGlvbnMuYW1kTW9kdWxlc1BhdHRlcm4udGVzdChuKTtpZihfKXJldHVybiB0aGlzLmlzQnVpbGQoKT9bImVtcHR5OiJdOlsibm9kZXwiK25dfXZhciBzPW4sZTtpZighbC5VdGlsaXRpZXMuZW5kc1dpdGgocywiLmpzIikmJiFsLlV0aWxpdGllcy5pc0Fic29sdXRlUGF0aChzKSl7ZT10aGlzLl9hcHBseVBhdGhzKHMpO2Zvcih2YXIgdD0wLHI9ZS5sZW5ndGg7dDxyO3QrKyl0aGlzLmlzQnVpbGQoKSYmZVt0XT09PSJlbXB0eToifHwobC5VdGlsaXRpZXMuaXNBYnNvbHV0ZVBhdGgoZVt0XSl8fChlW3RdPXRoaXMub3B0aW9ucy5iYXNlVXJsK2VbdF0pLCFsLlV0aWxpdGllcy5lbmRzV2l0aChlW3RdLCIuanMiKSYmIWwuVXRpbGl0aWVzLmNvbnRhaW5zUXVlcnlTdHJpbmcoZVt0XSkmJihlW3RdPWVbdF0rIi5qcyIpKX1lbHNlIWwuVXRpbGl0aWVzLmVuZHNXaXRoKHMsIi5qcyIpJiYhbC5VdGlsaXRpZXMuY29udGFpbnNRdWVyeVN0cmluZyhzKSYmKHM9cysiLmpzIiksZT1bc107cmV0dXJuIHRoaXMuX2FkZFVybEFyZ3NJZk5lY2Vzc2FyeVRvVXJscyhlKX0sYS5wcm90b3R5cGUucmVxdWlyZVRvVXJsPWZ1bmN0aW9uKG4pe3ZhciBfPW47cmV0dXJuIGwuVXRpbGl0aWVzLmlzQWJzb2x1dGVQYXRoKF8pfHwoXz10aGlzLl9hcHBseVBhdGhzKF8pWzBdLGwuVXRpbGl0aWVzLmlzQWJzb2x1dGVQYXRoKF8pfHwoXz10aGlzLm9wdGlvbnMuYmFzZVVybCtfKSksdGhpcy5fYWRkVXJsQXJnc0lmTmVjZXNzYXJ5VG9VcmwoXyl9LGEucHJvdG90eXBlLmlzQnVpbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzQnVpbGR9LGEucHJvdG90eXBlLmlzRHVwbGljYXRlTWVzc2FnZUlnbm9yZWRGb3I9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuaWdub3JlRHVwbGljYXRlTW9kdWxlc01hcC5oYXNPd25Qcm9wZXJ0eShuKX0sYS5wcm90b3R5cGUuZ2V0Q29uZmlnRm9yTW9kdWxlPWZ1bmN0aW9uKG4pe2lmKHRoaXMub3B0aW9ucy5jb25maWcpcmV0dXJuIHRoaXMub3B0aW9ucy5jb25maWdbbl19LGEucHJvdG90eXBlLnNob3VsZENhdGNoRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmNhdGNoRXJyb3J9LGEucHJvdG90eXBlLnNob3VsZFJlY29yZFN0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5yZWNvcmRTdGF0c30sYS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMub25FcnJvcihuKX0sYX0oKTtsLkNvbmZpZ3VyYXRpb249Z30pKEFNRExvYWRlcnx8KEFNRExvYWRlcj17fSkpO3ZhciBBTURMb2FkZXI7KGZ1bmN0aW9uKGwpe3ZhciBFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzLl9lbnY9dCx0aGlzLl9zY3JpcHRMb2FkZXI9bnVsbCx0aGlzLl9jYWxsYmFja01hcD17fX1yZXR1cm4gZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LHIsaSxvKXt2YXIgdT10aGlzO2lmKCF0aGlzLl9zY3JpcHRMb2FkZXIpaWYodGhpcy5fZW52LmlzV2ViV29ya2VyKXRoaXMuX3NjcmlwdExvYWRlcj1uZXcgYTtlbHNlIGlmKHRoaXMuX2Vudi5pc0VsZWN0cm9uUmVuZGVyZXIpe3ZhciBjPXQuZ2V0Q29uZmlnKCkuZ2V0T3B0aW9uc0xpdGVyYWwoKS5wcmVmZXJTY3JpcHRUYWdzO2M/dGhpcy5fc2NyaXB0TG9hZGVyPW5ldyB2OnRoaXMuX3NjcmlwdExvYWRlcj1uZXcgbih0aGlzLl9lbnYpfWVsc2UgdGhpcy5fZW52LmlzTm9kZT90aGlzLl9zY3JpcHRMb2FkZXI9bmV3IG4odGhpcy5fZW52KTp0aGlzLl9zY3JpcHRMb2FkZXI9bmV3IHY7dmFyIGY9e2NhbGxiYWNrOmksZXJyb3JiYWNrOm99O2lmKHRoaXMuX2NhbGxiYWNrTWFwLmhhc093blByb3BlcnR5KHIpKXt0aGlzLl9jYWxsYmFja01hcFtyXS5wdXNoKGYpO3JldHVybn10aGlzLl9jYWxsYmFja01hcFtyXT1bZl0sdGhpcy5fc2NyaXB0TG9hZGVyLmxvYWQodCxyLGZ1bmN0aW9uKCl7cmV0dXJuIHUudHJpZ2dlckNhbGxiYWNrKHIpfSxmdW5jdGlvbihwKXtyZXR1cm4gdS50cmlnZ2VyRXJyb3JiYWNrKHIscCl9KX0sZS5wcm90b3R5cGUudHJpZ2dlckNhbGxiYWNrPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2NhbGxiYWNrTWFwW3RdO2RlbGV0ZSB0aGlzLl9jYWxsYmFja01hcFt0XTtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKylyW2ldLmNhbGxiYWNrKCl9LGUucHJvdG90eXBlLnRyaWdnZXJFcnJvcmJhY2s9ZnVuY3Rpb24odCxyKXt2YXIgaT10aGlzLl9jYWxsYmFja01hcFt0XTtkZWxldGUgdGhpcy5fY2FsbGJhY2tNYXBbdF07Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDtvKyspaVtvXS5lcnJvcmJhY2socil9LGV9KCksdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmF0dGFjaExpc3RlbmVycz1mdW5jdGlvbih0LHIsaSl7dmFyIG89ZnVuY3Rpb24oKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLHUpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGMpfSx1PWZ1bmN0aW9uKGYpe28oKSxyKCl9LGM9ZnVuY3Rpb24oZil7bygpLGkoZil9O3QuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdSksdC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsYyl9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxyLGksbyl7aWYoL15ub2RlXHwvLnRlc3Qocikpe3ZhciB1PXQuZ2V0Q29uZmlnKCkuZ2V0T3B0aW9uc0xpdGVyYWwoKSxjPV8odC5nZXRSZWNvcmRlcigpLHUubm9kZVJlcXVpcmV8fGwuZ2xvYmFsLm5vZGVSZXF1aXJlKSxmPXIuc3BsaXQoInwiKSxwPW51bGw7dHJ5e3A9YyhmWzFdKX1jYXRjaChtKXtvKG0pO3JldHVybn10LmVucXVldWVEZWZpbmVBbm9ueW1vdXNNb2R1bGUoW10sZnVuY3Rpb24oKXtyZXR1cm4gcH0pLGkoKX1lbHNle3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2Quc2V0QXR0cmlidXRlKCJhc3luYyIsImFzeW5jIiksZC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2phdmFzY3JpcHQiKSx0aGlzLmF0dGFjaExpc3RlbmVycyhkLGksbyk7dmFyIHk9dC5nZXRDb25maWcoKS5nZXRPcHRpb25zTGl0ZXJhbCgpLnRydXN0ZWRUeXBlc1BvbGljeTt5JiYocj15LmNyZWF0ZVNjcmlwdFVSTChyKSksZC5zZXRBdHRyaWJ1dGUoInNyYyIscik7dmFyIGg9dC5nZXRDb25maWcoKS5nZXRPcHRpb25zTGl0ZXJhbCgpLmNzcE5vbmNlO2gmJmQuc2V0QXR0cmlidXRlKCJub25jZSIsaCksZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChkKX19LGV9KCk7ZnVuY3Rpb24gZyhlKXt2YXIgdD1lLmdldENvbmZpZygpLmdldE9wdGlvbnNMaXRlcmFsKCkudHJ1c3RlZFR5cGVzUG9saWN5O3RyeXt2YXIgcj10P3NlbGYuZXZhbCh0LmNyZWF0ZVNjcmlwdCgiIiwidHJ1ZSIpKTpuZXcgRnVuY3Rpb24oInRydWUiKTtyZXR1cm4gci5jYWxsKHNlbGYpLCEwfWNhdGNoKGkpe3JldHVybiExfX12YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9jYWNoZWRDYW5Vc2VFdmFsPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLl9jYW5Vc2VFdmFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYWNoZWRDYW5Vc2VFdmFsPT09bnVsbCYmKHRoaXMuX2NhY2hlZENhblVzZUV2YWw9Zyh0KSksdGhpcy5fY2FjaGVkQ2FuVXNlRXZhbH0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LHIsaSxvKXtpZigvXm5vZGVcfC8udGVzdChyKSl7dmFyIHU9dC5nZXRDb25maWcoKS5nZXRPcHRpb25zTGl0ZXJhbCgpLGM9Xyh0LmdldFJlY29yZGVyKCksdS5ub2RlUmVxdWlyZXx8bC5nbG9iYWwubm9kZVJlcXVpcmUpLGY9ci5zcGxpdCgifCIpLHA9bnVsbDt0cnl7cD1jKGZbMV0pfWNhdGNoKGgpe28oaCk7cmV0dXJufXQuZW5xdWV1ZURlZmluZUFub255bW91c01vZHVsZShbXSxmdW5jdGlvbigpe3JldHVybiBwfSksaSgpfWVsc2V7dmFyIGQ9dC5nZXRDb25maWcoKS5nZXRPcHRpb25zTGl0ZXJhbCgpLnRydXN0ZWRUeXBlc1BvbGljeSx5PS9eKChodHRwOil8KGh0dHBzOil8KGZpbGU6KSkvLnRlc3QocikmJnIuc3Vic3RyaW5nKDAsc2VsZi5vcmlnaW4ubGVuZ3RoKSE9PXNlbGYub3JpZ2luO2lmKCF5JiZ0aGlzLl9jYW5Vc2VFdmFsKHQpKXtmZXRjaChyKS50aGVuKGZ1bmN0aW9uKGgpe2lmKGguc3RhdHVzIT09MjAwKXRocm93IG5ldyBFcnJvcihoLnN0YXR1c1RleHQpO3JldHVybiBoLnRleHQoKX0pLnRoZW4oZnVuY3Rpb24oaCl7aD1oK2ANCiAgLy8jIHNvdXJjZVVSTD1gK3I7dmFyIG09ZD9zZWxmLmV2YWwoZC5jcmVhdGVTY3JpcHQoIiIsaCkpOm5ldyBGdW5jdGlvbihoKTttLmNhbGwoc2VsZiksaSgpfSkudGhlbih2b2lkIDAsbyk7cmV0dXJufXRyeXtkJiYocj1kLmNyZWF0ZVNjcmlwdFVSTChyKSksaW1wb3J0U2NyaXB0cyhyKSxpKCl9Y2F0Y2goaCl7byhoKX19fSxlfSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMuX2Vudj10LHRoaXMuX2RpZEluaXRpYWxpemU9ITEsdGhpcy5fZGlkUGF0Y2hOb2RlUmVxdWlyZT0hMX1yZXR1cm4gZS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCl7dGhpcy5fZGlkSW5pdGlhbGl6ZXx8KHRoaXMuX2RpZEluaXRpYWxpemU9ITAsdGhpcy5fZnM9dCgiZnMiKSx0aGlzLl92bT10KCJ2bSIpLHRoaXMuX3BhdGg9dCgicGF0aCIpLHRoaXMuX2NyeXB0bz10KCJjcnlwdG8iKSl9LGUucHJvdG90eXBlLl9pbml0Tm9kZVJlcXVpcmU9ZnVuY3Rpb24odCxyKXt2YXIgaT1yLmdldENvbmZpZygpLmdldE9wdGlvbnNMaXRlcmFsKCkubm9kZUNhY2hlZERhdGE7aWYoIWl8fHRoaXMuX2RpZFBhdGNoTm9kZVJlcXVpcmUpcmV0dXJuO3RoaXMuX2RpZFBhdGNoTm9kZVJlcXVpcmU9ITA7dmFyIG89dGhpcyx1PXQoIm1vZHVsZSIpO2Z1bmN0aW9uIGMoZil7dmFyIHA9Zi5jb25zdHJ1Y3RvcixkPWZ1bmN0aW9uKGgpe3RyeXtyZXR1cm4gZi5yZXF1aXJlKGgpfWZpbmFsbHl7fX07cmV0dXJuIGQucmVzb2x2ZT1mdW5jdGlvbihoLG0pe3JldHVybiBwLl9yZXNvbHZlRmlsZW5hbWUoaCxmLCExLG0pfSxkLnJlc29sdmUucGF0aHM9ZnVuY3Rpb24oaCl7cmV0dXJuIHAuX3Jlc29sdmVMb29rdXBQYXRocyhoLGYpfSxkLm1haW49cHJvY2Vzcy5tYWluTW9kdWxlLGQuZXh0ZW5zaW9ucz1wLl9leHRlbnNpb25zLGQuY2FjaGU9cC5fY2FjaGUsZH11LnByb3RvdHlwZS5fY29tcGlsZT1mdW5jdGlvbihmLHApe3ZhciBkPXUud3JhcChmLnJlcGxhY2UoL14jIS4qLywiIikpLHk9ci5nZXRSZWNvcmRlcigpLGg9by5fZ2V0Q2FjaGVkRGF0YVBhdGgoaSxwKSxtPXtmaWxlbmFtZTpwfSxQO3RyeXt2YXIgST1vLl9mcy5yZWFkRmlsZVN5bmMoaCk7UD1JLnNsaWNlKDAsMTYpLG0uY2FjaGVkRGF0YT1JLnNsaWNlKDE2KSx5LnJlY29yZCg2MCxoKX1jYXRjaChNKXt5LnJlY29yZCg2MSxoKX12YXIgYj1uZXcgby5fdm0uU2NyaXB0KGQsbSksUj1iLnJ1bkluVGhpc0NvbnRleHQobSksVT1vLl9wYXRoLmRpcm5hbWUocCksdz1jKHRoaXMpLE89W3RoaXMuZXhwb3J0cyx3LHRoaXMscCxVLHByb2Nlc3MsX2NvbW1vbmpzR2xvYmFsLEJ1ZmZlcl0sQz1SLmFwcGx5KHRoaXMuZXhwb3J0cyxPKTtyZXR1cm4gby5faGFuZGxlQ2FjaGVkRGF0YShiLGQsaCwhbS5jYWNoZWREYXRhLHIpLG8uX3ZlcmlmeUNhY2hlZERhdGEoYixkLGgsUCxyKSxDfX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LHIsaSxvKXt2YXIgdT10aGlzLGM9dC5nZXRDb25maWcoKS5nZXRPcHRpb25zTGl0ZXJhbCgpLGY9Xyh0LmdldFJlY29yZGVyKCksYy5ub2RlUmVxdWlyZXx8bC5nbG9iYWwubm9kZVJlcXVpcmUpLHA9Yy5ub2RlSW5zdHJ1bWVudGVyfHxmdW5jdGlvbihSKXtyZXR1cm4gUn07dGhpcy5faW5pdChmKSx0aGlzLl9pbml0Tm9kZVJlcXVpcmUoZix0KTt2YXIgZD10LmdldFJlY29yZGVyKCk7aWYoL15ub2RlXHwvLnRlc3Qocikpe3ZhciB5PXIuc3BsaXQoInwiKSxoPW51bGw7dHJ5e2g9Zih5WzFdKX1jYXRjaChSKXtvKFIpO3JldHVybn10LmVucXVldWVEZWZpbmVBbm9ueW1vdXNNb2R1bGUoW10sZnVuY3Rpb24oKXtyZXR1cm4gaH0pLGkoKX1lbHNle3I9bC5VdGlsaXRpZXMuZmlsZVVyaVRvRmlsZVBhdGgodGhpcy5fZW52LmlzV2luZG93cyxyKTt2YXIgbT10aGlzLl9wYXRoLm5vcm1hbGl6ZShyKSxQPXRoaXMuX2dldEVsZWN0cm9uUmVuZGVyZXJTY3JpcHRQYXRoT3JVcmkobSksST1Cb29sZWFuKGMubm9kZUNhY2hlZERhdGEpLGI9ST90aGlzLl9nZXRDYWNoZWREYXRhUGF0aChjLm5vZGVDYWNoZWREYXRhLHIpOnZvaWQgMDt0aGlzLl9yZWFkU291cmNlQW5kQ2FjaGVkRGF0YShtLGIsZCxmdW5jdGlvbihSLFUsdyxPKXtpZihSKXtvKFIpO3JldHVybn12YXIgQztVLmNoYXJDb2RlQXQoMCk9PT1lLl9CT00/Qz1lLl9QUkVGSVgrVS5zdWJzdHJpbmcoMSkrZS5fU1VGRklYOkM9ZS5fUFJFRklYK1UrZS5fU1VGRklYLEM9cChDLG0pO3ZhciBNPXtmaWxlbmFtZTpQLGNhY2hlZERhdGE6d30sTj11Ll9jcmVhdGVBbmRFdmFsU2NyaXB0KHQsQyxNLGksbyk7dS5faGFuZGxlQ2FjaGVkRGF0YShOLEMsYixJJiYhdyx0KSx1Ll92ZXJpZnlDYWNoZWREYXRhKE4sQyxiLE8sdCl9KX19LGUucHJvdG90eXBlLl9jcmVhdGVBbmRFdmFsU2NyaXB0PWZ1bmN0aW9uKHQscixpLG8sdSl7dmFyIGM9dC5nZXRSZWNvcmRlcigpO2MucmVjb3JkKDMxLGkuZmlsZW5hbWUpO3ZhciBmPW5ldyB0aGlzLl92bS5TY3JpcHQocixpKSxwPWYucnVuSW5UaGlzQ29udGV4dChpKSxkPXQuZ2V0R2xvYmFsQU1ERGVmaW5lRnVuYygpLHk9ITEsaD1mdW5jdGlvbigpe3JldHVybiB5PSEwLGQuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtyZXR1cm4gaC5hbWQ9ZC5hbWQscC5jYWxsKGwuZ2xvYmFsLHQuZ2V0R2xvYmFsQU1EUmVxdWlyZUZ1bmMoKSxoLGkuZmlsZW5hbWUsdGhpcy5fcGF0aC5kaXJuYW1lKGkuZmlsZW5hbWUpKSxjLnJlY29yZCgzMixpLmZpbGVuYW1lKSx5P28oKTp1KG5ldyBFcnJvcigiRGlkbid0IHJlY2VpdmUgZGVmaW5lIGNhbGwgaW4gIitpLmZpbGVuYW1lKyIhIikpLGZ9LGUucHJvdG90eXBlLl9nZXRFbGVjdHJvblJlbmRlcmVyU2NyaXB0UGF0aE9yVXJpPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9lbnYuaXNFbGVjdHJvblJlbmRlcmVyKXJldHVybiB0O3ZhciByPXQubWF0Y2goL14oW2Etel0pXDooLiopL2kpO3JldHVybiByPyJmaWxlOi8vLyIrKHJbMV0udG9VcHBlckNhc2UoKSsiOiIrclsyXSkucmVwbGFjZSgvXFwvZywiLyIpOiJmaWxlOi8vIit0fSxlLnByb3RvdHlwZS5fZ2V0Q2FjaGVkRGF0YVBhdGg9ZnVuY3Rpb24odCxyKXt2YXIgaT10aGlzLl9jcnlwdG8uY3JlYXRlSGFzaCgibWQ1IikudXBkYXRlKHIsInV0ZjgiKS51cGRhdGUodC5zZWVkLCJ1dGY4IikudXBkYXRlKHByb2Nlc3MuYXJjaCwiIikuZGlnZXN0KCJoZXgiKSxvPXRoaXMuX3BhdGguYmFzZW5hbWUocikucmVwbGFjZSgvXC5qcyQvLCIiKTtyZXR1cm4gdGhpcy5fcGF0aC5qb2luKHQucGF0aCxvKyItIitpKyIuY29kZSIpfSxlLnByb3RvdHlwZS5faGFuZGxlQ2FjaGVkRGF0YT1mdW5jdGlvbih0LHIsaSxvLHUpe3ZhciBjPXRoaXM7dC5jYWNoZWREYXRhUmVqZWN0ZWQ/dGhpcy5fZnMudW5saW5rKGksZnVuY3Rpb24oZil7dS5nZXRSZWNvcmRlcigpLnJlY29yZCg2MixpKSxjLl9jcmVhdGVBbmRXcml0ZUNhY2hlZERhdGEodCxyLGksdSksZiYmdS5nZXRDb25maWcoKS5vbkVycm9yKGYpfSk6byYmdGhpcy5fY3JlYXRlQW5kV3JpdGVDYWNoZWREYXRhKHQscixpLHUpfSxlLnByb3RvdHlwZS5fY3JlYXRlQW5kV3JpdGVDYWNoZWREYXRhPWZ1bmN0aW9uKHQscixpLG8pe3ZhciB1PXRoaXMsYz1NYXRoLmNlaWwoby5nZXRDb25maWcoKS5nZXRPcHRpb25zTGl0ZXJhbCgpLm5vZGVDYWNoZWREYXRhLndyaXRlRGVsYXkqKDErTWF0aC5yYW5kb20oKSkpLGY9LTEscD0wLGQ9dm9pZCAwLHk9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZHx8KGQ9dS5fY3J5cHRvLmNyZWF0ZUhhc2goIm1kNSIpLnVwZGF0ZShyLCJ1dGY4IikuZGlnZXN0KCkpO3ZhciBoPXQuY3JlYXRlQ2FjaGVkRGF0YSgpO2lmKCEoaC5sZW5ndGg9PT0wfHxoLmxlbmd0aD09PWZ8fHA+PTUpKXtpZihoLmxlbmd0aDxmKXt5KCk7cmV0dXJufWY9aC5sZW5ndGgsdS5fZnMud3JpdGVGaWxlKGksQnVmZmVyLmNvbmNhdChbZCxoXSksZnVuY3Rpb24obSl7bSYmby5nZXRDb25maWcoKS5vbkVycm9yKG0pLG8uZ2V0UmVjb3JkZXIoKS5yZWNvcmQoNjMsaSkseSgpfSl9fSxjKk1hdGgucG93KDQscCsrKSl9O3koKX0sZS5wcm90b3R5cGUuX3JlYWRTb3VyY2VBbmRDYWNoZWREYXRhPWZ1bmN0aW9uKHQscixpLG8pe2lmKCFyKXRoaXMuX2ZzLnJlYWRGaWxlKHQse2VuY29kaW5nOiJ1dGY4In0sbyk7ZWxzZXt2YXIgdT12b2lkIDAsYz12b2lkIDAsZj12b2lkIDAscD0yLGQ9ZnVuY3Rpb24oeSl7eT9vKHkpOi0tcD09MCYmbyh2b2lkIDAsdSxjLGYpfTt0aGlzLl9mcy5yZWFkRmlsZSh0LHtlbmNvZGluZzoidXRmOCJ9LGZ1bmN0aW9uKHksaCl7dT1oLGQoeSl9KSx0aGlzLl9mcy5yZWFkRmlsZShyLGZ1bmN0aW9uKHksaCl7IXkmJmgmJmgubGVuZ3RoPjA/KGY9aC5zbGljZSgwLDE2KSxjPWguc2xpY2UoMTYpLGkucmVjb3JkKDYwLHIpKTppLnJlY29yZCg2MSxyKSxkKCl9KX19LGUucHJvdG90eXBlLl92ZXJpZnlDYWNoZWREYXRhPWZ1bmN0aW9uKHQscixpLG8sdSl7dmFyIGM9dGhpczshb3x8dC5jYWNoZWREYXRhUmVqZWN0ZWR8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZj1jLl9jcnlwdG8uY3JlYXRlSGFzaCgibWQ1IikudXBkYXRlKHIsInV0ZjgiKS5kaWdlc3QoKTtvLmVxdWFscyhmKXx8KHUuZ2V0Q29uZmlnKCkub25FcnJvcihuZXcgRXJyb3IoIkZBSUxFRCBUTyBWRVJJRlkgQ0FDSEVEIERBVEEsIGRlbGV0aW5nIHN0YWxlICciK2krIicgbm93LCBidXQgYSBSRVNUQVJUIElTIFJFUVVJUkVEIikpLGMuX2ZzLnVubGluayhpLGZ1bmN0aW9uKHApe3AmJnUuZ2V0Q29uZmlnKCkub25FcnJvcihwKX0pKX0sTWF0aC5jZWlsKDVlMyooMStNYXRoLnJhbmRvbSgpKSkpfSxlLl9CT009NjUyNzksZS5fUFJFRklYPSIoZnVuY3Rpb24gKHJlcXVpcmUsIGRlZmluZSwgX19maWxlbmFtZSwgX19kaXJuYW1lKSB7ICIsZS5fU1VGRklYPWANCiAgfSk7YCxlfSgpO2Z1bmN0aW9uIF8oZSx0KXtpZih0Ll9fJF9faXNSZWNvcmRlZClyZXR1cm4gdDt2YXIgcj1mdW5jdGlvbihvKXtlLnJlY29yZCgzMyxvKTt0cnl7cmV0dXJuIHQobyl9ZmluYWxseXtlLnJlY29yZCgzNCxvKX19O3JldHVybiByLl9fJF9faXNSZWNvcmRlZD0hMCxyfWwuZW5zdXJlUmVjb3JkZWROb2RlUmVxdWlyZT1fO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIG5ldyBFKGUpfWwuY3JlYXRlU2NyaXB0TG9hZGVyPXN9KShBTURMb2FkZXJ8fChBTURMb2FkZXI9e30pKTt2YXIgQU1ETG9hZGVyOyhmdW5jdGlvbihsKXt2YXIgRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3QhPT0tMT90aGlzLmZyb21Nb2R1bGVQYXRoPWUuc3Vic3RyKDAsdCsxKTp0aGlzLmZyb21Nb2R1bGVQYXRoPSIifXJldHVybiBzLl9ub3JtYWxpemVNb2R1bGVJZD1mdW5jdGlvbihlKXt2YXIgdD1lLHI7Zm9yKHI9L1wvXC5cLy87ci50ZXN0KHQpOyl0PXQucmVwbGFjZShyLCIvIik7Zm9yKHQ9dC5yZXBsYWNlKC9eXC5cLy9nLCIiKSxyPS9cLygoW15cL10pfChbXlwvXVteXC9cLl0pfChbXlwvXC5dW15cL10pfChbXlwvXVteXC9dW15cL10rKSlcL1wuXC5cLy87ci50ZXN0KHQpOyl0PXQucmVwbGFjZShyLCIvIik7cmV0dXJuIHQ9dC5yZXBsYWNlKC9eKChbXlwvXSl8KFteXC9dW15cL1wuXSl8KFteXC9cLl1bXlwvXSl8KFteXC9dW15cL11bXlwvXSspKVwvXC5cLlwvLywiIiksdH0scy5wcm90b3R5cGUucmVzb2x2ZU1vZHVsZT1mdW5jdGlvbihlKXt2YXIgdD1lO3JldHVybiBsLlV0aWxpdGllcy5pc0Fic29sdXRlUGF0aCh0KXx8KGwuVXRpbGl0aWVzLnN0YXJ0c1dpdGgodCwiLi8iKXx8bC5VdGlsaXRpZXMuc3RhcnRzV2l0aCh0LCIuLi8iKSkmJih0PXMuX25vcm1hbGl6ZU1vZHVsZUlkKHRoaXMuZnJvbU1vZHVsZVBhdGgrdCkpLHR9LHMuUk9PVD1uZXcgcygiIiksc30oKTtsLk1vZHVsZUlkUmVzb2x2ZXI9RTt2YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHMoZSx0LHIsaSxvLHUpe3RoaXMuaWQ9ZSx0aGlzLnN0cklkPXQsdGhpcy5kZXBlbmRlbmNpZXM9cix0aGlzLl9jYWxsYmFjaz1pLHRoaXMuX2Vycm9yYmFjaz1vLHRoaXMubW9kdWxlSWRSZXNvbHZlcj11LHRoaXMuZXhwb3J0cz17fSx0aGlzLmVycm9yPW51bGwsdGhpcy5leHBvcnRzUGFzc2VkSW49ITEsdGhpcy51bnJlc29sdmVkRGVwZW5kZW5jaWVzQ291bnQ9dGhpcy5kZXBlbmRlbmNpZXMubGVuZ3RoLHRoaXMuX2lzQ29tcGxldGU9ITF9cmV0dXJuIHMuX3NhZmVJbnZva2VGdW5jdGlvbj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm57cmV0dXJuZWRWYWx1ZTplLmFwcGx5KGwuZ2xvYmFsLHQpLHByb2R1Y2VkRXJyb3I6bnVsbH19Y2F0Y2gocil7cmV0dXJue3JldHVybmVkVmFsdWU6bnVsbCxwcm9kdWNlZEVycm9yOnJ9fX0scy5faW52b2tlRmFjdG9yeT1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gZS5pc0J1aWxkKCkmJiFsLlV0aWxpdGllcy5pc0Fub255bW91c01vZHVsZSh0KT97cmV0dXJuZWRWYWx1ZTpudWxsLHByb2R1Y2VkRXJyb3I6bnVsbH06ZS5zaG91bGRDYXRjaEVycm9yKCk/dGhpcy5fc2FmZUludm9rZUZ1bmN0aW9uKHIsaSk6e3JldHVybmVkVmFsdWU6ci5hcHBseShsLmdsb2JhbCxpKSxwcm9kdWNlZEVycm9yOm51bGx9fSxzLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbihlLHQscil7dGhpcy5faXNDb21wbGV0ZT0hMDt2YXIgaT1udWxsO2lmKHRoaXMuX2NhbGxiYWNrKWlmKHR5cGVvZiB0aGlzLl9jYWxsYmFjaz09ImZ1bmN0aW9uIil7ZS5yZWNvcmQoMjEsdGhpcy5zdHJJZCk7dmFyIG89cy5faW52b2tlRmFjdG9yeSh0LHRoaXMuc3RySWQsdGhpcy5fY2FsbGJhY2sscik7aT1vLnByb2R1Y2VkRXJyb3IsZS5yZWNvcmQoMjIsdGhpcy5zdHJJZCksIWkmJnR5cGVvZiBvLnJldHVybmVkVmFsdWUhPSJ1bmRlZmluZWQiJiYoIXRoaXMuZXhwb3J0c1Bhc3NlZElufHxsLlV0aWxpdGllcy5pc0VtcHR5KHRoaXMuZXhwb3J0cykpJiYodGhpcy5leHBvcnRzPW8ucmV0dXJuZWRWYWx1ZSl9ZWxzZSB0aGlzLmV4cG9ydHM9dGhpcy5fY2FsbGJhY2s7aWYoaSl7dmFyIHU9bC5lbnN1cmVFcnJvcihpKTt1LnBoYXNlPSJmYWN0b3J5Iix1Lm1vZHVsZUlkPXRoaXMuc3RySWQsdGhpcy5lcnJvcj11LHQub25FcnJvcih1KX10aGlzLmRlcGVuZGVuY2llcz1udWxsLHRoaXMuX2NhbGxiYWNrPW51bGwsdGhpcy5fZXJyb3JiYWNrPW51bGwsdGhpcy5tb2R1bGVJZFJlc29sdmVyPW51bGx9LHMucHJvdG90eXBlLm9uRGVwZW5kZW5jeUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pc0NvbXBsZXRlPSEwLHRoaXMuZXJyb3I9ZSx0aGlzLl9lcnJvcmJhY2s/KHRoaXMuX2Vycm9yYmFjayhlKSwhMCk6ITF9LHMucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb21wbGV0ZX0sc30oKTtsLk1vZHVsZT12O3ZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcygpe3RoaXMuX25leHRJZD0wLHRoaXMuX3N0ck1vZHVsZUlkVG9JbnRNb2R1bGVJZD1uZXcgTWFwLHRoaXMuX2ludE1vZHVsZUlkVG9TdHJNb2R1bGVJZD1bXSx0aGlzLmdldE1vZHVsZUlkKCJleHBvcnRzIiksdGhpcy5nZXRNb2R1bGVJZCgibW9kdWxlIiksdGhpcy5nZXRNb2R1bGVJZCgicmVxdWlyZSIpfXJldHVybiBzLnByb3RvdHlwZS5nZXRNYXhNb2R1bGVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXh0SWR9LHMucHJvdG90eXBlLmdldE1vZHVsZUlkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N0ck1vZHVsZUlkVG9JbnRNb2R1bGVJZC5nZXQoZSk7cmV0dXJuIHR5cGVvZiB0PT0idW5kZWZpbmVkIiYmKHQ9dGhpcy5fbmV4dElkKyssdGhpcy5fc3RyTW9kdWxlSWRUb0ludE1vZHVsZUlkLnNldChlLHQpLHRoaXMuX2ludE1vZHVsZUlkVG9TdHJNb2R1bGVJZFt0XT1lKSx0fSxzLnByb3RvdHlwZS5nZXRTdHJNb2R1bGVJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW50TW9kdWxlSWRUb1N0ck1vZHVsZUlkW2VdfSxzfSgpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzKGUpe3RoaXMuaWQ9ZX1yZXR1cm4gcy5FWFBPUlRTPW5ldyBzKDApLHMuTU9EVUxFPW5ldyBzKDEpLHMuUkVRVUlSRT1uZXcgcygyKSxzfSgpO2wuUmVndWxhckRlcGVuZGVuY3k9YTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHMoZSx0LHIpe3RoaXMuaWQ9ZSx0aGlzLnBsdWdpbklkPXQsdGhpcy5wbHVnaW5QYXJhbT1yfXJldHVybiBzfSgpO2wuUGx1Z2luRGVwZW5kZW5jeT1uO3ZhciBfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyhlLHQscixpLG8pe289PT12b2lkIDAmJihvPTApLHRoaXMuX2Vudj1lLHRoaXMuX3NjcmlwdExvYWRlcj10LHRoaXMuX2xvYWRlckF2YWlsYWJsZVRpbWVzdGFtcD1vLHRoaXMuX2RlZmluZUZ1bmM9cix0aGlzLl9yZXF1aXJlRnVuYz1pLHRoaXMuX21vZHVsZUlkUHJvdmlkZXI9bmV3IGcsdGhpcy5fY29uZmlnPW5ldyBsLkNvbmZpZ3VyYXRpb24odGhpcy5fZW52KSx0aGlzLl9oYXNEZXBlbmRlbmN5Q3ljbGU9ITEsdGhpcy5fbW9kdWxlczI9W10sdGhpcy5fa25vd25Nb2R1bGVzMj1bXSx0aGlzLl9pbnZlcnNlRGVwZW5kZW5jaWVzMj1bXSx0aGlzLl9pbnZlcnNlUGx1Z2luRGVwZW5kZW5jaWVzMj1uZXcgTWFwLHRoaXMuX2N1cnJlbnRBbm9ueW1vdXNEZWZpbmVDYWxsPW51bGwsdGhpcy5fcmVjb3JkZXI9bnVsbCx0aGlzLl9idWlsZEluZm9QYXRoPVtdLHRoaXMuX2J1aWxkSW5mb0RlZmluZVN0YWNrPVtdLHRoaXMuX2J1aWxkSW5mb0RlcGVuZGVuY2llcz1bXX1yZXR1cm4gcy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHModGhpcy5fZW52LHRoaXMuX3NjcmlwdExvYWRlcix0aGlzLl9kZWZpbmVGdW5jLHRoaXMuX3JlcXVpcmVGdW5jLHRoaXMuX2xvYWRlckF2YWlsYWJsZVRpbWVzdGFtcCl9LHMucHJvdG90eXBlLmdldEdsb2JhbEFNRERlZmluZUZ1bmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmaW5lRnVuY30scy5wcm90b3R5cGUuZ2V0R2xvYmFsQU1EUmVxdWlyZUZ1bmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVxdWlyZUZ1bmN9LHMuX2ZpbmRSZWxldmFudExvY2F0aW9uSW5TdGFjaz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1mdW5jdGlvbihtKXtyZXR1cm4gbS5yZXBsYWNlKC9cXC9nLCIvIil9LGk9cihlKSxvPXQuc3BsaXQoL1xuLyksdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgYz1vW3VdLm1hdGNoKC8oLiopOihcZCspOihcZCspXCk/JC8pO2lmKGMpe3ZhciBmPWNbMV0scD1jWzJdLGQ9Y1szXSx5PU1hdGgubWF4KGYubGFzdEluZGV4T2YoIiAiKSsxLGYubGFzdEluZGV4T2YoIigiKSsxKTtpZihmPWYuc3Vic3RyKHkpLGY9cihmKSxmPT09aSl7dmFyIGg9e2xpbmU6cGFyc2VJbnQocCwxMCksY29sOnBhcnNlSW50KGQsMTApfTtyZXR1cm4gaC5saW5lPT09MSYmKGguY29sLT0iKGZ1bmN0aW9uIChyZXF1aXJlLCBkZWZpbmUsIF9fZmlsZW5hbWUsIF9fZGlybmFtZSkgeyAiLmxlbmd0aCksaH19fXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGNvcnJlbGF0ZSBkZWZpbmUgY2FsbCBzaXRlIGZvciBuZWVkbGUgIitlKX0scy5wcm90b3R5cGUuZ2V0QnVpbGRJbmZvPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NvbmZpZy5pc0J1aWxkKCkpcmV0dXJuIG51bGw7Zm9yKHZhciBlPVtdLHQ9MCxyPTAsaT10aGlzLl9tb2R1bGVzMi5sZW5ndGg7cjxpO3IrKyl7dmFyIG89dGhpcy5fbW9kdWxlczJbcl07aWYoISFvKXt2YXIgdT10aGlzLl9idWlsZEluZm9QYXRoW28uaWRdfHxudWxsLGM9dGhpcy5fYnVpbGRJbmZvRGVmaW5lU3RhY2tbby5pZF18fG51bGwsZj10aGlzLl9idWlsZEluZm9EZXBlbmRlbmNpZXNbby5pZF07ZVt0KytdPXtpZDpvLnN0cklkLHBhdGg6dSxkZWZpbmVMb2NhdGlvbjp1JiZjP3MuX2ZpbmRSZWxldmFudExvY2F0aW9uSW5TdGFjayh1LGMpOm51bGwsZGVwZW5kZW5jaWVzOmYsc2hpbTpudWxsLGV4cG9ydHM6by5leHBvcnRzfX19cmV0dXJuIGV9LHMucHJvdG90eXBlLmdldFJlY29yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY29yZGVyfHwodGhpcy5fY29uZmlnLnNob3VsZFJlY29yZFN0YXRzKCk/dGhpcy5fcmVjb3JkZXI9bmV3IGwuTG9hZGVyRXZlbnRSZWNvcmRlcih0aGlzLl9sb2FkZXJBdmFpbGFibGVUaW1lc3RhbXApOnRoaXMuX3JlY29yZGVyPWwuTnVsbExvYWRlckV2ZW50UmVjb3JkZXIuSU5TVEFOQ0UpLHRoaXMuX3JlY29yZGVyfSxzLnByb3RvdHlwZS5nZXRMb2FkZXJFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZWNvcmRlcigpLmdldEV2ZW50cygpfSxzLnByb3RvdHlwZS5lbnF1ZXVlRGVmaW5lQW5vbnltb3VzTW9kdWxlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fY3VycmVudEFub255bW91c0RlZmluZUNhbGwhPT1udWxsKXRocm93IG5ldyBFcnJvcigiQ2FuIG9ubHkgaGF2ZSBvbmUgYW5vbnltb3VzIGRlZmluZSBjYWxsIHBlciBzY3JpcHQgZmlsZSIpO3ZhciByPW51bGw7dGhpcy5fY29uZmlnLmlzQnVpbGQoKSYmKHI9bmV3IEVycm9yKCJTdGFja0xvY2F0aW9uIikuc3RhY2t8fG51bGwpLHRoaXMuX2N1cnJlbnRBbm9ueW1vdXNEZWZpbmVDYWxsPXtzdGFjazpyLGRlcGVuZGVuY2llczplLGNhbGxiYWNrOnR9fSxzLnByb3RvdHlwZS5kZWZpbmVNb2R1bGU9ZnVuY3Rpb24oZSx0LHIsaSxvLHUpe3ZhciBjPXRoaXM7dT09PXZvaWQgMCYmKHU9bmV3IEUoZSkpO3ZhciBmPXRoaXMuX21vZHVsZUlkUHJvdmlkZXIuZ2V0TW9kdWxlSWQoZSk7aWYodGhpcy5fbW9kdWxlczJbZl0pe3RoaXMuX2NvbmZpZy5pc0R1cGxpY2F0ZU1lc3NhZ2VJZ25vcmVkRm9yKGUpfHxjb25zb2xlLndhcm4oIkR1cGxpY2F0ZSBkZWZpbml0aW9uIG9mIG1vZHVsZSAnIitlKyInIik7cmV0dXJufXZhciBwPW5ldyB2KGYsZSx0aGlzLl9ub3JtYWxpemVEZXBlbmRlbmNpZXModCx1KSxyLGksdSk7dGhpcy5fbW9kdWxlczJbZl09cCx0aGlzLl9jb25maWcuaXNCdWlsZCgpJiYodGhpcy5fYnVpbGRJbmZvRGVmaW5lU3RhY2tbZl09byx0aGlzLl9idWlsZEluZm9EZXBlbmRlbmNpZXNbZl09KHAuZGVwZW5kZW5jaWVzfHxbXSkubWFwKGZ1bmN0aW9uKGQpe3JldHVybiBjLl9tb2R1bGVJZFByb3ZpZGVyLmdldFN0ck1vZHVsZUlkKGQuaWQpfSkpLHRoaXMuX3Jlc29sdmUocCl9LHMucHJvdG90eXBlLl9ub3JtYWxpemVEZXBlbmRlbmN5PWZ1bmN0aW9uKGUsdCl7aWYoZT09PSJleHBvcnRzIilyZXR1cm4gYS5FWFBPUlRTO2lmKGU9PT0ibW9kdWxlIilyZXR1cm4gYS5NT0RVTEU7aWYoZT09PSJyZXF1aXJlIilyZXR1cm4gYS5SRVFVSVJFO3ZhciByPWUuaW5kZXhPZigiISIpO2lmKHI+PTApe3ZhciBpPXQucmVzb2x2ZU1vZHVsZShlLnN1YnN0cigwLHIpKSxvPXQucmVzb2x2ZU1vZHVsZShlLnN1YnN0cihyKzEpKSx1PXRoaXMuX21vZHVsZUlkUHJvdmlkZXIuZ2V0TW9kdWxlSWQoaSsiISIrbyksYz10aGlzLl9tb2R1bGVJZFByb3ZpZGVyLmdldE1vZHVsZUlkKGkpO3JldHVybiBuZXcgbih1LGMsbyl9cmV0dXJuIG5ldyBhKHRoaXMuX21vZHVsZUlkUHJvdmlkZXIuZ2V0TW9kdWxlSWQodC5yZXNvbHZlTW9kdWxlKGUpKSl9LHMucHJvdG90eXBlLl9ub3JtYWxpemVEZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT0wLG89MCx1PWUubGVuZ3RoO288dTtvKyspcltpKytdPXRoaXMuX25vcm1hbGl6ZURlcGVuZGVuY3koZVtvXSx0KTtyZXR1cm4gcn0scy5wcm90b3R5cGUuX3JlbGF0aXZlUmVxdWlyZT1mdW5jdGlvbihlLHQscixpKXtpZih0eXBlb2YgdD09InN0cmluZyIpcmV0dXJuIHRoaXMuc3luY2hyb25vdXNSZXF1aXJlKHQsZSk7dGhpcy5kZWZpbmVNb2R1bGUobC5VdGlsaXRpZXMuZ2VuZXJhdGVBbm9ueW1vdXNNb2R1bGUoKSx0LHIsaSxudWxsLGUpfSxzLnByb3RvdHlwZS5zeW5jaHJvbm91c1JlcXVpcmU9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD1uZXcgRShlKSk7dmFyIHI9dGhpcy5fbm9ybWFsaXplRGVwZW5kZW5jeShlLHQpLGk9dGhpcy5fbW9kdWxlczJbci5pZF07aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJDaGVjayBkZXBlbmRlbmN5IGxpc3QhIFN5bmNocm9ub3VzIHJlcXVpcmUgY2Fubm90IHJlc29sdmUgbW9kdWxlICciK2UrIicuIFRoaXMgaXMgdGhlIGZpcnN0IG1lbnRpb24gb2YgdGhpcyBtb2R1bGUhIik7aWYoIWkuaXNDb21wbGV0ZSgpKXRocm93IG5ldyBFcnJvcigiQ2hlY2sgZGVwZW5kZW5jeSBsaXN0ISBTeW5jaHJvbm91cyByZXF1aXJlIGNhbm5vdCByZXNvbHZlIG1vZHVsZSAnIitlKyInLiBUaGlzIG1vZHVsZSBoYXMgbm90IGJlZW4gcmVzb2x2ZWQgY29tcGxldGVseSB5ZXQuIik7aWYoaS5lcnJvcil0aHJvdyBpLmVycm9yO3JldHVybiBpLmV4cG9ydHN9LHMucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2NvbmZpZy5zaG91bGRSZWNvcmRTdGF0cygpO3Q/dGhpcy5fY29uZmlnPW5ldyBsLkNvbmZpZ3VyYXRpb24odGhpcy5fZW52LGUpOnRoaXMuX2NvbmZpZz10aGlzLl9jb25maWcuY2xvbmVBbmRNZXJnZShlKSx0aGlzLl9jb25maWcuc2hvdWxkUmVjb3JkU3RhdHMoKSYmIXImJih0aGlzLl9yZWNvcmRlcj1udWxsKX0scy5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ30scy5wcm90b3R5cGUuX29uTG9hZD1mdW5jdGlvbihlKXtpZih0aGlzLl9jdXJyZW50QW5vbnltb3VzRGVmaW5lQ2FsbCE9PW51bGwpe3ZhciB0PXRoaXMuX2N1cnJlbnRBbm9ueW1vdXNEZWZpbmVDYWxsO3RoaXMuX2N1cnJlbnRBbm9ueW1vdXNEZWZpbmVDYWxsPW51bGwsdGhpcy5kZWZpbmVNb2R1bGUodGhpcy5fbW9kdWxlSWRQcm92aWRlci5nZXRTdHJNb2R1bGVJZChlKSx0LmRlcGVuZGVuY2llcyx0LmNhbGxiYWNrLG51bGwsdC5zdGFjayl9fSxzLnByb3RvdHlwZS5fY3JlYXRlTG9hZEVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXRoaXMuX21vZHVsZUlkUHJvdmlkZXIuZ2V0U3RyTW9kdWxlSWQoZSksbz0odGhpcy5faW52ZXJzZURlcGVuZGVuY2llczJbZV18fFtdKS5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIHIuX21vZHVsZUlkUHJvdmlkZXIuZ2V0U3RyTW9kdWxlSWQoYyl9KSx1PWwuZW5zdXJlRXJyb3IodCk7cmV0dXJuIHUucGhhc2U9ImxvYWRpbmciLHUubW9kdWxlSWQ9aSx1Lm5lZWRlZEJ5PW8sdX0scy5wcm90b3R5cGUuX29uTG9hZEVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fY3JlYXRlTG9hZEVycm9yKGUsdCk7dGhpcy5fbW9kdWxlczJbZV18fCh0aGlzLl9tb2R1bGVzMltlXT1uZXcgdihlLHRoaXMuX21vZHVsZUlkUHJvdmlkZXIuZ2V0U3RyTW9kdWxlSWQoZSksW10sZnVuY3Rpb24oKXt9LG51bGwsbnVsbCkpO2Zvcih2YXIgaT1bXSxvPTAsdT10aGlzLl9tb2R1bGVJZFByb3ZpZGVyLmdldE1heE1vZHVsZUlkKCk7bzx1O28rKylpW29dPSExO3ZhciBjPSExLGY9W107Zm9yKGYucHVzaChlKSxpW2VdPSEwO2YubGVuZ3RoPjA7KXt2YXIgcD1mLnNoaWZ0KCksZD10aGlzLl9tb2R1bGVzMltwXTtkJiYoYz1kLm9uRGVwZW5kZW5jeUVycm9yKHIpfHxjKTt2YXIgeT10aGlzLl9pbnZlcnNlRGVwZW5kZW5jaWVzMltwXTtpZih5KWZvcih2YXIgbz0wLHU9eS5sZW5ndGg7bzx1O28rKyl7dmFyIGg9eVtvXTtpW2hdfHwoZi5wdXNoKGgpLGlbaF09ITApfX1jfHx0aGlzLl9jb25maWcub25FcnJvcihyKX0scy5wcm90b3R5cGUuX2hhc0RlcGVuZGVuY3lQYXRoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbW9kdWxlczJbZV07aWYoIXIpcmV0dXJuITE7Zm9yKHZhciBpPVtdLG89MCx1PXRoaXMuX21vZHVsZUlkUHJvdmlkZXIuZ2V0TWF4TW9kdWxlSWQoKTtvPHU7bysrKWlbb109ITE7dmFyIGM9W107Zm9yKGMucHVzaChyKSxpW2VdPSEwO2MubGVuZ3RoPjA7KXt2YXIgZj1jLnNoaWZ0KCkscD1mLmRlcGVuZGVuY2llcztpZihwKWZvcih2YXIgbz0wLHU9cC5sZW5ndGg7bzx1O28rKyl7dmFyIGQ9cFtvXTtpZihkLmlkPT09dClyZXR1cm4hMDt2YXIgeT10aGlzLl9tb2R1bGVzMltkLmlkXTt5JiYhaVtkLmlkXSYmKGlbZC5pZF09ITAsYy5wdXNoKHkpKX19cmV0dXJuITF9LHMucHJvdG90eXBlLl9maW5kQ3ljbGVQYXRoPWZ1bmN0aW9uKGUsdCxyKXtpZihlPT09dHx8cj09PTUwKXJldHVybltlXTt2YXIgaT10aGlzLl9tb2R1bGVzMltlXTtpZighaSlyZXR1cm4gbnVsbDt2YXIgbz1pLmRlcGVuZGVuY2llcztpZihvKWZvcih2YXIgdT0wLGM9by5sZW5ndGg7dTxjO3UrKyl7dmFyIGY9dGhpcy5fZmluZEN5Y2xlUGF0aChvW3VdLmlkLHQscisxKTtpZihmIT09bnVsbClyZXR1cm4gZi5wdXNoKGUpLGZ9cmV0dXJuIG51bGx9LHMucHJvdG90eXBlLl9jcmVhdGVSZXF1aXJlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1mdW5jdGlvbihpLG8sdSl7cmV0dXJuIHQuX3JlbGF0aXZlUmVxdWlyZShlLGksbyx1KX07cmV0dXJuIHIudG9Vcmw9ZnVuY3Rpb24oaSl7cmV0dXJuIHQuX2NvbmZpZy5yZXF1aXJlVG9VcmwoZS5yZXNvbHZlTW9kdWxlKGkpKX0sci5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0LmdldExvYWRlckV2ZW50cygpfSxyLmhhc0RlcGVuZGVuY3lDeWNsZT1mdW5jdGlvbigpe3JldHVybiB0Ll9oYXNEZXBlbmRlbmN5Q3ljbGV9LHIuY29uZmlnPWZ1bmN0aW9uKGksbyl7bz09PXZvaWQgMCYmKG89ITEpLHQuY29uZmlndXJlKGksbyl9LHIuX18kX19ub2RlUmVxdWlyZT1sLmdsb2JhbC5ub2RlUmVxdWlyZSxyfSxzLnByb3RvdHlwZS5fbG9hZE1vZHVsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCEodGhpcy5fbW9kdWxlczJbZV18fHRoaXMuX2tub3duTW9kdWxlczJbZV0pKXt0aGlzLl9rbm93bk1vZHVsZXMyW2VdPSEwO3ZhciByPXRoaXMuX21vZHVsZUlkUHJvdmlkZXIuZ2V0U3RyTW9kdWxlSWQoZSksaT10aGlzLl9jb25maWcubW9kdWxlSWRUb1BhdGhzKHIpLG89L15AW15cL10rXC9bXlwvXSskLzt0aGlzLl9lbnYuaXNOb2RlJiYoci5pbmRleE9mKCIvIik9PT0tMXx8by50ZXN0KHIpKSYmaS5wdXNoKCJub2RlfCIrcik7dmFyIHU9LTEsYz1mdW5jdGlvbihmKXtpZih1KyssdT49aS5sZW5ndGgpdC5fb25Mb2FkRXJyb3IoZSxmKTtlbHNle3ZhciBwPWlbdV0sZD10LmdldFJlY29yZGVyKCk7aWYodC5fY29uZmlnLmlzQnVpbGQoKSYmcD09PSJlbXB0eToiKXt0Ll9idWlsZEluZm9QYXRoW2VdPXAsdC5kZWZpbmVNb2R1bGUodC5fbW9kdWxlSWRQcm92aWRlci5nZXRTdHJNb2R1bGVJZChlKSxbXSxudWxsLG51bGwsbnVsbCksdC5fb25Mb2FkKGUpO3JldHVybn1kLnJlY29yZCgxMCxwKSx0Ll9zY3JpcHRMb2FkZXIubG9hZCh0LHAsZnVuY3Rpb24oKXt0Ll9jb25maWcuaXNCdWlsZCgpJiYodC5fYnVpbGRJbmZvUGF0aFtlXT1wKSxkLnJlY29yZCgxMSxwKSx0Ll9vbkxvYWQoZSl9LGZ1bmN0aW9uKHkpe2QucmVjb3JkKDEyLHApLGMoeSl9KX19O2MobnVsbCl9fSxzLnByb3RvdHlwZS5fbG9hZFBsdWdpbkRlcGVuZGVuY3k9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKCEodGhpcy5fbW9kdWxlczJbdC5pZF18fHRoaXMuX2tub3duTW9kdWxlczJbdC5pZF0pKXt0aGlzLl9rbm93bk1vZHVsZXMyW3QuaWRdPSEwO3ZhciBpPWZ1bmN0aW9uKG8pe3IuZGVmaW5lTW9kdWxlKHIuX21vZHVsZUlkUHJvdmlkZXIuZ2V0U3RyTW9kdWxlSWQodC5pZCksW10sbyxudWxsLG51bGwpfTtpLmVycm9yPWZ1bmN0aW9uKG8pe3IuX2NvbmZpZy5vbkVycm9yKHIuX2NyZWF0ZUxvYWRFcnJvcih0LmlkLG8pKX0sZS5sb2FkKHQucGx1Z2luUGFyYW0sdGhpcy5fY3JlYXRlUmVxdWlyZShFLlJPT1QpLGksdGhpcy5fY29uZmlnLmdldE9wdGlvbnNMaXRlcmFsKCkpfX0scy5wcm90b3R5cGUuX3Jlc29sdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZGVwZW5kZW5jaWVzO2lmKHIpZm9yKHZhciBpPTAsbz1yLmxlbmd0aDtpPG87aSsrKXt2YXIgdT1yW2ldO2lmKHU9PT1hLkVYUE9SVFMpe2UuZXhwb3J0c1Bhc3NlZEluPSEwLGUudW5yZXNvbHZlZERlcGVuZGVuY2llc0NvdW50LS07Y29udGludWV9aWYodT09PWEuTU9EVUxFKXtlLnVucmVzb2x2ZWREZXBlbmRlbmNpZXNDb3VudC0tO2NvbnRpbnVlfWlmKHU9PT1hLlJFUVVJUkUpe2UudW5yZXNvbHZlZERlcGVuZGVuY2llc0NvdW50LS07Y29udGludWV9dmFyIGM9dGhpcy5fbW9kdWxlczJbdS5pZF07aWYoYyYmYy5pc0NvbXBsZXRlKCkpe2lmKGMuZXJyb3Ipe2Uub25EZXBlbmRlbmN5RXJyb3IoYy5lcnJvcik7cmV0dXJufWUudW5yZXNvbHZlZERlcGVuZGVuY2llc0NvdW50LS07Y29udGludWV9aWYodGhpcy5faGFzRGVwZW5kZW5jeVBhdGgodS5pZCxlLmlkKSl7dGhpcy5faGFzRGVwZW5kZW5jeUN5Y2xlPSEwLGNvbnNvbGUud2FybigiVGhlcmUgaXMgYSBkZXBlbmRlbmN5IGN5Y2xlIGJldHdlZW4gJyIrdGhpcy5fbW9kdWxlSWRQcm92aWRlci5nZXRTdHJNb2R1bGVJZCh1LmlkKSsiJyBhbmQgJyIrdGhpcy5fbW9kdWxlSWRQcm92aWRlci5nZXRTdHJNb2R1bGVJZChlLmlkKSsiJy4gVGhlIGN5Y2xpYyBwYXRoIGZvbGxvd3M6Iik7dmFyIGY9dGhpcy5fZmluZEN5Y2xlUGF0aCh1LmlkLGUuaWQsMCl8fFtdO2YucmV2ZXJzZSgpLGYucHVzaCh1LmlkKSxjb25zb2xlLndhcm4oZi5tYXAoZnVuY3Rpb24oeSl7cmV0dXJuIHQuX21vZHVsZUlkUHJvdmlkZXIuZ2V0U3RyTW9kdWxlSWQoeSl9KS5qb2luKGAgPT4gDQogIGApKSxlLnVucmVzb2x2ZWREZXBlbmRlbmNpZXNDb3VudC0tO2NvbnRpbnVlfWlmKHRoaXMuX2ludmVyc2VEZXBlbmRlbmNpZXMyW3UuaWRdPXRoaXMuX2ludmVyc2VEZXBlbmRlbmNpZXMyW3UuaWRdfHxbXSx0aGlzLl9pbnZlcnNlRGVwZW5kZW5jaWVzMlt1LmlkXS5wdXNoKGUuaWQpLHUgaW5zdGFuY2VvZiBuKXt2YXIgcD10aGlzLl9tb2R1bGVzMlt1LnBsdWdpbklkXTtpZihwJiZwLmlzQ29tcGxldGUoKSl7dGhpcy5fbG9hZFBsdWdpbkRlcGVuZGVuY3kocC5leHBvcnRzLHUpO2NvbnRpbnVlfXZhciBkPXRoaXMuX2ludmVyc2VQbHVnaW5EZXBlbmRlbmNpZXMyLmdldCh1LnBsdWdpbklkKTtkfHwoZD1bXSx0aGlzLl9pbnZlcnNlUGx1Z2luRGVwZW5kZW5jaWVzMi5zZXQodS5wbHVnaW5JZCxkKSksZC5wdXNoKHUpLHRoaXMuX2xvYWRNb2R1bGUodS5wbHVnaW5JZCk7Y29udGludWV9dGhpcy5fbG9hZE1vZHVsZSh1LmlkKX1lLnVucmVzb2x2ZWREZXBlbmRlbmNpZXNDb3VudD09PTAmJnRoaXMuX29uTW9kdWxlQ29tcGxldGUoZSl9LHMucHJvdG90eXBlLl9vbk1vZHVsZUNvbXBsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLmdldFJlY29yZGVyKCk7aWYoIWUuaXNDb21wbGV0ZSgpKXt2YXIgaT1lLmRlcGVuZGVuY2llcyxvPVtdO2lmKGkpZm9yKHZhciB1PTAsYz1pLmxlbmd0aDt1PGM7dSsrKXt2YXIgZj1pW3VdO2lmKGY9PT1hLkVYUE9SVFMpe29bdV09ZS5leHBvcnRzO2NvbnRpbnVlfWlmKGY9PT1hLk1PRFVMRSl7b1t1XT17aWQ6ZS5zdHJJZCxjb25maWc6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fY29uZmlnLmdldENvbmZpZ0Zvck1vZHVsZShlLnN0cklkKX19O2NvbnRpbnVlfWlmKGY9PT1hLlJFUVVJUkUpe29bdV09dGhpcy5fY3JlYXRlUmVxdWlyZShlLm1vZHVsZUlkUmVzb2x2ZXIpO2NvbnRpbnVlfXZhciBwPXRoaXMuX21vZHVsZXMyW2YuaWRdO2lmKHApe29bdV09cC5leHBvcnRzO2NvbnRpbnVlfW9bdV09bnVsbH1lLmNvbXBsZXRlKHIsdGhpcy5fY29uZmlnLG8pO3ZhciBkPXRoaXMuX2ludmVyc2VEZXBlbmRlbmNpZXMyW2UuaWRdO2lmKHRoaXMuX2ludmVyc2VEZXBlbmRlbmNpZXMyW2UuaWRdPW51bGwsZClmb3IodmFyIHU9MCxjPWQubGVuZ3RoO3U8Yzt1Kyspe3ZhciB5PWRbdV0saD10aGlzLl9tb2R1bGVzMlt5XTtoLnVucmVzb2x2ZWREZXBlbmRlbmNpZXNDb3VudC0tLGgudW5yZXNvbHZlZERlcGVuZGVuY2llc0NvdW50PT09MCYmdGhpcy5fb25Nb2R1bGVDb21wbGV0ZShoKX12YXIgbT10aGlzLl9pbnZlcnNlUGx1Z2luRGVwZW5kZW5jaWVzMi5nZXQoZS5pZCk7aWYobSl7dGhpcy5faW52ZXJzZVBsdWdpbkRlcGVuZGVuY2llczIuZGVsZXRlKGUuaWQpO2Zvcih2YXIgdT0wLGM9bS5sZW5ndGg7dTxjO3UrKyl0aGlzLl9sb2FkUGx1Z2luRGVwZW5kZW5jeShlLmV4cG9ydHMsbVt1XSl9fX0sc30oKTtsLk1vZHVsZU1hbmFnZXI9X30pKEFNRExvYWRlcnx8KEFNRExvYWRlcj17fSkpO3ZhciBkZWZpbmUsQU1ETG9hZGVyOyhmdW5jdGlvbihsKXt2YXIgRT1uZXcgbC5FbnZpcm9ubWVudCx2PW51bGwsZz1mdW5jdGlvbihzLGUsdCl7dHlwZW9mIHMhPSJzdHJpbmciJiYodD1lLGU9cyxzPW51bGwpLCh0eXBlb2YgZSE9Im9iamVjdCJ8fCFBcnJheS5pc0FycmF5KGUpKSYmKHQ9ZSxlPW51bGwpLGV8fChlPVsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSkscz92LmRlZmluZU1vZHVsZShzLGUsdCxudWxsLG51bGwpOnYuZW5xdWV1ZURlZmluZUFub255bW91c01vZHVsZShlLHQpfTtnLmFtZD17alF1ZXJ5OiEwfTt2YXIgYT1mdW5jdGlvbihzLGUpe2U9PT12b2lkIDAmJihlPSExKSx2LmNvbmZpZ3VyZShzLGUpfSxuPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTEpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgT2JqZWN0JiYhQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKXthKGFyZ3VtZW50c1swXSk7cmV0dXJufWlmKHR5cGVvZiBhcmd1bWVudHNbMF09PSJzdHJpbmciKXJldHVybiB2LnN5bmNocm9ub3VzUmVxdWlyZShhcmd1bWVudHNbMF0pfWlmKChhcmd1bWVudHMubGVuZ3RoPT09Mnx8YXJndW1lbnRzLmxlbmd0aD09PTMpJiZBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpe3YuZGVmaW5lTW9kdWxlKGwuVXRpbGl0aWVzLmdlbmVyYXRlQW5vbnltb3VzTW9kdWxlKCksYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0sbnVsbCk7cmV0dXJufXRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHJlcXVpcmUgY2FsbCIpfTtuLmNvbmZpZz1hLG4uZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHYuZ2V0Q29uZmlnKCkuZ2V0T3B0aW9uc0xpdGVyYWwoKX0sbi5yZXNldD1mdW5jdGlvbigpe3Y9di5yZXNldCgpfSxuLmdldEJ1aWxkSW5mbz1mdW5jdGlvbigpe3JldHVybiB2LmdldEJ1aWxkSW5mbygpfSxuLmdldFN0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIHYuZ2V0TG9hZGVyRXZlbnRzKCl9LG4uZGVmaW5lPWc7ZnVuY3Rpb24gXygpe2lmKHR5cGVvZiBsLmdsb2JhbC5yZXF1aXJlIT0idW5kZWZpbmVkInx8dHlwZW9mIHJlcXVpcmUhPSJ1bmRlZmluZWQiKXt2YXIgcz1sLmdsb2JhbC5yZXF1aXJlfHxyZXF1aXJlO2lmKHR5cGVvZiBzPT0iZnVuY3Rpb24iJiZ0eXBlb2Ygcy5yZXNvbHZlPT0iZnVuY3Rpb24iKXt2YXIgZT1sLmVuc3VyZVJlY29yZGVkTm9kZVJlcXVpcmUodi5nZXRSZWNvcmRlcigpLHMpO2wuZ2xvYmFsLm5vZGVSZXF1aXJlPWUsbi5ub2RlUmVxdWlyZT1lLG4uX18kX19ub2RlUmVxdWlyZT1lfX1FLmlzTm9kZSYmIUUuaXNFbGVjdHJvblJlbmRlcmVyJiYhRS5pc0VsZWN0cm9uTm9kZUludGVncmF0aW9uV2ViV29ya2VyPyhtb2R1bGUuZXhwb3J0cz1uLHJlcXVpcmU9bik6KEUuaXNFbGVjdHJvblJlbmRlcmVyfHwobC5nbG9iYWwuZGVmaW5lPWcpLGwuZ2xvYmFsLnJlcXVpcmU9bil9bC5pbml0PV8sKHR5cGVvZiBsLmdsb2JhbC5kZWZpbmUhPSJmdW5jdGlvbiJ8fCFsLmdsb2JhbC5kZWZpbmUuYW1kKSYmKHY9bmV3IGwuTW9kdWxlTWFuYWdlcihFLGwuY3JlYXRlU2NyaXB0TG9hZGVyKEUpLGcsbixsLlV0aWxpdGllcy5nZXRIaWdoUGVyZm9ybWFuY2VUaW1lc3RhbXAoKSksdHlwZW9mIGwuZ2xvYmFsLnJlcXVpcmUhPSJ1bmRlZmluZWQiJiZ0eXBlb2YgbC5nbG9iYWwucmVxdWlyZSE9ImZ1bmN0aW9uIiYmbi5jb25maWcobC5nbG9iYWwucmVxdWlyZSksZGVmaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGcuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxkZWZpbmUuYW1kPWcuYW1kLHR5cGVvZiBkb05vdEluaXRMb2FkZXI9PSJ1bmRlZmluZWQiJiZfKCkpfSkoQU1ETG9hZGVyfHwoQU1ETG9hZGVyPXt9KSk7DQoNCiAgLy8jIHNvdXJjZU1hcHBpbmdVUkw9Li4vLi4vbWluLW1hcHMvdnMvbG9hZGVyLmpzLm1hcA0KDQoNCn0pKCk7DQoNCg==";

// pages/Icons.js

FileManager::$SOURCE['pages/Icons.js'] = "YCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGANCg0KDQp3aW5kb3cuRmlsZU1hbmFnZXIgPSB3aW5kb3cuRmlsZU1hbmFnZXIgfHwge307DQpGaWxlTWFuYWdlci5JY29ucyA9IHsNCiAgImNvZGUiICAgICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMjMgMTAuODI2djIuMzQ5Yy0xLjU2MiAwLTMgMS4zMTItMyAyLjg1NyAwIDIuMTgxIDEuMjgxIDUuOTY4LTYgNS45Njh2LTIuMDAyYzQuOTE3IDAgMy45NjYtMS42IDMuOTY2LTMuOTY3IDAtMi4wOTQgMS4yMTEtMy41IDIuMjc4LTQuMDMxLTEuMDY3LS41MzEtMi4yNzgtMS40MzgtMi4yNzgtMy4zMTIgMC0yLjM3Mi45NC00LjY5Mi0zLjk2Ni00LjY4NnYtMi4wMDJjNy4yODUgMCA2IDQuNTA2IDYgNi42ODggMCAxLjU0NCAxLjQzOCAyLjEzOCAzIDIuMTM4em0tMTktMi4xMzhjMC0yLjE4Mi0xLjI4NS02LjY4OCA2LTYuNjg4djIuMDAyYy00LjkwNi0uMDA3LTMuOTY2IDIuMzEzLTMuOTY2IDQuNjg2IDAgMS44NzUtMS4yMTEgMi43ODEtMi4yNzggMy4zMTIgMS4wNjcuNTMxIDIuMjc4IDEuOTM4IDIuMjc4IDQuMDMxIDAgMi4zNjctLjk1MSAzLjk2NyAzLjk2NiAzLjk2N3YyLjAwMmMtNy4yODEgMC02LTMuNzg3LTYtNS45NjkgMC0xLjU0NS0xLjQzOC0yLjg1Ny0zLTIuODU3di0yLjM0OWMxLjU2Mi4wMDEgMy0uNTkzIDMtMi4xMzd6bTkgNS4zMTJ2MS4yNzhjMCAxLjE0My0uNzIyIDIuMDY4LTEuNzc0IDIuMjc2bC0uMTk5LS40MzFjLjQ4Ny0uMTg0Ljc5Ny0uNzczLjc5Ny0xLjIxNmgtLjgyNHYtMS45MDdoMnptMC02aC0ydjJoMnYtMnoiLz48L3N2Zz5gLA0KICAiZm9sZGVyIiAgICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTkuNzU3IDIwLjE3MWMtLjc5MS41MjQtMS43MzkuODI5LTIuNzU3LjgyOS0yLjc2IDAtNS0yLjI0LTUtNXMyLjI0LTUgNS01IDUgMi4yNCA1IDVjMCAxLjAxOC0uMzA1IDEuOTY2LS44MjkgMi43NTdsMi44MjkgMi44MjktMS40MTQgMS40MTQtMi44MjktMi44Mjl6bS03LjY1NC44MjloLTEyLjEwM3YtMjBoN2MxLjY5NSAxLjk0MiAyLjM3MSAzIDQgM2gxMXY3LjEwM2MtMS4yNzEtMS4yOTctMy4wNDItMi4xMDMtNS0yLjEwMy0zLjg2MyAwLTcgMy4xMzctNyA3IDAgMS45NTguODA2IDMuNzI5IDIuMTAzIDV6bTQuODk3LThjMS42NTYgMCAzIDEuMzQ0IDMgM3MtMS4zNDQgMy0zIDMtMy0xLjM0NC0zLTMgMS4zNDQtMyAzLTN6Ii8+PC9zdmc+YCwNCiAgInRpbWVzIiAgICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMjMuOTU0IDIxLjAzbC05LjE4NC05LjA5NSA5LjA5Mi05LjE3NC0yLjgzMi0yLjgwNy05LjA5IDkuMTc5LTkuMTc2LTkuMDg4LTIuODEgMi44MSA5LjE4NiA5LjEwNS05LjA5NSA5LjE4NCAyLjgxIDIuODEgOS4xMTItOS4xOTIgOS4xOCA5LjF6Ii8+PC9zdmc+YCwNCiAgIm5ld0ZvbGRlciIgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbD0iY3VycmVudENvbG9yIj48cGF0aCBkPSJNMTkuNSAxM2MtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTJ2MmgtMXYtMmgtMnYtMWgydi0yaDF2MmgydjF6bS03LjE4IDRoLTE0Ljgydi0yMGg3YzEuNjk1IDEuOTQyIDIuMzcxIDMgNCAzaDEzdjcuODJjLS41NzYtLjU1NC0xLjI1Mi0xLjAwNi0yLTEuMzE5di00LjUwMWgtMTFjLTIuMzQgMC0zLjUzNy0xLjM4OC00LjkxNi0zaC00LjA4NHYxNmgxMS41MDJjLjMxMi43NDkuNzY1IDEuNDI0IDEuMzE4IDJ6Ij48L3BhdGg+PC9zdmc+YCwNCiAgIm5ld0ZpbGUiICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTguNSAxNWMtMi40ODMgMC00LjUgMi4wMTUtNC41IDQuNXMyLjAxNyA0LjUgNC41IDQuNSA0LjUtMi4wMTUgNC41LTQuNS0yLjAxNy00LjUtNC41LTQuNXptMi41IDVoLTJ2MmgtMXYtMmgtMnYtMWgydi0yaDF2MmgydjF6bS03LjE4IDRoLTEyLjgydi0yNGgxMC4xODljMy4xNjMgMCA5LjgxMSA3LjIyMyA5LjgxMSA5LjYxNHYzLjg4N2MtLjYyNC0uMjYxLTEuMjk3LS40MjItMi0uNDc2di0yLjU2OWMwLTQuMTA2LTYtMi40NTYtNi0yLjQ1NnMxLjUxOC02LTIuNjM4LTZoLTcuMzYydjIwaDkuNTAxYy4zMTMuNzQ5Ljc2NSAxLjQyNCAxLjMxOSAyeiIvPjwvc3ZnPmAsDQogICJ1cGxvYWQiICAgICAgICAgICAgOiBgPHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9ImN1cnJlbnRDb2xvciI+PHBhdGggZD0iTTE2IDE2aC0zdjVoLTJ2LTVoLTNsNC00IDQgNHptMy40NzktNS45MDhjLS4yMTItMy45NTEtMy40NzMtNy4wOTItNy40NzktNy4wOTJzLTcuMjY3IDMuMTQxLTcuNDc5IDcuMDkyYy0yLjU3LjQ2My00LjUyMSAyLjcwNi00LjUyMSA1LjQwOCAwIDMuMDM3IDIuNDYzIDUuNSA1LjUgNS41aDMuNXYtMmgtMy41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNSAwLTIuNzk3IDIuNDc5LTMuODMzIDQuNDMzLTMuNzItLjE2Ny00LjIxOCAyLjIwOC02Ljc4IDUuNTY3LTYuNzggMy40NTMgMCA1Ljg5MSAyLjc5NyA1LjU2NyA2Ljc4IDEuNzQ1LS4wNDYgNC40MzMuNzUxIDQuNDMzIDMuNzIgMCAxLjkzLTEuNTcgMy41LTMuNSAzLjVoLTMuNXYyaDMuNWMzLjAzNyAwIDUuNS0yLjQ2MyA1LjUtNS41IDAtMi43MDItMS45NTEtNC45NDUtNC41MjEtNS40MDh6Ij48L3BhdGg+PC9zdmc+YCwNCiAgInNhdmUiICAgICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTMgM2gyLjk5NnY1aC0yLjk5NnYtNXptMTEgMXYyMGgtMjR2LTI0aDIwbDQgNHptLTE3IDVoMTB2LTdoLTEwdjd6bTE1LTQuMTcxbC0yLjgyOC0yLjgyOWgtLjE3MnY5aC0xNHYtOWgtM3YyMGgyMHYtMTcuMTcxeiIvPjwvc3ZnPmAsDQoNCiAgInNlYXJjaCIgICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMjMuODA5IDIxLjY0NmwtNi4yMDUtNi4yMDVjMS4xNjctMS42MDUgMS44NTctMy41NzkgMS44NTctNS43MTEgMC01LjM2NS00LjM2NS05LjczLTkuNzMxLTkuNzMtNS4zNjUgMC05LjczIDQuMzY1LTkuNzMgOS43MyAwIDUuMzY2IDQuMzY1IDkuNzMgOS43MyA5LjczIDIuMDM0IDAgMy45MjMtLjYyNyA1LjQ4Ny0xLjY5OGw2LjIzOCA2LjIzOCAyLjM1NC0yLjM1NHptLTIwLjk1NS0xMS45MTZjMC0zLjc5MiAzLjA4NS02Ljg3NyA2Ljg3Ny02Ljg3N3M2Ljg3NyAzLjA4NSA2Ljg3NyA2Ljg3Ny0zLjA4NSA2Ljg3Ny02Ljg3NyA2Ljg3N2MtMy43OTMgMC02Ljg3Ny0zLjA4NS02Ljg3Ny02Ljg3N3oiLz48L3N2Zz5gLA0KDQogICJncmlkIiAgICAgICAgICAgICAgOiBgPHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTYgNmgtNnYtNmg2djZ6bTktNmgtNnY2aDZ2LTZ6bTkgMGgtNnY2aDZ2LTZ6bS0xOCA5aC02djZoNnYtNnptOSAwaC02djZoNnYtNnptOSAwaC02djZoNnYtNnptLTE4IDloLTZ2Nmg2di02em05IDBoLTZ2Nmg2di02em05IDBoLTZ2Nmg2di02eiIvPjwvc3ZnPmAsDQogICJkZXRhaWwiICAgICAgICAgICAgOiBgPHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTI0IDNoLTE2di0yaDE2djJ6bTAgM2gtMTZ2MmgxNnYtMnptMCA1aC0xNnYyaDE2di0yem0wIDVoLTE2djJoMTZ2LTJ6bTAgNWgtMTZ2MmgxNnYtMnptLTE4LTIwaC02djZoNnYtNnptMCA4aC02djZoNnYtNnptMCA4aC02djZoNnYtNnoiLz48L3N2Zz5gLA0KICAibGlzdCIgICAgICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0yIDIzaC0ydi0yaDJ2MnptMC0xMmgtMnYyaDJ2LTJ6bTAgNWgtMnYyaDJ2LTJ6bTAtMTVoLTJ2Mmgydi0yem0yIDB2MmgyMHYtMmgtMjB6bS0yIDVoLTJ2Mmgydi0yem0yIDdoMjB2LTJoLTIwdjJ6bTAgMTBoMjB2LTJoLTIwdjJ6bTAtMTVoMjB2LTJoLTIwdjJ6bTAgMTBoMjB2LTJoLTIwdjJ6Ii8+PC9zdmc+YCwNCiAgImdyaWQtaW1hZ2UiICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTEgMTFoLTExdi0xMWgxMXYxMXptMTMgMGgtMTF2LTExaDExdjExem0tMTMgMTNoLTExdi0xMWgxMXYxMXptMTMgMGgtMTF2LTExaDExdjExeiIvPjwvc3ZnPmAsDQoNCiAgImZvbGRlckljb24iICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTEgNWMtMS42MjkgMC0yLjMwNS0xLjA1OC00LTNoLTd2MjBoMjR2LTE3aC0xM3oiLz48L3N2Zz5gLA0KICAiZmlsZUljb24iICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xNSAydjVoNXYxNWgtMTZ2LTIwaDExem0xLTJoLTE0djI0aDIwdi0xOGwtNi02eiIvPjwvc3ZnPmAsDQogICJob21lIiAgICAgICAgICAgICAgOiBgPHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTIxIDEzdjEwaC02di02aC02djZoLTZ2LTEwaC0zbDEyLTEyIDEyIDEyaC0zem0tMS01LjkwN3YtNS4wOTNoLTN2Mi4wOTNsMyAzeiIvPjwvc3ZnPmAsDQoNCiAgImVkaXQiICAgICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTE4LjM2MyA4LjQ2NGwxLjQzMyAxLjQzMS0xMi42NyAxMi42NjktNy4xMjUgMS40MzYgMS40MzktNy4xMjcgMTIuNjY1LTEyLjY2OCAxLjQzMSAxLjQzMS0xMi4yNTUgMTIuMjI0LS43MjYgMy41ODQgMy41ODQtLjcyMyAxMi4yMjQtMTIuMjU3em0tLjA1Ni04LjQ2NGwtMi44MTUgMi44MTcgNS42OTEgNS42OTIgMi44MTctMi44MjEtNS42OTMtNS42ODh6bS0xMi4zMTggMTguNzE4bDExLjMxMy0xMS4zMTYtLjcwNS0uNzA3LTExLjMxMyAxMS4zMTQuNzA1LjcwOXoiLz48L3N2Zz5gLA0KICAiY3V0IiAgICAgICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMi4wMjYgMTQuMTE2Yy0zLjQ3NSAxLjY3My03LjUwNCAzLjYxOS04LjQ4NCA0LjA5LTEuODQ4Ljg4OS0zLjU0Mi0xLjQ0NS0zLjU0Mi0xLjQ0NWw4Ljc2MS00LjIyNiAzLjI2NSAxLjU4MXptNy45MyA2Ljg4NGMtLjY4NiAwLTEuMzkzLS4xNTQtMi4wNjQtLjQ3OS0xLjk0My0uOTQxLTIuOTUzLTMuMDAxLTIuNDk4LTQuODU0LjI2LTEuMDU3LS4yOTYtMS4yMDEtMS4xNDUtMS42MTJsLTE0LjE4OS02Ljg2NnMxLjctMi4zMjkgMy41NDYtMS40MzZjMS4xMzQuNTQ5IDUuNjg5IDIuNzQ3IDkuNjE0IDQuNjUxbC45ODUtLjQ3NGMuODUtLjQwOSAxLjQwNi0uNTUyIDEuMTQ5LTEuNjA5LS40NTEtMS44NTUuNTY0LTMuOTEzIDIuNTEtNC44NDguNjY5LS4zMjEgMS4zNzMtLjQ3MyAyLjA1NC0uNDczIDIuMzExIDAgNC4wNDUgMS42OTYgNC4wNDUgMy44MDEgMCAxLjU4Mi0uOTg2IDMuMTU2LTIuNjEzIDMuOTczLTEuNjI1LjgxNi0yLjc2NS4xOC00LjM4Ljk2NWwtLjUwNC4yNDUuNTUyLjI3YzEuNjEzLjc4OSAyLjc1NC4xNTYgNC4zNzcuOTc2IDEuNjI0LjgxOSAyLjYwNSAyLjM5MiAyLjYwNSAzLjk3IDAgMi4xMDgtMS43MzkgMy44LTQuMDQ0IDMuOHptLTIuNTU1LTEyLjgxNWMuNDg5IDEuMDIyIDEuODc2IDEuMzc4IDMuMDkyLjc5MyAxLjIxNy0uNTg0IDEuODA5LTEuODkzIDEuMzIxLTIuOTE2LS40ODktMS4wMjItMS44NzYtMS4zNzktMy4wOTMtLjc5NHMtMS44MDggMS44OTQtMS4zMiAyLjkxN3ptLTMuNjQzIDMuNjI1YzAtLjQxNC0uMzM1LS43NS0uNzUtLjc1LS40MTQgMC0uNzUuMzM2LS43NS43NXMuMzM2Ljc1Ljc1Ljc1Ljc1LS4zMzYuNzUtLjc1em02Ljc3NyAzLjIxM2MtMS4yMTUtLjU4OC0yLjYwNC0uMjM2LTMuMDk1Ljc4Ni0uNDkxIDEuMDIyLjA5OCAyLjMzMiAxLjMxMyAyLjkxOSAxLjIxNS41ODggMi42MDMuMjM1IDMuMDk0LS43ODcuNDkyLTEuMDIxLS4wOTctMi4zMy0xLjMxMi0yLjkxOHoiLz48L3N2Zz5gLA0KICAiY29weSIgICAgICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xOCA2di02aC0xOHYxOGg2djZoMTh2LTE4aC02em0tMTIgMTBoLTR2LTE0aDE0djRoLTEwdjEwem0xNiA2aC0xNHYtMTRoMTR2MTR6bS0zLThoLTN2LTNoLTJ2M2gtM3YyaDN2M2gydi0zaDN2LTJ6Ii8+PC9zdmc+YCwNCiAgInBhc3RlIiAgICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTMuNTA4IDExLjUwNGwuOTMtMi40OTQgMi45OTggNi4yNjgtNi4zMSAyLjc3OS44OTQtMi40NzhzLTguMjcxLTQuMjA1LTcuOTI0LTExLjU4YzIuNzE2IDUuOTM5IDkuNDEyIDcuNTA1IDkuNDEyIDcuNTA1em03LjQ5Mi05LjUwNHYtMmgtMjF2MjFoMnYtMTloMTl6bS0xNC42MzMgMmMuNDQxLjc1Ny45NTggMS40MjIgMS41MjEgMmgxNC4xMTJ2MTZoLTE2di04LjU0OGMtLjcxMy0uNzUyLTEuNC0xLjYxNS0yLTIuNTc2djEzLjEyNGgyMHYtMjBoLTE3LjYzM3oiLz48L3N2Zz5gLA0KICAidHJhc2giICAgICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik05IDE5YzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTQgMGMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNS0xN3YyaC0yMHYtMmg1LjcxMWMuOSAwIDEuNjMxLTEuMDk5IDEuNjMxLTJoNS4zMTVjMCAuOTAxLjczIDIgMS42MzEgMmg1LjcxMnptLTMgNHYxNmgtMTR2LTE2aC0ydjE4aDE4di0xOGgtMnoiLz48L3N2Zz5gLA0KICAicmVuYW1lIiAgICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMyAyMWMwIC41NTIuNDQ3IDEgMSAxaDJ2MmgtOHYtMmgyLjAwN2MuNTUyIDAgMS0uNDQ4IDEtMXYtMThjMC0uNTUyLS40NDgtMS0xLTFoLTIuMDA3di0yaDh2MmgtMmMtLjU1MyAwLTEgLjQ0OC0xIDF2MTh6Ii8+PC9zdmc+YCwNCiAgInppcCIgICAgICAgICAgICAgICA6IGA8c3ZnIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTQuOTk4IDJoLTUuOTk2di0yaDUuOTk2djJ6bTAgMmgtNS45OTZ2Mmg1Ljk5NnYtMnptMCA0aC01Ljk5NnYyaDUuOTk2di0yem0tMS41NCA2bDEuNDUgNS40ODRjLjQ2OSAxLjg4LTEuMDg4IDIuNTE2LTIuOTA4IDIuNTE2LTEuODEgMC0zLjM3Ni0uNjQtMi45MTYtMi40ODlsMS40NTgtNS41MTFoMi45MTZ6bTEuNTQxLTJoLTUuOTk4bC0xLjg1MSA3Yy0uNzg2IDMuMTU2IDEuNjAyIDUgNC44NSA1IDMuMjUyIDAgNS42MzUtMS44NDggNC44NDktNWwtMS44NS03em0tMi45OTkgN2MtMS4xMDQgMC0yIC40NDctMiAxcy44OTYgMSAyIDEgMi0uNDQ3IDItMS0uODk2LTEtMi0xeiIvPjwvc3ZnPmAsDQogICJ1bnppcCIgICAgICAgICAgICAgOiBgPHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTE3LjAwNSAyLjczbC0xLjcyNi0uOTk5Ljk5Ni0xLjczMSAxLjcyNS45OTktLjk5NSAxLjczMXptLS44NyAxLjY2OWwtMS44MDktLjY3OC0uNjgxIDEuODggMS44MDguNjc3LjY4Mi0xLjg3OXptLTEuMTQ4IDMuNjAxaC0xLjk4N3YyaDEuOTg3di0yem0tOC45ODctNy4wMDFsMS43MjUtLjk5OS45OTYgMS43MzEtMS43MjYuOTk5LS45OTUtMS43MzF6bTIuNTQ3IDUuMjhsMS44MDgtLjY3Ny0uNjgxLTEuODgtMS44MDkuNjc3LjY4MiAxLjg4em0uNDY2IDMuNzIxaDEuOTg3di0yaC0xLjk4N3Yyem03LjgzNyA5bC0xLjg1Mi03aC01Ljk5NmwtMS44NTIgN2MtLjc4NiAzLjE1NiAxLjYwMiA1IDQuODUgNSAzLjI1MiAwIDUuNjM1LTEuODQ4IDQuODUtNXptLTcuODQ4IDEuMTI1YzAtMi42MjcgNS45OTItMi42ODggNS45OTItLjAwNyAwIDIuNTU1LTUuOTkyIDIuNTM2LTUuOTkyLjAwN3oiLz48L3N2Zz5gLA0KICAiaGlkZGVuIiAgICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xNSAxMmMwIDEuNjU0LTEuMzQ2IDMtMyAzcy0zLTEuMzQ2LTMtMyAxLjM0Ni0zIDMtMyAzIDEuMzQ2IDMgM3ptOS0uNDQ5cy00LjI1MiA3LjQ0OS0xMS45ODUgNy40NDljLTcuMTggMC0xMi4wMTUtNy40NDktMTIuMDE1LTcuNDQ5czQuNDQ2LTYuNTUxIDEyLjAxNS02LjU1MWM3LjY5NCAwIDExLjk4NSA2LjU1MSAxMS45ODUgNi41NTF6bS03IC40NDljMC0yLjc2MS0yLjIzOC01LTUtNS0yLjc2MSAwLTUgMi4yMzktNSA1IDAgMi43NjIgMi4yMzkgNSA1IDUgMi43NjIgMCA1LTIuMjM4IDUtNXoiLz48L3N2Zz5gLA0KICAiZG93bmxvYWQiICAgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMiAyMWwtOC05aDZ2LTEyaDR2MTJoNmwtOCA5em05LTF2MmgtMTh2LTJoLTJ2NGgyMnYtNGgtMnoiLz48L3N2Zz5gLA0KICAicHJvcGVydGllcyIgICAgICAgIDogYDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMiA5Yy41NTIgMCAxIC40NDkgMSAxcy0uNDQ4IDEtMSAxLTEtLjQ0OS0xLTEgLjQ0OC0xIDEtMXptMC0yYy0xLjY1NyAwLTMgMS4zNDMtMyAzczEuMzQzIDMgMyAzIDMtMS4zNDMgMy0zLTEuMzQzLTMtMy0zem0tOSA0Yy0xLjY1NyAwLTMgMS4zNDMtMyAzczEuMzQzIDMgMyAzIDMtMS4zNDMgMy0zLTEuMzQzLTMtMy0zem0xOCAwYy0xLjY1NyAwLTMgMS4zNDMtMyAzczEuMzQzIDMgMyAzIDMtMS4zNDMgMy0zLTEuMzQzLTMtMy0zem0tOS02Yy4zNDMgMCAuNjc3LjAzNSAxIC4xMDF2LTMuMTAxYzAtLjU1Mi0uNDQ3LTEtMS0xcy0xIC40NDgtMSAxdjMuMTAxYy4zMjMtLjA2Ni42NTctLjEwMSAxLS4xMDF6bTkgNGMuMzQzIDAgLjY3Ny4wMzUgMSAuMTAxdi03LjEwMWMwLS41NTItLjQ0Ny0xLTEtMXMtMSAuNDQ4LTEgMXY3LjEwMWMuMzIzLS4wNjYuNjU3LS4xMDEgMS0uMTAxem0wIDEwYy0uMzQzIDAtLjY3Ny0uMDM1LTEtLjEwMXYzLjEwMWMwIC41NTIuNDQ3IDEgMSAxczEtLjQ0OCAxLTF2LTMuMTAxYy0uMzIzLjA2Ni0uNjU3LjEwMS0xIC4xMDF6bS0xOC0xMGMuMzQzIDAgLjY3Ny4wMzUgMSAuMTAxdi03LjEwMWMwLS41NTItLjQ0Ny0xLTEtMXMtMSAuNDQ4LTEgMXY3LjEwMWMuMzIzLS4wNjYuNjU3LS4xMDEgMS0uMTAxem05IDZjLS4zNDMgMC0uNjc3LS4wMzUtMS0uMTAxdjcuMTAxYzAgLjU1Mi40NDcgMSAxIDFzMS0uNDQ4IDEtMXYtNy4xMDFjLS4zMjMuMDY2LS42NTcuMTAxLTEgLjEwMXptLTkgNGMtLjM0MyAwLS42NzctLjAzNS0xLS4xMDF2My4xMDFjMCAuNTUyLjQ0NyAxIDEgMXMxLS40NDggMS0xdi0zLjEwMWMtLjMyMy4wNjYtLjY1Ny4xMDEtMSAuMTAxeiIvPjwvc3ZnPmAsDQogICJjb250cmFzdCIgICAgICAgICAgOiBgPHN2ZyBmaWxsPSJjdXJyZW50Q29sb3IiIHN0eWxlPSJ3aWR0aDoxLjVlbTtoZWlnaHQ6MS41ZW0iIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAtOTYwIDk2MCA5NjAiIHdpZHRoPSIyNCI+PHBhdGggZD0iTTQ4MC04MHEtODMgMC0xNTYtMzEuNVQxOTctMTk3cS01NC01NC04NS41LTEyN1Q4MC00ODBxMC04MyAzMS41LTE1NlQxOTctNzYzcTU0LTU0IDEyNy04NS41VDQ4MC04ODBxODMgMCAxNTYgMzEuNVQ3NjMtNzYzcTU0IDU0IDg1LjUgMTI3VDg4MC00ODBxMCA4My0zMS41IDE1NlQ3NjMtMTk3cS01NCA1NC0xMjcgODUuNVQ0ODAtODBabTQwLTgzcTExOS0xNSAxOTkuNS0xMDQuNVQ4MDAtNDgwcTAtMTIzLTgwLjUtMjEyLjVUNTIwLTc5N3Y2MzRaIj48L3BhdGg+PC9zdmc+YCwNCiAgDQogICJjdXN0b21GaWxlSWNvbiIgICAgOmZ1bmN0aW9uKGZpbGVOYW1lKXsNCiAgICBsZXQgZXh0ID0gZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKS50b0xvd2VyQ2FzZSgpOw0KICAgIGxldCBjb2xvcnMgPSB7DQogICAgICANCiAgICAgICJ0eHQiOiIjOTVhNWE1IiwNCg0KICAgICAgImh0bWwiOiIjZWM2NjMwIiwNCiAgICAgICJqcyI6IiNlYzY2MzAiLA0KICAgICAgImNzcyI6IiNlYzY2MzAiLA0KICAgICAgInhtbCI6IiNlYzY2MzAiLA0KDQogICAgICAianNvbiI6IiM5Nzc3YTgiLA0KICAgICAgInBocCI6IiMwNTdlZmQiLA0KICAgICAgInBuZyI6IiM2NTljMzUiLA0KICAgICAgImpwZyI6IiM0M2EwODUiLA0KICAgICAgImpwZWciOiIjNDNhMDg1IiwNCiAgICAgICJzdmciOiIjNDNhMDg1IiwNCiAgICAgICJwc2QiOiIjNTg4OWM0IiwNCiAgICAgICJwZGYiOiIjY2M0YjRjIiwNCiAgICAgICJkb2MiOiIjMDA5NmU2IiwNCiAgICAgICJkb2N4IjoiIzAwOTZlNiIsDQogICAgICAieGxzIjoiIzRiOTE1ZCIsDQogICAgICAieGxzeCI6IiM0YjkxNWQiLA0KICAgICAgInBwdCI6IiM0YjkxNWQiLA0KICAgICAgInBwdHgiOiIjNGI5MTVkIiwNCg0KICAgICAgInppcCI6IiM1NTYwODAiLA0KICAgICAgInJhciI6IiM1NTYwODAiLA0KICAgICAgInRhciI6IiM1NTYwODAiLA0KICAgICAgImd6IjoiIzU1NjA4MCIsDQoNCg0KICAgICAgIm1wMyI6IiM3ZDY1OTkiLA0KICAgICAgIndhdiI6ICIjN2Q2NTk5IiwNCiAgICAgICJvZ2ciOiAiIzdkNjU5OSIsDQoNCiAgICAgICJnaWYiOiAiIzQzYTA4NSIsDQogICAgICAiYm1wIjogIiM0M2EwODUiLA0KICAgICAgDQogICAgICAibXA0IjoiI2Y0NDMzNiIsDQogICAgICAiYXZpIjoiI2Y0NDMzNiIsDQogICAgDQogICAgICAibWt2IjogIiNmNDQzMzYiLA0KICAgICAgIm1vdiI6ICIjZjQ0MzM2IiwNCiAgICAgICJmbHYiOiAiI2Y0NDMzNiIsDQogICAgICAid212IjogIiNmNDQzMzYiLA0KICAgICAgIm1wZyI6ICIjZjQ0MzM2IiwNCiAgICAgICJtcGVnIjogIiNmNDQzMzYiLA0KICAgICAgIm00diI6ICIjZjQ0MzM2IiwNCiAgICAgICJtNGEiOiAiI2Y0NDMzNiIsDQogICAgICANCiAgICAgICJmbGFjIjogIiNmNDQzMzYiLA0KICAgICAgImFhYyI6ICIjZjQ0MzM2IiwNCiAgICAgICJ3bWEiOiAiI2Y0NDMzNiIsDQogICAgICAibXAyIjogIiNmNDQzMzYiLA0KICAgICAgIm0zdSI6ICIjZjQ0MzM2IiwNCiAgICAgICJtM3U4IjogIiNmNDQzMzYiLA0KICAgICAgInBscyI6ICIjZjQ0MzM2IiwNCiAgICAgICJjdWUiOiAiI2Y0NDMzNiIsDQogICAgICAiZGVmYXVsdCI6ICIjNTU1Ig0KICAgIH07DQogICAgbGV0IGNvbG9yPWNvbG9yc1tleHRdfHxjb2xvcnNbImRlZmF1bHQiXQ0KICAgIGV4dCA9IGV4dC50b1VwcGVyQ2FzZSgpOw0KICAgIGV4dCA9IGV4dC5zdWJzdHIoMCw1KTsNCiAgICAvKg0KICAgICAgTWlkZGxlOiAgcmVjdCB5PTksIHRleHQgeT0xNQ0KICAgICAgRG93biAgOiAgcmVjdCB5PTEzLCB0ZXh0IHk9MTkNCiAgICAqLw0KDQogICAgcmV0dXJuIGA8c3ZnIHN0eWxlPSJ3aWR0aDoxZW07aGVpZ2h0OjFlbTsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPg0KICAgICAgPHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMjIgMjRoLTIwdi0yNGgxNGw2IDZ2MTh6bS03LTIzaC0xMnYyMmgxOHYtMTZoLTZ2LTZ6bTEgNWg0LjU4NmwtNC41ODYtNC41ODZ2NC41ODZ6Ii8+DQogICAgICA8cmVjdCB4PSIyIiB5PSIxMyIgd2lkdGg9IjIwIiBoZWlnaHQ9IjExIiBmaWxsPSIke2NvbG9yfSI+PC9yZWN0Pg0KICAgICAgPHRleHQgZmlsbD0id2hpdGUiIHg9IjUwJSIgeT0iMTkiIGZvbnQtc2l6ZT0iNyIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC13ZWlnaHQ9ImJvbGQiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPiR7ZXh0fTwvdGV4dD4gICAgDQogICAgPC9zdmc+YDsNCiAgfSwNCn0NCg==";

// pages/ProgressBar.js

FileManager::$SOURCE['pages/ProgressBar.js'] = "KGZ1bmN0aW9uKCl7DQogIA0KDQogIC8qKiBCdWlsZCBIVE1MIHN0cmluZyB0byBIVE1MRWxlbWVudC4gSXQgbXVzdCByZXR1cm4gb25lIGVsZW1lbnQgKi8NCiAgZnVuY3Rpb24gQnVpbGQoaHRtbCl7DQogICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsNCiAgICBsZXQgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJyk7DQogICAgcmV0dXJuIGRvYy5xdWVyeVNlbGVjdG9yKCdib2R5JykuZmlyc3RFbGVtZW50Q2hpbGQ7DQogIH0NCiAgDQogIGxldCBQcm9ncmVzc0JhckNzcyA9IGANCiAgICB3ZWItZWRpdGFibGUtLXByb2dyZXNzLWJhcnsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDEzcHg7DQogICAgICBoZWlnaHQ6IDI4cHg7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogICAgfQ0KICAgIHdlYi1lZGl0YWJsZS0tcHJvZ3Jlc3MtYmFyLS13cmFwcGVyew0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgbGVmdDogMDsNCiAgICAgIHRvcDogMHB4Ow0KICAgICAgYm90dG9tOiAwcHg7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ib3JkZXItY29sb3IpOw0KICAgICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzAwMDQsICNGRkY0KTsNCiAgICB9DQogICAgd2ViLWVkaXRhYmxlLS1wcm9ncmVzcy1iYXJbc3RhdGU9c3VjY2Vzc117DQogICAgICAtLWJvcmRlci1jb2xvcjojNENBRjUwIWltcG9ydGFudDsNCiAgICB9DQogICAgd2ViLWVkaXRhYmxlLS1wcm9ncmVzcy1iYXJbc3RhdGU9ZXJyb3Jdew0KICAgICAgLS1ib3JkZXItY29sb3I6I2Y0NDMzNiFpbXBvcnRhbnQ7DQogICAgfQ0KICAgIA0KICAgIHdlYi1lZGl0YWJsZS0tcHJvZ3Jlc3MtYmFyW3N0YXRlPWxvYWRpbmddIHdlYi1lZGl0YWJsZS0tcHJvZ3Jlc3MtYmFyLS13cmFwcGVyew0KICAgICAgYW5pbWF0aW9uOiB3ZWItZWRpdGFibGUtLXByb2dyZXNzLWJhci0td3JhcHBlci1sb2FkaW5nIDJzIGxpbmVhciBpbmZpbml0ZTsgDQogICAgfQ0KICAgIA0KICAgIEBrZXlmcmFtZXMgd2ViLWVkaXRhYmxlLS1wcm9ncmVzcy1iYXItLXdyYXBwZXItbG9hZGluZ3sNCiAgICAgIDAleyB3aWR0aDowOyBsZWZ0OjA7IH0NCiAgICAgIDIwJXsgd2lkdGg6MjAlO2xlZnQ6MDsgfQ0KICAgICAgODAleyB3aWR0aDoyMCU7bGVmdDo4MCU7IH0NCiAgICAgIDEwMCV7IHdpZHRoOjA7IGxlZnQ6MTAwJTsgfQ0KICAgIH0NCg0KICAgIHdlYi1lZGl0YWJsZS0tcHJvZ3Jlc3MtYmFyLS10ZXh0ew0KICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgbGVmdDogMDsNCiAgICAgIHJpZ2h0OiAwOw0KICAgICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgcGFkZGluZzogNHB4Ow0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgb3BhY2l0eTogLjg7DQogICAgICBtaXgtYmxlbmQtbW9kZTogbHVtaW5vc2l0eTsNCiAgICAgIGZvbnQtd2VpZ2h0OmJvbGQ7DQogICAgfQ0KDQogIGANCg0KDQoNCiAgbGV0IFByb2dyZXNzQmFyU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOw0KICBQcm9ncmVzc0JhclN0eWxlLmlubmVySFRNTCA9IFByb2dyZXNzQmFyQ3NzOw0KICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKFByb2dyZXNzQmFyU3R5bGUpOw0KDQoNCg0KICAvKg0KICAqIC5zaG93KHRleHQ6c3RyaW5nfG51bGwscGVyY2VudDpudW1iZXIgfCAibG9hZGluZyIgfCAiZXJyb3IiIHwgInN1Y2Nlc3MiKQ0KICAqIC5oaWRlKCkNCiAgKi8NCiAgRmlsZU1hbmFnZXIuUHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbihtZXNzYWdlPSIiLGJvcmRlckNvbG9yPSIjNDhGIil7IC8vIHZhcigtLXdlYi1lZGl0YWJsZS1wcmltYXJ5KQ0KICAgIGxldCBlbGVtZW50ID0gQnVpbGQoYA0KICAgICAgPHdlYi1lZGl0YWJsZS0tcHJvZ3Jlc3MtYmFyIHN0eWxlPSItLWJvcmRlci1jb2xvcjoke2JvcmRlckNvbG9yfTsiPg0KICAgICAgICA8d2ViLWVkaXRhYmxlLS1wcm9ncmVzcy1iYXItLXdyYXBwZXI+PC93ZWItZWRpdGFibGUtLXByb2dyZXNzLWJhci0td3JhcHBlcj4NCiAgICAgICAgPHdlYi1lZGl0YWJsZS0tcHJvZ3Jlc3MtYmFyLS10ZXh0PiR7bWVzc2FnZX08L3dlYi1lZGl0YWJsZS0tcHJvZ3Jlc3MtYmFyLS13cmFwcGVyPg0KICAgICAgPC93ZWItZWRpdGFibGUtLXByb2dyZXNzLWJhcj4NCiAgICBgKQ0KICAgIGxldCB3cmFwcGVyID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCd3ZWItZWRpdGFibGUtLXByb2dyZXNzLWJhci0td3JhcHBlcicpOw0KICAgIGxldCB0ZXh0ICAgID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCd3ZWItZWRpdGFibGUtLXByb2dyZXNzLWJhci0tdGV4dCcpDQogICAgbGV0IGxhc3RUaW1lb3V0PW51bGw7DQogICAgZWxlbWVudC5zaG93ID0gZnVuY3Rpb24obWVzc2FnZSxwZXJjZW50LHRpbWVvdXQ9MCl7DQogICAgICBpZihwZXJjZW50ID09ICJsb2FkaW5nIil7DQogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJzdGF0ZSIsImxvYWRpbmciKQ0KICAgICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KICAgICAgICB3cmFwcGVyLnN0eWxlLndpZHRoID0gIjEwMCUiOw0KICAgICAgICB0ZXh0LmlubmVyVGV4dCA9IG1lc3NhZ2U7DQogICAgICB9ZWxzZSBpZihwZXJjZW50ID09ICJlcnJvciIpew0KICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgic3RhdGUiLCJlcnJvciIpDQogICAgICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQogICAgICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICAgIHRleHQuaW5uZXJUZXh0ID0gbWVzc2FnZTsNCiAgICAgIH1lbHNlIGlmKHBlcmNlbnQgPT0gInN1Y2Nlc3MiKXsNCiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoInN0YXRlIiwic3VjY2VzcyIpDQogICAgICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQogICAgICAgIHdyYXBwZXIuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICAgIHRleHQuaW5uZXJUZXh0ID0gbWVzc2FnZTsNCiAgICAgIH1lbHNlew0KICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgic3RhdGUiLCJwZXJjZW50IikNCiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCiAgICAgICAgd3JhcHBlci5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnR9JWA7DQogICAgICAgIHRleHQuaW5uZXJUZXh0ID0gbWVzc2FnZTsNCiAgICAgIH0NCiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheT1udWxsOw0KICAgICAgaWYobGFzdFRpbWVvdXQpIGNsZWFyVGltZW91dChsYXN0VGltZW91dCkNCiAgICAgIGlmKHRpbWVvdXQpew0KICAgICAgICBsYXN0VGltZW91dCA9IHNldFRpbWVvdXQoKCk9PmVsZW1lbnQuaGlkZSgpLHRpbWVvdXQpDQogICAgICB9DQogICAgfQ0KICAgIGVsZW1lbnQuaGlkZSA9IGZ1bmN0aW9uKCl7DQogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgfQ0KICAgIHJldHVybiBlbGVtZW50Ow0KICB9DQoNCg0KfSkoKTs=";

// pages/ModalView.css

FileManager::$SOURCE['pages/ModalView.css'] = "DQouaG92ZXIsW2hvdmVyXXtwb3NpdGlvbjpyZWxhdGl2ZTtjdXJzb3I6cG9pbnRlcjtvdmVyZmxvdzpoaWRkZW47fQ0KLmxpZ2h0LFtsaWdodF17cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVuO30NCi5pbnZlcnNlLCBbaW52ZXJzZV0ge2JhY2tncm91bmQ6IHZhcigtLWZyb250KTtjb2xvcjogdmFyKC0tYmFjayk7fQ0KDQouaG92ZXI6aG92ZXI6YWZ0ZXIsW2hvdmVyXTpob3ZlcjphZnRlciwubGlnaHQ6YmVmb3JlLFtsaWdodF06YmVmb3Jlew0KICBjb250ZW50OiIiOw0KICBwb3NpdGlvbjphYnNvbHV0ZTsNCiAgbGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7DQogIGJveC1zaGFkb3c6aW5zZXQgMCAwIDAgMTAwMHB4Ow0KICBvcGFjaXR5OjAuMjsNCn0NCg0KDQovKiBAd2ViLWVkaXRhYmxlLW1vZGFsLXZpZXcgKi8NCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldywgd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3ICogew0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICB1c2VyLXNlbGVjdDpub25lOw0KfQ0KDQp3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXcgew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIGRpc3BsYXk6IGZsZXg7DQogIHotaW5kZXg6IDEwMDAwOw0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICB3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiAxMDAlOw0KICBsZWZ0OiAwOw0KICB0b3A6IDA7DQogIGJvdHRvbTogMDsNCiAgcmlnaHQ6IDA7DQogIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgIkhlbHZldGljYSBOZXVlIiwgQXJpYWwsIHNhbnMtc2VyaWY7DQogIGZvbnQtc2l6ZTogMThweDsNCiAgbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDM7DQoNCiAgLS13ZWItZWRpdGFibGUtYmFja2dyb3VuZDojRkZGOw0KICAtLXdlYi1lZGl0YWJsZS1zZWNvbmQ6I0VFRTsNCiAgLS13ZWItZWRpdGFibGUtbWFpbjojMzMzOw0KICAtLXdlYi1lZGl0YWJsZS1wcmltYXJ5OiMyMTk2ZjM7DQoNCiAgYmFja2dyb3VuZDogdmFyKC0td2ViLWVkaXRhYmxlLWJhY2tncm91bmQpOw0KICBjb2xvcjogdmFyKC0td2ViLWVkaXRhYmxlLW1haW4pOw0KfQ0KDQoNCg0Kd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LWJhY2tncm91bmR7DQogIGJhY2tncm91bmQtc2l6ZTogY292ZXI7DQogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBsZWZ0OiAwOw0KICB0b3A6IDA7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIG9wYWNpdHk6IC4yNTsNCiAgei1pbmRleDogMDsNCn0NCg0KDQp3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXdbdGhlbWU9ZGFya117DQogIC0td2ViLWVkaXRhYmxlLWJhY2tncm91bmQ6IzAwMDsNCiAgLS13ZWItZWRpdGFibGUtc2Vjb25kOiM0NDQ7DQogIC0td2ViLWVkaXRhYmxlLW1haW46I0ZGRjsNCiAgLS13ZWItZWRpdGFibGUtcHJpbWFyeTojMjE5NmYzOw0KfQ0KDQoNCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlld1t0aGVtZT1kYXJrLXllbGxvd10gew0KICBiYWNrZ3JvdW5kOiAjMDAwIWltcG9ydGFudDsNCiAgLS13ZWItZWRpdGFibGUtYmFja2dyb3VuZDogIzAwMEE7DQogIC0td2ViLWVkaXRhYmxlLXNlY29uZDogIzQ0NDsNCiAgLS13ZWItZWRpdGFibGUtbWFpbjogI0ZGRjsNCiAgLS13ZWItZWRpdGFibGUtcHJpbWFyeTogI0ZGOTgwMDsNCiAgLS13ZWItZWRpdGFibGUtcHJpbWFyeS10ZXh0OiAjMDAwOw0KfQ0KDQovKg0Kd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3W3RoZW1lPWRhcmstc3BhY2VdIHsNCiAgYmFja2dyb3VuZDogIzAwMCFpbXBvcnRhbnQ7DQogIC0td2ViLWVkaXRhYmxlLWJhY2tncm91bmQ6ICMwMDA4Ow0KICAtLXdlYi1lZGl0YWJsZS1zZWNvbmQ6ICM0NDQ7DQogIC0td2ViLWVkaXRhYmxlLW1haW46ICNGRkY7DQogIC0td2ViLWVkaXRhYmxlLXByaW1hcnk6ICMyMTk2ZjM7DQp9DQp3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXdbdGhlbWU9ZGFyay1zcGFjZV06OmJlZm9yZSB7DQogIGJhY2tncm91bmQ6IHVybChodHRwczovL3NvdXJjZS51bnNwbGFzaC5jb20vcmFuZG9tLzEyMDB4ODAwLz9zcGFjZSk7DQogIGJhY2tncm91bmQtc2l6ZTogY292ZXI7DQogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3W3RoZW1lPWRhcmstY3VzdG9tXSB7DQogIGJhY2tncm91bmQ6ICMwMDAhaW1wb3J0YW50Ow0KICAtLXdlYi1lZGl0YWJsZS1iYWNrZ3JvdW5kOiAjMDAwQTsNCiAgLS13ZWItZWRpdGFibGUtc2Vjb25kOiAjNDQ0Ow0KICAtLXdlYi1lZGl0YWJsZS1tYWluOiAjRkZGOw0KICAtLXdlYi1lZGl0YWJsZS1wcmltYXJ5OiAjMjE5NmYzOw0KfQ0Kd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3W3RoZW1lPWRhcmstY3VzdG9tXTo6YmVmb3JlIHsNCiAgYmFja2dyb3VuZDogdXJsKCIuLi9iYWNrZ3JvdW5kLnBuZyIpOw0KICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOw0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7DQp9DQoNCg0Kd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3W3RoZW1lPWRhcmstbmlnaHRdOjpiZWZvcmV7DQogIGJhY2tncm91bmQ6IHVybChodHRwczovL3NvdXJjZS51bnNwbGFzaC5jb20vcmFuZG9tLzEyMDB4ODAwLz9jaXR5LW5pZ2h0KTsNCiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOw0KfQ0KDQoNCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlld1t0aGVtZT1saWdodC13aW50ZXJdIHsNCiAgYmFja2dyb3VuZDogI0ZGRiFpbXBvcnRhbnQ7DQogIC0td2ViLWVkaXRhYmxlLWJhY2tncm91bmQ6ICNGRkY7DQogIC0td2ViLWVkaXRhYmxlLXNlY29uZDogI0VFRTsNCiAgLS13ZWItZWRpdGFibGUtbWFpbjogIzIyMjsNCiAgLS13ZWItZWRpdGFibGUtcHJpbWFyeTogIzIxOTZmMzsNCn0NCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlld1t0aGVtZT1saWdodC13aW50ZXJdOjpiZWZvcmUgew0KICBiYWNrZ3JvdW5kOiB1cmwoaHR0cHM6Ly9zb3VyY2UudW5zcGxhc2guY29tL3JhbmRvbS8xMjAweDgwMC8/d2ludGVyKTsNCiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOw0KfQ0KKi8NCg0KLm1vbmFjby1lZGl0b3ItYmFja2dyb3VuZCAsDQoubW9uYWNvLWVkaXRvci1jb250YWluZXItY29tcG9uZW50ID4gZGl2ICwNCi5tb25hY28tZWRpdG9yLWNvbnRhaW5lci1jb21wb25lbnQgb3ZlcmZsb3ctZ3VhcmQsDQoubW9uYWNvLWVkaXRvci1jb250YWluZXItY29tcG9uZW50IC52aWV3LWxpbmVzLm1vbmFjby1tb3VzZS1jdXJzb3ItdGV4dCwNCi5tb25hY28tZWRpdG9yLWNvbnRhaW5lci1jb21wb25lbnQgLm92ZXJmbG93LWd1YXJkID4gLm1hcmdpbnsNCiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQhaW1wb3J0YW50Ow0KfQ0KDQoNClt0aGVtZT1kYXJrLWN1c3RvbV0gLm1vbmFjby1lZGl0b3ItY29udGFpbmVyLWNvbXBvbmVudCwNClt0aGVtZT1kYXJrLXNwYWNlXSAubW9uYWNvLWVkaXRvci1jb250YWluZXItY29tcG9uZW50LA0KW3RoZW1lPWRhcmstbmlnaHRdIC5tb25hY28tZWRpdG9yLWNvbnRhaW5lci1jb21wb25lbnR7DQogIHgtYmFja2dyb3VuZDojMDAwQTsNCn0NClt0aGVtZT1saWdodC13aW50ZXJdIC5tb25hY28tZWRpdG9yLWNvbnRhaW5lci1jb21wb25lbnR7DQogIHgtYmFja2dyb3VuZDojRkZGQTsNCn0NCi5tb25hY28tZWRpdG9yLWNvbnRhaW5lci1jb21wb25lbnQgPiBkaXZ7DQogIG91dGxpbmU6IG5vbmU7DQp9DQoNCi5tdGs5ICB7IGJhY2tncm91bmQ6ICNGMDA0OyB9DQoubXRrMTAgeyBiYWNrZ3JvdW5kOiAjMDNhOWY0NDQ7IH0NCi5tdGsxMSB7IGJhY2tncm91bmQ6ICNGRjAzOyB9DQoubXRrMTIgeyBiYWNrZ3JvdW5kOiAjMDBmZjAwNDQ7IH0NCi5tdGsxMyB7IGJhY2tncm91bmQ6ICNDQ2ZmMDA0NDsgfQ0KDQoNCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0taGVhZHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgaGVpZ2h0OiA1MHB4Ow0KICB3aWR0aDogMTAwJTsNCiAgZ2FwOiAxMHB4Ow0KICBwYWRkaW5nOiAwcHggMTBweDsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICB6LWluZGV4OiAxOw0KfQ0KDQp3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWljb257DQogIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgb3BhY2l0eTogMC45Ow0KICBmb250LXNpemU6MjRweDsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS10aXRsZXsNCiAgb3BhY2l0eTogMC44Ow0KICBtYXJnaW4tcmlnaHQ6MTBweDsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1tb2RhbC12aWV3LS1tZW51ew0KICBmbGV4OiAxOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDsNCiAgbWFyZ2luOjAgMTBweDsNCiAgbWFyZ2luLXJpZ2h0OjA7DQp9DQoNCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tY2xvc2V7DQogIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgd2lkdGg6IDM2cHg7DQogIGhlaWdodDogMzZweDsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICBvcGFjaXR5OiAuODsNCiAgYm9yZGVyLXJhZGl1czogMTAwJTsNCiAgZm9udC1zaXplOjEycHg7DQp9DQoNCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tY2xvc2U6aG92ZXJ7DQogIGJvcmRlcjogMnB4IHNvbGlkOw0KICBvcGFjaXR5OiAxOw0KfQ0KDQp3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXctLWJvZHl7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgZGlzcGxheTpibG9jazsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogY2FsYygxMDAlIC0gMTAwcHgpOw0KICBmbGV4OjE7DQogIHotaW5kZXg6IDE7DQp9DQoNCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tZm9vdGVyew0KICBkaXNwbGF5OiBmbGV4Ow0KICBoZWlnaHQ6NTBweDsNCn0NCndlYi1lZGl0YWJsZS0tbW9kYWwtdmlldy0tZm9vdGVyOmVtcHR5IHsNCiAgZGlzcGxheTogbm9uZTsNCn0NCi8qIyB3ZWItZWRpdGFibGUtLW1vZGFsLXZpZXcgIyovDQoNCi8qIEB3ZWItZWRpdGFibGUtLXVpICovDQoNCndlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbnsNCiAgcG9zaXRpb246cmVsYXRpdmU7DQogIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgYmFja2dyb3VuZDogdmFyKC0td2ViLWVkaXRhYmxlLXByaW1hcnkpOw0KICBjb2xvcjogd2hpdGU7DQogIHBhZGRpbmc6IDZweCAxMnB4Ow0KICBib3JkZXItcmFkaXVzOiA2cHg7DQogIGdhcDoxMHB4Ow0KICBjdXJzb3I6cG9pbnRlcjsNCiAgdHJhbnNpdGlvbjpib3gtc2hhZG93IC4yczsNCiAgZm9udC1zaXplOjE2cHg7DQogIGhlaWdodDozNHB4Ow0KfQ0KLyogT24gTW9iaWxlICovDQpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDY1MHB4KSB7DQogIHdlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbi10ZXh0ew0KICAgIGRpc3BsYXk6bm9uZTsNCiAgfQ0KfQ0KDQoNCndlYi1lZGl0YWJsZS0tdWktLWJ1dHRvbjpob3ZlcnsNCiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDBweCAycHggIzAwMDY7DQp9DQp3ZWItZWRpdGFibGUtLXVpLS1idXR0b246YWN0aXZlew0KICBib3gtc2hhZG93OiBpbnNldCAwIDAgMHB4IDJweCAjRkZGNjsNCn0NCg0KDQp3ZWItZWRpdGFibGUtLXVpLS1idXR0b24uZGlzYWJsZWR7DQogIG9wYWNpdHk6LjU7DQogIGN1cnNvcjpub3QtYWxsb3dlZDsNCn0NCg0KDQp3ZWItZWRpdGFibGUtLXVpLS1pY29uLWJ1dHRvbnsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBkaXNwbGF5OiBpbmxpbmUtZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGJvcmRlci1yYWRpdXM6IDZweDsNCiAgZ2FwOiAxMHB4Ow0KICBjdXJzb3I6IHBvaW50ZXI7DQogIHRyYW5zaXRpb246IGJveC1zaGFkb3cgLjJzOw0KICB3aWR0aDogMzRweDsNCiAgaGVpZ2h0OiAzNHB4Ow0KfQ0KDQp3ZWItZWRpdGFibGUtLXVpLS1pY29uLWJ1dHRvbjpob3ZlcnsNCiAgYmFja2dyb3VuZDogIzAwMDI7DQp9DQoNCndlYi1lZGl0YWJsZS0tdWktLWlucHV0ew0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgY29sb3I6IHZhcigtLXdlYi1lZGl0YWJsZS1tYWluKTsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0td2ViLWVkaXRhYmxlLW1haW4pOw0KICBvdXRsaW5lOiBub25lOw0KICBkaXNwbGF5OiBibG9jazsNCiAgbWluLXdpZHRoOiAyMDBweDsNCiAgY3Vyc29yOiB0ZXh0Ow0KICBwYWRkaW5nOiA1cHggMTBweDsNCiAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICBmb250LXNpemU6IDE2cHg7DQp9DQoNCndlYi1lZGl0YWJsZS0tdWktLWlucHV0OmVtcHR5OmJlZm9yZXsNCiAgY29udGVudDphdHRyKHBsYWNlaG9sZGVyKTsNCiAgb3BhY2l0eTouNzU7DQp9DQoNCndlYi1lZGl0YWJsZS0tdWktLWlucHV0OmZvY3Vzew0KICBib3JkZXItY29sb3I6dmFyKC0td2ViLWVkaXRhYmxlLXByaW1hcnkpOw0KfQ0KDQovKiMgd2ViLWVkaXRhYmxlLS11aSAjKi8NCg0KDQovKiogQGNvbnRlbnQgKi8NCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyIHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgaGVpZ2h0OiAxMDAlOw0KfQ0KDQovKiogQGFkZHJlc3MtYmFyICovDQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhcnsNCiAgaGVpZ2h0OiA0MHB4Ow0KICBtaW4taGVpZ2h0OjQwcHg7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogIG9wYWNpdHk6IDAuOTsNCiAgZm9udC1zaXplOjE2cHg7DQp9DQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhciB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tYWRkcmVzcy1iYXItaXRlbXsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBkaXNwbGF5OiBpbmxpbmUtZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIHBhZGRpbmctbGVmdDoxMHB4Ow0KICBwYWRkaW5nLXJpZ2h0OjIwcHg7DQogIGN1cnNvcjpwb2ludGVyOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWFkZHJlc3MtYmFyIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhci1pdGVtOmFmdGVyew0KICBjb250ZW50OiAiIjsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICByaWdodDogMDsNCiAgdG9wOiA1MCU7DQogIGJvcmRlci10b3A6IDJweCBzb2xpZDsNCiAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQ7DQogIHdpZHRoOiAyMHB4Ow0KICBoZWlnaHQ6IDIwcHg7DQogIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTsNCiAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgdG9wOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWFkZHJlc3MtYmFyIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1hZGRyZXNzLWJhci1pdGVtOmhvdmVyew0KICBjb2xvcjogdmFyKC0td2ViLWVkaXRhYmxlLXByaW1hcnkpOw0KfQ0KDQovKiogQGVtcHR5ICovDQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtZW1wdHkgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGxlZnQ6IDA7DQogIHJpZ2h0OiAwOw0KICB0b3A6IDA7DQogIGJvdHRvbTogMDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGZvbnQtc2l6ZTogMzJweDsNCiAgb3BhY2l0eTogLjQ7DQp9DQoNCi8qKiBAY29udGVudCAqLw0KDQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyew0KICBwb3NpdGlvbjpyZWxhdGl2ZTsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAgZmxleDoxOw0KICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDQwcHgpOw0KfQ0KDQovKiogQGRyYWdvdmVyICovDQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyLndlYi1lZGl0YWJsZS0tZHJhZ292ZXIgd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzew0KICBmaWx0ZXI6IGJsdXIoMnB4KTsNCiAgb3BhY2l0eTogLjU7DQp9DQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyLndlYi1lZGl0YWJsZS0tZHJhZ292ZXI6YWZ0ZXIgew0KICB6LWluZGV4OiAyOw0KICBjb250ZW50OiAiIjsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBsZWZ0OiAxZW07DQogIHRvcDogMWVtOw0KICByaWdodDogMWVtOw0KICBib3R0b206IDFlbTsNCiAgYm9yZGVyOiA0cHggZGFzaGVkIHZhcigtLXdlYi1lZGl0YWJsZS1wcmltYXJ5KTsNCn0NCg0KLyoqIEBpdGVtICovDQovKiogQGl0ZW0taWNvbiAqLw0KDQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbVt0eXBlPWZvbGRlcl0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbiB7DQogIGNvbG9yOiAjZmY5ODAwOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbiBpbWd7DQogIG9iamVjdC1maXQ6Y29udGFpbjsNCn0NCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLnNlbGVjdGVkIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWljb24gew0KICBjb2xvcjogd2hpdGU7DQogIGZpbHRlcjpncmF5c2NhbGUoMSk7DQp9DQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLnNlbGVjdGVkIHsNCiAgYmFja2dyb3VuZDogdmFyKC0td2ViLWVkaXRhYmxlLXByaW1hcnkpOw0KICBjb2xvcjogd2hpdGU7DQp9DQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLmN1dHRlZCB7DQogIG9wYWNpdHk6IC41Ow0KfQ0KDQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1uYW1lOmZvY3VzIHsNCiAgb3V0bGluZTogMXB4IHNvbGlkOw0KICBiYWNrZ3JvdW5kOndoaXRlOw0KICBjb2xvcjp2YXIoLS13ZWItZWRpdGFibGUtcHJpbWFyeSk7DQp9DQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLW5hbWVbY29udGVudGVkaXRhYmxlXSB7DQogIHRleHQtb3ZlcmZsb3c6IHVuc2V0IWltcG9ydGFudDsNCiAgb3V0bGluZToxcHggc29saWQ7DQp9DQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlc3sNCiAgb3ZlcmZsb3cteTogYXV0bzsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lcltzaG93LWRldGFpbHM9ZmFsc2VdIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlc3sNCiAgd2lkdGg6MTAwJTsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gew0KICBkaXNwbGF5OiBpbmxpbmUtZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgd2lkdGg6MTAwcHg7DQogIG92ZXJmbG93OmhpZGRlbjsNCiAgcGFkZGluZzo2cHg7DQogIG1hcmdpbjo2cHg7DQogIGJvcmRlci1yYWRpdXM6IDZweDsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbiB7DQogIGZvbnQtc2l6ZTo0OHB4Ow0KICBkaXNwbGF5OmZsZXg7DQp9DQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1jb250YWluZXJbdmlldy1tb2RlPWdyaWRdIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLW5hbWUgew0KICBmb250LXNpemU6IDEycHg7DQogIGxpbmUtaGVpZ2h0OiAxLjU7DQogIG1hcmdpbi10b3A6IDRweDsNCiAgd2hpdGUtc3BhY2U6IHByZTsNCiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogIHdpZHRoOiAxMDAlOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHdoaXRlLXNwYWNlOiBicmVhay1zcGFjZXM7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIGhlaWdodDozNnB4Ow0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tc2l6ZXsNCiAgZGlzcGxheTpub25lOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tZGF0ZXsNCiAgZGlzcGxheTpub25lOw0KfQ0KDQoNCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9bGlzdF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gew0KICBkaXNwbGF5OiBpbmxpbmUtZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgcGFkZGluZzogNHB4IDZweDsNCiAgd2lkdGg6IDI0MHB4Ow0KICBmb250LXNpemU6IDE0cHg7DQogIGdhcDogMTBweDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBtYXJnaW46IDZweDsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9bGlzdF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tbmFtZSB7DQogIHdoaXRlLXNwYWNlOiBwcmU7DQogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICBvdmVyZmxvdzogaGlkZGVuOw0KICBmbGV4OjE7DQp9DQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyW3ZpZXctbW9kZT1saXN0XSB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1pY29uIHsNCiAgZGlzcGxheTppbmxpbmUtZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgZm9udC1zaXplOjMwcHg7DQp9DQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyW3ZpZXctbW9kZT1saXN0XSB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1kYXRlew0KICBkaXNwbGF5Om5vbmU7DQp9DQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyW3ZpZXctbW9kZT1saXN0XSB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1zaXplIHsNCiAgZm9udC1zaXplOiAxMnB4Ow0KICBvcGFjaXR5OiAuNTsNCn0NCg0KDQoNCg0KDQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLW5hbWUgew0KICAgIGdyaWQtYXJlYTp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1uYW1lOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lciB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1pY29uIHsNCiAgICBncmlkLWFyZWE6d2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbjsNCn0NCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1jb250YWluZXIgd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tZGF0ZSB7DQogICAgZ3JpZC1hcmVhOndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWRhdGU7DQp9DQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tZmlsZXMtY29udGFpbmVyIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLXNpemUgew0KICAgIGdyaWQtYXJlYTp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1zaXplOw0KfQ0KDQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1jb250YWluZXJbdmlldy1tb2RlPWRldGFpbF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gew0KICBkaXNwbGF5OiBpbmxpbmUtZ3JpZDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgcGFkZGluZzogNnB4Ow0KICB3aWR0aDogMzAwcHg7DQogIGZvbnQtc2l6ZTogMTZweDsNCiAgZ2FwOiAycHg7DQogIGNvbHVtbi1nYXA6MTJweDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBtYXJnaW46IDZweDsNCiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiA0OHB4IDQ4cHggYXV0bzsNCiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAzMnB4IDEycHg7DQogIGdyaWQtdGVtcGxhdGUtYXJlYXM6ICJ3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1pY29uIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLW5hbWUgd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tbmFtZSIgIndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLWljb24gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tc2l6ZSB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1kYXRlIjsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9ZGV0YWlsXSB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1uYW1lIHsNCiAgd2hpdGUtc3BhY2U6IHByZTsNCiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIGZsZXg6MTsNCn0NCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1jb250YWluZXJbdmlldy1tb2RlPWRldGFpbF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbiB7DQogIGRpc3BsYXk6aW5saW5lLWZsZXg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGZvbnQtc2l6ZTo0OHB4Ow0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9ZGV0YWlsXSB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0taXRlbS1kYXRlew0KICBmb250LXNpemU6MTJweDsNCiAgb3BhY2l0eTouNTsNCiAgdGV4dC1hbGlnbjpyaWdodDsNCn0NCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1jb250YWluZXJbdmlldy1tb2RlPWRldGFpbF0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tc2l6ZSB7DQogIGZvbnQtc2l6ZTogMTJweDsNCiAgb3BhY2l0eTogLjU7DQogIHRleHQtYWxpZ246bGVmdDsNCn0NCg0KDQovKiogQGdyaWQtaW1hZ2UgKi8NCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZC1pbWFnZV0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gew0KICBkaXNwbGF5OiBpbmxpbmUtZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgd2lkdGg6MTAwcHg7DQogIG92ZXJmbG93OmhpZGRlbjsNCiAgcGFkZGluZzo2cHg7DQogIG1hcmdpbjo2cHg7DQogIGJvcmRlci1yYWRpdXM6IDZweDsNCn0NCg0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZC1pbWFnZV0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0taWNvbiB7DQogIGZvbnQtc2l6ZTo4MHB4Ow0KICBkaXNwbGF5OmZsZXg7DQp9DQoNCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1maWxlcy1jb250YWluZXJbdmlldy1tb2RlPWdyaWQtaW1hZ2VdIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtIHdlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1pdGVtLW5hbWUgew0KICBmb250LXNpemU6IDEycHg7DQogIGxpbmUtaGVpZ2h0OiAxLjU7DQogIG1hcmdpbi10b3A6IDRweDsNCiAgd2hpdGUtc3BhY2U6IHByZTsNCiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogIHdpZHRoOiAxMDAlOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHdoaXRlLXNwYWNlOiBicmVhay1zcGFjZXM7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIGhlaWdodDozNnB4Ow0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZC1pbWFnZV0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tc2l6ZXsNCiAgZGlzcGxheTpub25lOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWZpbGVzLWNvbnRhaW5lclt2aWV3LW1vZGU9Z3JpZC1pbWFnZV0gd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLWl0ZW0tZGF0ZXsNCiAgZGlzcGxheTpub25lOw0KfQ0KDQoNCg0KLyoqIEB3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudSAqLw0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnV7DQogIGxlZnQ6IDEwMHB4Ow0KICB0b3A6IDEwMHB4Ow0KICBwb3NpdGlvbjogZml4ZWQ7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogIHdpZHRoOiAyMDBweDsNCiAgYmFja2dyb3VuZDogdmFyKC0td2ViLWVkaXRhYmxlLWJhY2tncm91bmQpOw0KICBib3gtc2hhZG93OiAwcHggMHB4IDFweCAxcHggIzg4ODg7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgb3ZlcmZsb3c6aGlkZGVuOw0KICBmb250LXNpemU6MTVweDsNCiAgei1pbmRleDogMjsNCn0NCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0gew0KICBwYWRkaW5nOiA0cHggMTBweDsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS5kaXNhYmxlZHsNCiAgYmFja2dyb3VuZDogdmFyKC0td2ViLWVkaXRhYmxlLXNlY29uZCkhaW1wb3J0YW50Ow0KICBjb2xvcjogdmFyKC0td2ViLWVkaXRhYmxlLW1haW4pIWltcG9ydGFudDsNCiAgb3BhY2l0eTouNjsNCiAgZGlzcGxheTpub25lOw0KICAvKmN1cnNvcjpub3QtYWxsb3dlZDsqLw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbTpob3ZlciB7DQogIGJhY2tncm91bmQ6IHZhcigtLXdlYi1lZGl0YWJsZS1wcmltYXJ5KTsNCiAgY29sb3I6IHdoaXRlOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbVtmaWxlLW1hbmFnZXItLWNvbW1hbmQ9ZGVsZXRlXTpob3ZlciB7DQogIGJhY2tncm91bmQ6ICNmNDQzMzY7DQogIGNvbG9yOiB3aGl0ZTsNCn0NCndlYi1lZGl0YWJsZS0tZmlsZS1tYW5hZ2VyLS1yaWdodC1jbGljay1tZW51LWl0ZW0tdGV4dCB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0Kd2ViLWVkaXRhYmxlLS1maWxlLW1hbmFnZXItLXJpZ2h0LWNsaWNrLW1lbnUtaXRlbS10ZXh0IHN2Z3sNCiAgbWFyZ2luLXJpZ2h0OjEwcHg7DQp9DQp3ZWItZWRpdGFibGUtLWZpbGUtbWFuYWdlci0tcmlnaHQtY2xpY2stbWVudS1pdGVtLXNob3J0Y3V0IHsNCiAgZm9udC1zaXplOiAxMnB4Ow0KICBvcGFjaXR5OiAuODsNCn0NCg0KDQoNCg0KQG1lZGlhIChtYXgtd2lkdGg6NjUwcHgpICB7IA0KICAuaGlkZS1vbi1tb2JpbGUsW2hpZGUtb24tbW9iaWxlXXsNCiAgICBkaXNwbGF5Om5vbmU7DQogIH0NCg0KfQ0KQG1lZGlhIChtaW4td2lkdGg6NjUwcHgpICB7IA0KICAuaGlkZS1vbi1kZXNrdG9wLFtoaWRlLW9uLWRlc2t0b3Bdew0KICAgIGRpc3BsYXk6bm9uZTsNCiAgfQ0KfQ0K";

// pages/login.html

FileManager::$SOURCE['pages/login.html'] = "PHNjcmlwdCBzcmM9Ii8vaGFzYW5kZWxpYmFzLmdpdGh1Yi5pby9kb2N1bWVudGVyL2RvY3VtZW50ZXIuanMiPjwvc2NyaXB0Pgo8bWV0YSBjaGFyc2V0PSJ1dGY4Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgo8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPWVkZ2UiPgo8dGl0bGU+TWFzdGVyIEZpbGVNYW5hZ2VyIExvZ2luPC90aXRsZT4KCgo8aGVhZGVyIGJvZHktY2xhc3M9ImhpZGUtbWVudSB0aGVtZS1saWdodCI+CiAgPGRpdiBjbGFzcz0ic3BhY2UiPjwvZGl2PgogIDxzdmcgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjZmY5ODAwIiBkPSJNMTEgNWMtMS42MjkgMC0yLjMwNS0xLjA1OC00LTNoLTd2MjBoMjR2LTE3aC0xM3oiPjwvcGF0aD48L3N2Zz4KICBNYXN0ZXIgRmlsZU1hbmFnZXIKICA8ZGl2IGNsYXNzPSJzcGFjZSI+PC9kaXY+CiAgPGEgaWNvbi1idXR0b24gaHJlZj0iP3BhZ2U9aGVscCI+PzwvYT4KICA8c3R5bGU+CgogIC5wYW5lbHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgZ2FwOiAxMHB4OwogICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICBwYWRkaW5nOiAxZW07CiAgICBib3JkZXItcmFkaXVzOiAxZW07CiAgICBtYXgtd2lkdGg6IDMyMHB4OwogICAgd2lkdGg6IDMyMHB4OwogICAgbWFyZ2luOiAxMDBweCBhdXRvOwogICAgYm94LXNoYWRvdzogMCAwIDIwcHggIzg4ODQ7CgoKICAgIGJhY2tncm91bmQ6I0ZGRkM7CiAgICBiYWNrZHJvcC1maWx0ZXI6Ymx1cig4cHgpOwogIH0KICBtYWluewogICAgYmFja2dyb3VuZDogdXJsKC4vYmFja2dyb3VuZC5wbmcpOwogICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAgIGRpc3BsYXk6IGZsZXg7CiAgfQogIDwvc3R5bGU+CjwvaGVhZGVyPgoKCjxmb3JtIGNsYXNzPSJwYW5lbCIgYWN0aW9uPSI/cGFnZT1sb2dpbiIgbWV0aG9kPSJwb3N0Ij4KICA8c3ZnIHN0eWxlPSJ3aWR0aDogNTAlO2hlaWdodDogYXV0bzttYXJnaW46IGF1dG87IiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiNmZjk4MDAiIGQ9Ik0xMSA1Yy0xLjYyOSAwLTIuMzA1LTEuMDU4LTQtM2gtN3YyMGgyNHYtMTdoLTEzeiI+PC9wYXRoPjwvc3ZnPgogIDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OmJvbGQ7Ij48Pz0gJG1lc3NhZ2UgPz48L2Rpdj4KICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idXNlcm5hbWUiIHBsYWNlaG9sZGVyPSJVc2VybmFtZSIgdmFsdWU9Ijw/PSBpc3NldCgkdXNlcm5hbWUpID8gJHVzZXJuYW1lIDogIiIgPz4iPgogIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0icGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJQYXNzd29yZCI+CiAgPGJ1dHRvbiBidXR0b24+TG9naW48L2J1dHRvbj4KPC9mb3JtPgoKCgo=";

// pages/index.html

FileManager::$SOURCE['pages/index.html'] = "PHNjcmlwdCBzcmM9Ii8vaGFzYW5kZWxpYmFzLmdpdGh1Yi5pby9kb2N1bWVudGVyL2RvY3VtZW50ZXIuanMiPjwvc2NyaXB0Pg0KPG1ldGEgY2hhcnNldD0idXRmOCI+DQo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+DQoNCjxoZWFkZXIgYm9keS1jbGFzcz0ic2hvdy1tZW51IHRoZW1lLWRhcmsgdGFiLXN5c3RlbSI+DQogIDxkaXYgdGl0bGU9IiI+DQogICAgPGltZyBzcmM9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1XVnRJaUJvWldsbmFIUTlJakZsYlNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaVBnMEtJQ0E4Y0dGMGFDQm1hV3hzUFNJalpqRTVaRE0zSWlCa1BTSk5NVEVnTldNdE1TNDJNamtnTUMweUxqTXdOUzB4TGpBMU9DMDBMVE5vTFRkMk1qQm9NalIyTFRFM2FDMHhNM29pUGp3dmNHRjBhRDROQ2p3dmMzWm5QZz09IiAvPg0KICAgIE1hc3RlciBGaWxlTWFuYWdlcg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0ic3BhY2UiPjwvZGl2Pg0KICANCiAgPGEgYnV0dG9uIGhyZWY9ImZvbGRlci8iPvCfk4EgRm9sZGVyczwvYT4NCiAgPGEgYnV0dG9uIGhyZWY9Ij9wYWdlPWhlbHAiPvCfk5kgSGVscCBGaWxlTWFuYWdlcjwvYT4NCg0KICA8YSBpY29uLWJ1dHRvbiBocmVmPSI/cGFnZT1oZWxwIj4/PC9hPg0KICA8YSBocmVmPSI/cGFnZT1sb2dvdXQiIGljb24tYnV0dG9uPSIiIHN0eWxlPSJjb2xvcjojRjQ0IiB0aXRsZT0iT3R1cnVtdSBLYXBhdCI+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xNCAxMmgtNHYtMTJoNHYxMnptNC4yMTMtMTAuMjQ2bC0xLjIxMyAxLjU5OWMyLjk4NCAxLjczMiA1IDQuOTU1IDUgOC42NDcgMCA1LjUxNC00LjQ4NiAxMC0xMCAxMHMtMTAtNC40ODYtMTAtMTBjMC0zLjY5MiAyLjAxNi02LjkxNSA1LTguNjQ3bC0xLjIxMy0xLjU5OWMtMy40NjUgMi4xMDMtNS43ODcgNS44OTctNS43ODcgMTAuMjQ2IDAgNi42MjcgNS4zNzMgMTIgMTIgMTJzMTItNS4zNzMgMTItMTJjMC00LjM0OS0yLjMyMi04LjE0My01Ljc4Ny0xMC4yNDZ6Ij48L3BhdGg+PC9zdmc+PC9hPg0KPC9oZWFkZXI+DQoNCg0KPHN0eWxlPg0KICBodG1sew0KICAgIHBvc2l0aW9uOnJlbGF0aXZlOw0KICB9DQogIGh0bWw6YmVmb3Jlew0KICAgIGNvbnRlbnQ6IiI7DQogICAgcG9zaXRpb246YWJzb2x1dGU7DQogICAgbGVmdDowO3JpZ2h0OjA7DQogICAgYm90dG9tOjA7dG9wOjA7DQogICAgd2lkdGg6MTAwJTsNCiAgICBoZWlnaHQ6MTAwJTsNCiAgICB6LWluZGV4Oi0xOw0KICAgIGJhY2tncm91bmQ6IHVybChodHRwczovL3NvdXJjZS51bnNwbGFzaC5jb20vcmFuZG9tLzEyMDB4ODAwLz9zcGFjZSk7DQogICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgICBvcGFjaXR5Oi43Ow0KICB9DQo8L3N0eWxlPg0KIyDwn5OBIE1hc3Rlcg0KPD9waHAgDQogICRiYXNlID0gJF9TRVJWRVJbIlNDUklQVF9VUkkiXTsNCiAgLy8kYmFzZSA9IHN1YnN0cigkYmFzZSwgMCwgc3RycG9zKCRiYXNlLCIvZm9sZGVyLyIpKSAuICIvIjsNCj8+DQo8IS0tIDxzY3JpcHQgc3JjPSI8Pz0kYmFzZT8+P3BhZ2U9ZmlsZS1tYW5hZ2VyLWxpYnJhcnkiPjwvc2NyaXB0PiAtLT4NCg0KDQo8YSBidXR0b24gaHJlZj0iZm9sZGVyLyI+8J+TgSBGb2xkZXJzPC9hPg0KPGEgYnV0dG9uIGhyZWY9IiPwn5OELURvY3VtZW50YXRpb24iPvCfk4QgRG9jdW1lbnRhdGlvbjwvYT4NCjxhIGJ1dHRvbiBocmVmPSI/cGFnZT1oZWxwIj7wn5OZIEhlbHAgRmlsZU1hbmFnZXI8L2E+DQoNCmBgYHBocA0KRmlsZU1hbmFnZXI6OmlkKCkgPSA8Pz0gRmlsZU1hbmFnZXI6OmlkKCkgPz4NCmBgYA0KIyDwn5OEIERvY3VtZW50YXRpb24NCg0KIyMgRmlsZU1hbmFnZXIgaW4gSlMNCg0KYGBgaHRtbA0KJmx0O3NjcmlwdCBzcmM9Ijw/PSRiYXNlPz4/cGFnZT1maWxlLW1hbmFnZXItbGlicmFyeSI+Jmx0Oy9zY3JpcHQ+DQombHQ7c2NyaXB0Pg0KZmlsZU1hbmFnZXIgPSBGaWxlTWFuYWdlci5TZWxlY3Qoew0KICB0eXBlIDogImV4cGxvcmUiLA0KICBwYXRoIDogIi9zaXRlcyIsDQogIGNsb3NlQnV0dG9uIDogdHJ1ZSwNCiAgdGhlbWU6ICJsaWdodCIsDQogIHRpdGxlOiAiU2VsZWN0IEltYWdlIiwNCiAgbGFuZ3VhZ2U6ICJ0ciIsDQogIGhpZGVUaHVtYm5haWxGb2xkZXI6IHRydWUNCn0pDQoNCmZpbGVNYW5hZ2VyLm9uKCJkaXIiLHBhdGg9PnsgICANCiAgY29uc29sZS5sb2coInBhdGggaXMiLCBwYXRoKQ0KfSkNCmZpbGVNYW5hZ2VyLmNvbW1hbmRzLmRvd25sb2FkKCJmaWxlL3BhdGgiKQ0KZmlsZU1hbmFnZXIuY29tbWFuZHMuc2F2ZSgiZmlsZS9wYXRoLmh0bWwiLCJIZWxsbyBXb3JsZCIpDQoNCiZsdDsvc2NyaXB0Pg0KYGBgDQoNCiMjIFNlc3Npb24gaW4gUEhQDQpgYGANCiZsdDs/cGhwDQoNCnJlcXVpcmVfb25jZSggInBhdGgvdG8vZW5naW5lLnBocCIgKTsNCiRpc0xvZ2dlZCA9IEZpbGVNYW5hZ2VyOjppc0xvZ2dlZCgpOw0KDQppZigkaXNMb2dnZWQ9PTApew0KICBkaWUoICJQZXJtaXNzaW9uIERlbmllZCIgKTsNCn0NCmBgYA0KDQojIyMgUmVsYXNlIE5vdGVzIDIwMjQuMDEuMDYNCg0KKyBEb3dubG9hZCBGaXgNCisgUHJvcGVydGllcyBidXR0b24gKHNpemUgb2YpDQorIC9wYXRoL3RvL2ZvbGRlciBhZGRlZA0KKyAudHJhc2ggaWNvbiBmaXgNCisgY29sb3JpemUgYWRkZWQNCg0KIyMjIFJlbGFzZSBOb3RlcyAyMDI0LjA0LjE3DQoNCisgYWRkZWQgZG9jdW1lbnQgdG8gc2Vzc2lvbiB1c2luZw0KLSBjb3B5IHBhc3RlIG9uIGRpZmZlcmVudCBicm93c2VyIHRhYg0KLSB3aGVuIGRvd25sb2FkaW5nIG1vdmUgdG8gLy50ZW1wL3RlbXAxMjMxMjMgZmlsZSBkb3dubG9hZCBnaXZlIGRpcmVjdCBsaW5rDQoNCjw/cGhwIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvcGFnZXMnKSkgeyA/Pg0KDQojIPCfj5fvuI8gQnVpbGQNCjxhIGJ1dHRvbiBocmVmPSJtYWtlLnBocD9jbGVhbj0xIj5DbGVhbjwvYT4NCjxhIGJ1dHRvbiBocmVmPSJtYWtlLnBocCI+TWFrZTwvYT4NCg0KPD9waHAgfSA/Pg0KDQojIPCfmoAgVXBkYXRlDQo8YSBidXR0b24gaHJlZj0iP3BhZ2U9dXBkYXRlIj7wn5qAIFVwZGF0ZSA8L2E+DQpUaGlzIHdpbGwgdXBkYXRlIGZyb20gYXBwcy5hc2VuYXguY29tIG1hc3RlciB2ZXJzaW9uLg0KDQoNCiMg8J+UjCBDb25uZWN0DQoNCmBgYGpzDQo8P3BocCBldmFsKCAiPz4iIC4gRmlsZU1hbmFnZXI6OmZpbGVfZ2V0X2NvbnRlbnRzKCJwYWdlcy93ZWItZWRpdGFibGUtY29ubmVjdC1jb2RlLnBocCIpICkgOyA/Pg0KYGBg";

// pages/web-editable-connect-code.php

FileManager::$SOURCE['pages/web-editable-connect-code.php'] = "PD9waHAKJGFjdHVhbF9saW5rID0gKGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAkX1NFUlZFUlsnSFRUUFMnXSA9PT0gJ29uJyA/ICJodHRwcyIgOiAiaHR0cCIpIC4gIjovLyRfU0VSVkVSW0hUVFBfSE9TVF0kX1NFUlZFUltSRVFVRVNUX1VSSV0iOwokYWN0dWFsX2xpbmsgPSBwcmVnX3JlcGxhY2UoIi9cPy4qLyIsIiIsJGFjdHVhbF9saW5rKTsKCj8+LyogCiAgICAgICAgTWFzdGVyIENvbm5lY3Qgdi4xLjEKICAgICAgICAgICAgSW5zdGFsbGluZyAgICAgICAgICAgIAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbnBtIGkgY2hva2lkYXIgLS1sb2NhdGlvbj1nbG9iYWwKbnBtIGkgY29sb3JzIC0tbG9jYXRpb249Z2xvYmFsCm5wbSBpIG5vZGUtZmV0Y2ggLS1sb2NhdGlvbj1nbG9iYWwKbnBtIGkgZm9ybS1kYXRhIC0tbG9jYXRpb249Z2xvYmFsIAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKi8KY29uc3QgZnMgID0gcmVxdWlyZSgiZnMiKTsKY29uc3QgcGF0aCA9IHJlcXVpcmUoInBhdGgiKTsKY29uc3QgY2hva2lkYXIgPSByZXF1aXJlKCdjaG9raWRhcicpOwpjb25zdCBjb2xvcnMgPSByZXF1aXJlKCdjb2xvcnMvc2FmZScpOwppbXBvcnQoJ25vZGUtZmV0Y2gnKS50aGVuKGU9PnsgRm9ybURhdGE9ZS5Gb3JtRGF0YTsgZmV0Y2g9ZS5kZWZhdWx0OyB9KQoKY29uc3Qga2V5ID0gIjw/PUZpbGVNYW5hZ2VyOjokTE9HSU5fTkFNRT8+IjsKY29uc3QgYXBpID0gIjw/PXVybGVuY29kZSgkX0NPT0tJRVtGaWxlTWFuYWdlcjo6JExPR0lOX05BTUVdKT8+IjsKY29uc3QgdXJsID0gIjw/PSAkYWN0dWFsX2xpbmsgPz4iOwoKY29uc3QgYmFzZSA9IHBhdGguam9pbihfX2Rpcm5hbWUsInB1YmxpYyIpOwoKY29uc3QgcGFyYW1zID0gcHJvY2Vzcy5hcmd2LnNwbGljZSgyKTsKY29uc3QgcGFyYW1Gb3JjZSA9IHBhcmFtcy5zb21lKGU9PmU9PSItLWZvcmNlIik7CmNvbnN0IHBhcmFtRG93bmxvYWQgPSBwYXJhbXMuZmluZChlPT5lLnN0YXJ0c1dpdGgoIi0tZG93bmxvYWQ9IikpPy5zcGxpdCgiPSIpWzFdIHx8IG51bGw7CgpmdW5jdGlvbiBMb29wKGZuLGVuZCxzdGFydD0wKXsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpPT57CiAgICBmdW5jdGlvbiBMb29wSW4oZm4sZW5kLHN0YXJ0PTApewogICAgICBsZXQgaSA9IHN0YXJ0OwogICAgICB0cnl7CiAgICAgICAgZm4oaSkuZmluYWxseShlPT57CiAgICAgICAgICBpZihpPj1lbmQpIHJldHVybiByZXNvbHZlKCk7CiAgICAgICAgICBMb29wSW4oZm4sZW5kLGkrMSkKICAgICAgICB9KQogICAgICB9Y2F0Y2goZSl7CiAgICAgICAgaWYoaT49ZW5kKSByZXR1cm4gcmVzb2x2ZSgpOwogICAgICAgIExvb3BJbihmbixlbmQsaSsxKQogICAgICB9CiAgICB9CiAgICBMb29wSW4oZm4sZW5kLHN0YXJ0KQogIH0pCn0KCmlmKHBhcmFtRG93bmxvYWQpewogIGltcG9ydCgnbm9kZS1mZXRjaCcpLnRoZW4oZT0+eyBGb3JtRGF0YT1lLkZvcm1EYXRhOyBmZXRjaD1lLmRlZmF1bHQ7IH0pLnRoZW4oKCk9PnsKICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICBkYXRhLmFwcGVuZCgiYWN0aW9uIiwiY29tbWFuZCIpCiAgICBkYXRhLmFwcGVuZCgiY29tbWFuZCIsInRyZWUiKQogICAgZGF0YS5hcHBlbmQoImZvcmNlIiwiMSIpCiAgICBkYXRhLmFwcGVuZCgicGFyYW1ldGVycyIsRW5jb2RlKHBhcmFtRG93bmxvYWQpKQogICAgZmV0Y2godXJsLHsKICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAiQ29va2llIjoga2V5KyI9IithcGkrIjsiCiAgICAgIH0sCiAgICAgIGJvZHk6IGRhdGEsICAKICAgIH0pLnRoZW4oZT0+ZS5qc29uKCkpLnRoZW4oZT0+ewogICAgICBsZXQgZmlsZXMgPSBlOwogICAgICBpZihlLnN0YXR1cz09ImVycm9yIil7CiAgICAgICAgLy8gVE9ETyA6IERPTldMT0FEIEZJTEUgVFJZCiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8gIyBGSUxURVIgSElEREVOIEZJTEVTCiAgICAgIGUuZGF0YS5saXN0ID0gZS5kYXRhLmxpc3QuZmlsdGVyKGU9PmUuaW5kZXhPZigiXC8uIik9PS0xKQogICAgICBMb29wKGk9PnsKICAgICAgICBjb25zb2xlLmxvZyggY29sb3JzLmdyZWVuKCdkb3dubG9hZGluZyAnKSArICIoIitpKyIpICIgKyBwYXRoLmpvaW4oZS5kYXRhLnBhdGggKyAiLyIgKyBlLmRhdGEubGlzdFtpXSkucmVwbGFjZSgvXFwvZywiLyIpICk7CiAgICAgICAgLy8gVE9ETyA6IEhJRERFTiBGSUxFUyBET05UIERPV05MT0FECgogICAgICAgIGxldCBmb2xkZXIgPSBwYXRoLmRpcm5hbWUocGF0aC5qb2luKGJhc2UsZS5kYXRhLnBhdGggKyAiLyIgKyBlLmRhdGEubGlzdFtpXSkpCiAgICAgICAgaWYoZnMuZXhpc3RzU3luYyhmb2xkZXIpPT1mYWxzZSl7CiAgICAgICAgICBmcy5ta2RpclN5bmMoZm9sZGVyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KQogICAgICAgIH0KICAgICAgICBsZXQgZnVsbFVybCA9IHVybCsiP2FjdGlvbj1jb21tYW5kJmNvbW1hbmQ9ZG93bmxvYWQmcGFyYW1ldGVycz0iK0VuY29kZSggZS5kYXRhLnBhdGggKyAiLyIgKyBlLmRhdGEubGlzdFtpXSApOwogICAgICAgIHJldHVybiBmZXRjaChmdWxsVXJsLHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJDb29raWUiOiBrZXkrIj0iK2FwaSsiOyIKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlPT57CiAgICAgICAgICBjb25zb2xlLmxvZyggY29sb3JzLnJlZCgibm8gZG93bmxvYWRlZCAiKSArIHBhdGguam9pbihlLmRhdGEucGF0aCArICIvIiArIGUuZGF0YS5saXN0W2ldKS5yZXBsYWNlKC9cXC9nLCIvIikgKTsKICAgICAgICB9KS50aGVuKGY9PmYuYXJyYXlCdWZmZXIoKSkudGhlbihiPT57CiAgICAgICAgICBsZXQgbG9jYWxQYXRoID0gcGF0aC5qb2luKGJhc2UsZS5kYXRhLnBhdGgsZS5kYXRhLmxpc3RbaV0pOwogICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhsb2NhbFBhdGgsIEJ1ZmZlci5mcm9tKGIpICkKICAgICAgICAgIGZzLndyaXRlRmlsZVN5bmMoX19maWxlbmFtZSsiLmpzb24iLCBpLnRvU3RyaW5nKCkgKQogICAgICAgIH0pCiAgICAgIH0sZS5kYXRhLmxpc3QubGVuZ3RoLTEsIGZzLmV4aXN0c1N5bmMoX19maWxlbmFtZSsiLmpzb24iKSA/IHBhcnNlSW50KGZzLnJlYWRGaWxlU3luYyhfX2ZpbGVuYW1lKyIuanNvbiIpKSArIDEgOiAwICkudGhlbihlPT57CiAgICAgICAgY29uc29sZS5sb2coIGNvbG9ycy5ncmVlbignZG93bmxvYWRlZCAnKSArIGZpbGVzLmRhdGEubGlzdC5sZW5ndGggKyAiIGZpbGVzIiApOwogICAgICAgIGZzLndyaXRlRmlsZVN5bmMoX19maWxlbmFtZSsiLmpzb24iLCAiLTEiICkKICAgICAgICBwcm9jZXNzLmV4aXQoMCkKICAgICAgfSkgICAgCiAgICB9KS5jYXRjaChlPT57CiAgICAgIGNvbnNvbGUubG9nKGUpCiAgICB9KQogIH0pCn1lbHNlewogIHN0YXJ0V2F0Y2goKTsKfQoKZnVuY3Rpb24gRW5jb2RlKGNvbnRlbnQpewogIHJldHVybiBCdWZmZXIuZnJvbShjb250ZW50KS50b1N0cmluZygiYmFzZTY0IikKfQoKZnVuY3Rpb24gUGFyc2VQYXRoKGZ1bGxQYXRoKXsKICBsZXQgYmFzZVBhdGggPSBwYXRoLnJlbGF0aXZlKGJhc2UsZnVsbFBhdGgpOwogIGxldCBmaWxlTmFtZSA9IHBhdGguYmFzZW5hbWUoZnVsbFBhdGgpOwogIGxldCBiYXNlRm9sZGVyID0gcGF0aC5kaXJuYW1lKGJhc2VQYXRoKTsKICBpZihiYXNlRm9sZGVyPT0iLiIpIGJhc2VGb2xkZXI9IiIKCiAgYmFzZVBhdGggPSAoIi8iICsgYmFzZVBhdGgpLnNwbGl0KHBhdGguc2VwKS5qb2luKCIvIikKICBiYXNlRm9sZGVyID0gKCIvIiArIGJhc2VGb2xkZXIpLnNwbGl0KHBhdGguc2VwKS5qb2luKCIvIikKICBmaWxlTmFtZSA9IGZpbGVOYW1lLnNwbGl0KHBhdGguc2VwKS5qb2luKCIvIikKICByZXR1cm4ge2Jhc2VQYXRoLGJhc2VGb2xkZXIsZmlsZU5hbWV9Cn0KCnZhciBsaXN0ID0gW107CnZhciBzdGF0ZSA9IDU7CnZhciB1cGxvYWRDb3VudCA9IDA7CmZ1bmN0aW9uIFJ1bigpewogIGlmKHN0YXRlPT0wKSByZXR1cm47CiAgaWYobGlzdC5sZW5ndGg9PTApIHJldHVybjsKICAvL2lmIHNvdXJjZSBpcyBsb2NrZWQKICBmcy5vcGVuKGxpc3RbMF0uZnVsbFBhdGgsICdyJywgZnVuY3Rpb24oZXJyLCBmZCkgewogICAgaWYgKGVycikgewogICAgICBpZiAoZXJyLmNvZGUgPT09ICdFQlVTWScpIHsKICAgICAgICBjb25zb2xlLmxvZyggY29sb3JzLnllbGxvdygnbG9ja2VkICcpICsgbGlzdFswXS5mdWxsUGF0aCApOyAKICAgICAgICBzZXRUaW1lb3V0KFJ1biwxMDAwKQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzdGF0ZSA9IHN0YXRlIC0gMTsKICAgICAgbGV0IHtmdWxsUGF0aCxiYXNlUGF0aCxiYXNlRm9sZGVyLGZpbGVOYW1lfSA9IGxpc3Quc2hpZnQoKTsgICAgICAKICAgICAgCiAgICAgIGxldCBGb3JtRGF0YSA9IHJlcXVpcmUoJ2Zvcm0tZGF0YScpOwogICAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBkYXRhLmFwcGVuZCgiYWN0aW9uIiwiY29tbWFuZCIpCiAgICAgIGRhdGEuYXBwZW5kKCJjb21tYW5kIiwidXBsb2FkIikKICAgICAgZGF0YS5hcHBlbmQoInJlcGxhY2UiLCJ0cnVlIikKICAgICAgZGF0YS5hcHBlbmQoInBhcmFtZXRlcnMiLEVuY29kZShiYXNlRm9sZGVyKSkKICAgICAgZGF0YS5hcHBlbmQoInVwbG9hZFswXSIsIGZzLnJlYWRGaWxlU3luYyhmdWxsUGF0aCkgLCBmaWxlTmFtZSApCgogICAgICBsZXQgZnVsbFVybCA9IHVybCsiP2FjdGlvbj1jb21tYW5kJmNvbW1hbmQ9dXBsb2FkJnJlcGxhY2U9dHJ1ZSZwYXJhbWV0ZXJzPSIrRW5jb2RlKGJhc2VGb2xkZXIpOwogICAgICBmZXRjaChmdWxsVXJsLHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29va2llIjoga2V5KyI9IithcGkrIjsiLAogICAgICAgICAgIkNvbnRlbnQtTGVuZ3RoIjogZnMuc3RhdFN5bmMoZnVsbFBhdGgpLnNpemUKICAgICAgICB9LAogICAgICAgIGJvZHk6IGRhdGEKICAgICAgfSkudGhlbigoZSk9PmUudGV4dCgpKS50aGVuKGU9PnsKICAgICAgICBjb25zb2xlLmxvZyggY29sb3JzLmdyZWVuKCd1cGxvYWQgJykgKyAiKCIrKCsrdXBsb2FkQ291bnQpKyIpICIgKyBiYXNlUGF0aCApOwogICAgICB9KS5jYXRjaChlPT57CiAgICAgICAgY29uc29sZS5sb2coIGNvbG9ycy5yZWQoIm5vIHNhdmVkICIpICsgYmFzZVBhdGggKQogICAgICB9KS5maW5hbGx5KGU9PnsKICAgICAgICBzdGF0ZSA9IHN0YXRlICsgMQogICAgICAgIFJ1bigpOwogICAgICB9KQogICAgfQogIH0pCn0KCmZ1bmN0aW9uIEFkZChmdWxsUGF0aD0iIil7CiAgbGV0IHtiYXNlUGF0aCxiYXNlRm9sZGVyLGZpbGVOYW1lfSA9IFBhcnNlUGF0aChmdWxsUGF0aCk7CiAgaWYoIGZ1bGxQYXRoLnNwbGl0KHBhdGguc2VwKS5zb21lKGU9PmU9PSIuZ2l0IikgKXsKICAgIHJldHVybjsKICB9CiAgbGlzdC5wdXNoKHtmdWxsUGF0aCxiYXNlUGF0aCxiYXNlRm9sZGVyLGZpbGVOYW1lfSkKICBSdW4oKTsKfQoKZnVuY3Rpb24gUmVtb3ZlKGZ1bGxQYXRoKXsKICBsZXQge2Jhc2VQYXRoLGJhc2VGb2xkZXIsZmlsZU5hbWV9ID0gUGFyc2VQYXRoKGZ1bGxQYXRoKTsKICAKICBsZXQgZnVsbFVybCA9IHVybCsiP2FjdGlvbj1jb21tYW5kJmNvbW1hbmQ9cm0mZm9yY2U9MSZwYXJhbWV0ZXJzPSIrRW5jb2RlKGJhc2VQYXRoKTsKICBmZXRjaChmdWxsVXJsLHsKICAgIG1ldGhvZDogIlBPU1QiLAogICAgaGVhZGVyczogewogICAgICAiQ29va2llIjoga2V5KyI9IithcGkrIjsiCiAgICB9CiAgfSkudGhlbihlPT57CiAgICBjb25zb2xlLmxvZyggY29sb3JzLnJlZCgnZGVsZXRlICcpICsgYmFzZVBhdGggKTsKICB9KS5jYXRjaChlPT57CiAgICBjb25zb2xlLmxvZyhlKQogIH0pCn0KCmZ1bmN0aW9uIHN0YXJ0V2F0Y2goKXsKICBpbXBvcnQoJ25vZGUtZmV0Y2gnKS50aGVuKGU9PnsgRm9ybURhdGE9ZS5Gb3JtRGF0YTsgZmV0Y2g9ZS5kZWZhdWx0OyB9KS50aGVuKCgpPT57CiAgICB3YXRjaGVyID0gY2hva2lkYXIud2F0Y2goYmFzZSwge2lnbm9yZWQ6ICIuZ2l0IiwgcGVyc2lzdGVudDogdHJ1ZSxpZ25vcmVJbml0aWFsOiAhcGFyYW1Gb3JjZX0pOwogICAgd2F0Y2hlcgogICAgICAub24oJ2FkZCcsIGZ1bmN0aW9uKHBhdGgpIHsgQWRkKHBhdGgpO30pCiAgICAgIC5vbignY2hhbmdlJywgZnVuY3Rpb24ocGF0aCkgeyBBZGQocGF0aCk7fSkKICAgICAgLm9uKCd1bmxpbmsnLCBmdW5jdGlvbihwYXRoKSB7IFJlbW92ZShwYXRoKTt9KQogICAgICAub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyb3IpIHsgY29uc29sZS5lcnJvcignRXJyb3IgaGFwcGVuZWQnLCBlcnJvcik7fSkgICAgIAogIH0pCn0=";

// pages/logo.svg

FileManager::$SOURCE['pages/logo.svg'] = "PHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8cGF0aCBmaWxsPSIjZjE5ZDM3IiBkPSJNMTEgNWMtMS42MjkgMC0yLjMwNS0xLjA1OC00LTNoLTd2MjBoMjR2LTE3aC0xM3oiPjwvcGF0aD4NCjwvc3ZnPg==";

// pages/help.html

FileManager::$SOURCE['pages/help.html'] = "PHNjcmlwdCBzcmM9Ii8vaGFzYW5kZWxpYmFzLmdpdGh1Yi5pby9kb2N1bWVudGVyL2RvY3VtZW50ZXIuanMiPjwvc2NyaXB0Pg0KPG1ldGEgY2hhcnNldD0idXRmOCI+DQo8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+DQo8dGl0bGU+RmlsZU1hbmFnZXI8L3RpdGxlPg0KPGhlYWRlciBib2R5LWNsYXNzPSJzaG93LW1lbnUgdGhlbWUtbGlnaHQiPg0KICA8ZGl2IHRpdGxlPSIiPg0KICAgIDxpbWcgc3JjPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNV1Z0SWlCb1pXbG5hSFE5SWpGbGJTSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lQZzBLSUNBOGNHRjBhQ0JtYVd4c1BTSWpaakU1WkRNM0lpQmtQU0pOTVRFZ05XTXRNUzQyTWprZ01DMHlMak13TlMweExqQTFPQzAwTFROb0xUZDJNakJvTWpSMkxURTNhQzB4TTNvaVBqd3ZjR0YwYUQ0TkNqd3ZjM1puUGc9PSIgLz4NCiAgICBGaWxlTWFuYWdlcg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0ic3BhY2UiPjwvZGl2Pg0KICA8aW5wdXQgcGxhY2Vob2xkZXI9IlNlYXJjaC4uLiI+DQogIDxhIGhyZWY9ImluZGV4LnBocCI+QXBwPC9hPg0KPC9oZWFkZXI+DQoNCg0KIyDwn5OBIEZpbGVNYW5hZ2VyDQoNCmBgYGpzDQpGaWxlTWFuYWdlci5TZWxlY3QoeyB0eXBlOidmaWxlJyB9KS50aGVuKGU9PnsNCiAgY29uc29sZS5sb2coICdTZWxlY3RlZCBGaWxlIHBhdGggaXMgOicsIGVbMF0gKQ0KfSkNCmBgYA0KIyDinIUgVG9kbw0KDQorIC9tYXN0ZXIvZm9sZGVyL3Jvb3QvZmlsZS94ICAtPiBmb2xkZXIgdmlldw0KLSAvbWFzdGVyL2ZpbGUvcm9vdC9maWxlL3ggICAgLT4gZWRpdCBmaWxlIA0KLSAvbWFzdGVyL2NvZGUvcm9vdC8gICAgICAgICAgLT4gZm9yIGNvZGV2aWV3DQoNCg0KIyDinIUgVGFzaw0KDQorIFJlbW92ZSBFbmdpbmUgc29tZSBjb2Rlcw0KKyBGaWxlTWFuYWdlci5TZWxlY3QgDQorID9wYWdlPWZpbGUtbWFzdGVyJnBhdGg9L3NpdGVzL2FwcHMuYXNlbmF4IHNhYml0bGVubWVzaQ0KLSB3ZWItZWRpdGFibGUtY29ubmVjdCBjaGVjaw0KLSBDdHJsLVcgcHJvYmxlbQ0KDQojIPCflKwgVGVzdA0KDQo8YSBidXR0b24gaHJlZj0ic291cmNlL2luZGV4Lmh0bWwiPlRlc3Q8L2E+DQoNCiMg8J+ThCBEb2N1bWVudA0KDQoNCiMjIOKeoSBGcm9udEVuZA0KDQoqKmZpbGVNYW5hZ2VyLm9uKiogOiBEZXRlY3QgZmlsZU1hbmFnZXIgZXZlbnRzLg0KYGBgDQpmaWxlTWFuYWdlci5vbigiKiIsZnVuY3Rpb24oZXZlbnQsZGF0YSl7DQogIGNvbnNvbGUubG9nKGV2ZW50LGRhdGEpDQp9KQ0KDQpmaWxlTWFuYWdlci5vbigiZGlyIixmdW5jdGlvbihkYXRhKXsNCiAgY29uc29sZS5sb2coZGF0YSkNCn0pDQpgYGANCg0KDQojIyDirIUgQmFja0VuZA0KDQoqIEZpbGVNYW5hZ2VyOjpEZWZpbmVPcHRpb25zDQoqIEZpbGVNYW5hZ2VyOjpSdW5fQWxsDQoqIEZpbGVNYW5hZ2VyOjpJc0xvZ2luKCkgLT4gYm9vbA0KDQpgYGBwaHANCkZpbGVNYW5hZ2VyOjpEZWZpbmVPcHRpb25zKFsNCiAgIkJBQ0tfRU5EX0ZJTEVfTUFOQUdFUl9ST09UIiA9PiAkX1NFUlZFUlsiRE9DVU1FTlRfUk9PVCJdLicvdXBsb2FkLycsDQogICJDUkVBVEVfVEhVTUJOQUlMIiAgICAgICAgICAgPT4gdHJ1ZSwNCiAgIlRIVU1CTkFJTF9XSURUSCIgICAgICAgICAgICA9PiA2MCwNCiAgIlNIT1dfRk9MREVSX1NJWkUiICAgICAgICAgICA9PiBmYWxzZSwNCiAgIlNFQ1VSSVRZX0VOQUJMRUQiICAgICAgICAgICA9PiB0cnVlLA0KICAiU0VDVVJJVFlfU0VTU0lPTl9OQU1FIiAgICAgID0+ICd3ZWItZWRpdGFibGUtc2Vzc2lvbi10ZW1wbGF0ZScsDQogICJTRUNVUklUWV9VU0VSUyIgICAgICAgICAgICAgPT4gWyAidXNlcm5hbWUiID0+ICJwYXNzd29yZCIgXQ0KXSk7DQoNCg0KRmlsZU1hbmFnZXI6OlJ1bl9BbGwoKTsNCg0KJGxvZ2luZWQgPSBGaWxlTWFuYWdlcjo6SXNMb2dpbigpOw0KYGBgDQoNCiMjIPCfk4EgRXhhbXBsZXM=";

// pages/update.html

FileManager::$SOURCE['pages/update.html'] = "PD9waHAgDQpoZWFkZXIoIkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbiIpOw0KZWNobyAic3RhcnRpbmcgdXBkYXRpbmcuLi5cbiI7DQoNCg0KJGRvbWFpbiA9ICRfU0VSVkVSWydTRVJWRVJfTkFNRSddOw0KaWYoc3Vic3RyKCRkb21haW4sMCw0KT09Ind3dy4iKSAkZG9tYWluID0gc3Vic3RyKCRkb21haW4sNCk7DQogIA0KDQppZigkZG9tYWluPT0iYXBwcy5hc2VuYXguY29tIiB8fCAkZG9tYWluPT0ibWFzdGVyLmFzZW5heC5jb20iKSB7DQogIGVjaG8gIlRoaXMgaXMgbWFzdGVyISI7DQogIGV4aXQoKTsNCn0NCg0KDQoNCmVjaG8gImRvd25sb2FkaW5nIGh0dHBzOi8vYXBwcy5hc2VuYXguY29tL21hc3Rlci9nZXQtdXBkYXRlcy5waHBcbiI7DQoNCiRkYXRhID0gZmlsZV9nZXRfY29udGVudHMoImh0dHBzOi8vYXBwcy5hc2VuYXguY29tL21hc3Rlci9nZXQtdXBkYXRlcy5waHAiKTsNCiRkYXRhID0gIGpzb25fZGVjb2RlKCAkZGF0YSwgdHJ1ZSApOw0KDQoNCmlmKCRkYXRhKXsgDQogIGVjaG8gImRvd25sb2FkZWQgIGh0dHBzOi8vYXBwcy5hc2VuYXguY29tL21hc3Rlci9nZXQtdXBkYXRlcy5waHBcbiI7IA0KfQ0KDQplY2hvICI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4iOw0KZm9yZWFjaCgkZGF0YSBhcyAkcGF0aD0+JGNvZGUpew0KICBmaWxlX3B1dF9jb250ZW50cyhfX0RJUl9fLiIvIi4kcGF0aCwkY29kZSk7ICANCiAgZWNobyAi8J+ThCAkcGF0aCBcbiI7IA0KfQ0KDQo/Pg0KVVBEQVRFRCDinIU=";